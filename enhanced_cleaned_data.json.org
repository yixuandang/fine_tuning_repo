[
    {
        "title": "[RONCFPSD-516] TM-TC - Issue on DROP4",
        "description": "1) I have take DROp4 for testing2) Install RFS and CFS as per the procedure provided.3) Now I have to install DLM and TM-TC packages.4) I have copied DLM-SVC tar file to /opt/ncs/packages and /var/opt/ncs/packages with <ssh> <ssh> config in ncs.conf, as mentioned in the atatchment5) Now I have added TM-TC packages of Drop4 to /opt/ncs/packages and /var/opt/ncs/packages and sudo NCS_RELOAD_PACKAGES=force /etc/init.d/ncs restart6) Now when I add devices from CW with LSA - setting as round robin7) devices added in the RFS-1 and RFS-18) When sync the devices, in RFS, sync-from was successful.9) But when I do sync-from in CFS, I am getting tm-tc error on device as mentioned in the snapshot.",
        "comments": " we discussed over webex and conclude it as setup issue. After deleting plans from rfs-1/rfs2 node it was sync properlyHi Sathys, If we remember, we have removed the TM-TC instance(CE-A and CE-B) to upblock the testing. this instance error got created when we import devices from CW. we need to see why we are getting sync issue once we upload the devices. Now setup is fixed from TM-TC and from TSDN(VAN), so will try installation on DTHO build: 1. Devices onboarded though rfs1/rfs2 need to sync-from from cfs to update the dispatch map data structure2. If cfs sync-from performed after provisioning services/plan in rfs node, cfs node will reportillegal reference as pre-requisite step missed.created which is having the fix related toncs-6.1.2-cisco-tm-tc-fp-cfs-ned-1.0.tar.gz ;ncs-6.1.2-cfs-cisco-tm-tc-fp-6.0.0-35.tar.gz in CFS node "
    },
    {
        "title": "[RONCFPSD-270] Defect:CSCwb70885 ",
        "description": "Tried to verify defect CSCwb70885 with attached configuration, Device node with single homing doesnt pushes leaf configuration. Looks like the resolution is not available in M6. Would you please help confirm.NSO:10.195.165.75 - xrd1/xrd1",
        "comments": " Hi AjithaAs discussed over the call, Regi has sent the mail where we had the discussion regarding the etree leaf configuration.Please let us know if you see any issues here.Thanks,NikhilThanks for the Clarification. Kindly close the ticketClarified the doubt user was having."
    },
    {
        "title": "[RONCFPSD-264] TSDN 3.0 to 4.0 upgrade fails",
        "description": "Existing setup NCS 5.5.2.9 with TSDN 3.0 RC upgrade to TSDN 4.0 M6 Upgrade fails. Followed the wiki, and in step 5, start of NCS 5.7.3 , NCS fails with following error message CDB: Upgrade failed: Upgrade transaction failed to validate: illegal reference /cisco-flat-L2vpn-fp:flat-L2vpn{L2NM-3-srpeb-pec-internal}/flat-L2vpn-p2p/local-site/pe</ul>Setup : 172.20.63.189 - cnctest/Ovatest123@",
        "comments": "Duplicate of "
    },
    {
        "title": "[RONCFPSD-502] System Installation",
        "description": "Not able to operate nso CLI in system installation 10.56.58.39 root/Public1234!",
        "comments": "Submitter confirmed resolved."
    },
    {
        "title": "[RONCFPSD-258] Provisioning service on XRD throws \"External error in the NED implementation\"",
        "description": "Hi-Provisioning service on XRD throws below error message. we didn't see this issue on M5 ; everything works fine on xrd setup, but in M6 config is not pushing to the devices.Setup detailsCW - 172.24.97.142NSO- 172.24.97.147Fri May 13 17:16:38 IST 2022:DEBUG: << \" \"error-message\": \"External error in the NED implementation for device xrd-6: config exclusive: config exclusiveFri May 13 11:46:30.782 UTC\"\"admin@ncs> show devices listNAME ADDRESS DESCRIPTION NED ID ADMIN STATE--------------------------------------------------------------------------------TB3-P-BOTTOMLEFT 172.27.226.53 - cisco-iosxr-cli-7.39 unlockedTB3-P-BOTTOMRIGHT 172.27.226.54 - cisco-iosxr-cli-7.39 unlockedTB3-P-TOPLEFT 172.27.226.51 - cisco-iosxr-cli-7.39 unlockedTB3-P-TOPRIGHT 172.27.226.52 - cisco-iosxr-cli-7.39 unlockedTB3-PE-A 172.27.226.55 - cisco-iosxr-cli-7.39 unlockedTB3-PE-B 172.27.226.56 - cisco-iosxr-cli-7.39 unlockedTB3-PE-C 172.27.226.57 - cisco-iosxr-cli-7.39 unlockedTB3-PE-D 172.27.226.93 - cisco-iosxr-cli-7.39 unlockedTB3-PE-E 172.27.226.94 - cisco-iosxr-cli-7.39 unlockedxrd-1 192.168.5.17 - cisco-iosxr-cli-7.39 unlockedxrd-2 192.168.5.18 - cisco-iosxr-cli-7.39 unlockedxrd-3 192.168.5.19 - cisco-iosxr-cli-7.39 unlockedxrd-4 192.168.5.20 - cisco-iosxr-cli-7.39 unlockedxrd-5 192.168.5.21 - cisco-iosxr-cli-7.39 unlockedxrd-6 192.168.5.22 - cisco-iosxr-cli-7.39 unlockedxrd-7 192.168.5.23 - cisco-iosxr-cli-7.39 unlockedxrd-8 192.168.5.24 - cisco-iosxr-cli-7.39 unlocked",
        "comments": "Hi-We are completely blocked from validating the ELAN/ETREE test cases on the XRD setup, I request to please look into the issue as a priority. Setup details are listed below.CW - 172.24.97.142NSO- 172.24.97.147XRD VM- 172.27.226.62XRD devices - xrd-1- xrd-8Hi Ragesh,XRD is not currently supported or tested device. Please check the CFP SFS to find the list of devices we support.thanks,NipaHi Ragesh,Can we setup a call to re-create this error with trace logs enabled?It would make it easier to debug and create a RT on the NED team if required.ThanksSahithiClosing the loop. Issue on the device. It is due to inconsistent config on XRD. Once the inconsistency was cleared, config push is working fine.Below is the commandRP/0/RP0/CPU0:xrd-2#config exclusiveTue May 17 03:08:02.251 UTCThis SDR's running configuration is inconsistent with persistent configuration.No configuration commits for this SDR will be allowed until a 'clear configuration inconsistency' command is performed.RP/0/RP0/CPU0:xrd-2(config)#exitRP/0/RP0/CPU0:xrd-2#clear configuration inconsistencyTue May 17 03:08:21.215 UTCNot a CFP issue. Issue with the XRD device. Once the device was cleared. Service was working fine."
    },
    {
        "title": "[RONCFPSD-63] L2NM EVPN service stuck in provisioning state in XE setup",
        "description": "Provisioned an L2NM EVPN service from CAT UI and the service is stuck in provisioning state. The following error seen in NSO UI. Should we send notification to CNC so the provisioning can fail instead of stuck?Service Alarm : /cisco-flat-L2vpn-fp-internal-local-site:flat-L2vpn-internal-local-site-service{L2NM-L2VPN_NM-EVPN-VPWS-SRTE-230-internal ASR920-1-PE7}: Python cb_validate error. STATUS_CODE: TSDN-L2VPN-408REASON: Router NED not supportedCATEGORY: userSEVERITY: ERRORContext [name = Router NED not supported: cisco-ios-cli-6.74:cisco-ios-cli-6.74, message = Missing dynamic device mapping",
        "comments": "Any updates?Had a webex meeting with the reporter.For the mentioned error seen on the NSO , dynamic-device-mappings was missing for `cisco-ios-cli-6.74. Corrected the same.Payload for the bootrap configuration for the dynamic mappings `L2VPN-multi-vendor-iosxe-cli.xml` is mentioned in the following wiki . L2VPN EVPN service type is not supported for IOSXE. Please refer to the device support matrix for more details: Regarding Failure notification not received in this failure case , reporter will file CDET .CSCvz40738 opened to track the issue."
    },
    {
        "title": "[RONCFPSD-77] PCC Init SRv6 Policy Creation is failing",
        "description": "Trying to create an SRv6 policy and its failing with below, this is directly from NSO UI as I had a similar issue on CNC UI too (CW build is 196).Method failedmessage: RPC error towards dev6R1: unknown_element: ns2:sr/ns1:traffic-engineering/ns1:policies/ns1:policy/ns1:candidate-paths/ns1:preferences/ns1:preference/ns1:path-infos/ns1:path-info/ns1:hop-type",
        "comments": "Software version on the device is 7.3.2.33I , NSO version is 5.5.2.7 with M5dev6R1<rpc xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\"   message-id=\"1\"> <edit-config xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\">  <target>   <candidate/>  </target>  <test-option>test-then-set</test-option>  <error-option>rollback-on-error</error-option>  <config>   <sr xmlns=\"http://cisco.com/ns/yang/Cisco-IOS-XR-segment-routing-ms-cfg\">    <traffic-engineering xmlns=\"http://cisco.com/ns/yang/Cisco-IOS-XR-infra-xtc-agent-cfg\">     <policies>      <policy>       <policy-name>srte_c_602_ep_2001:db8:b:0:1::6</policy-name>       <srv6>        <enable/>        <locator>         <binding-sid-type>srv6-dynamic</binding-sid-type>         <locator-name>CW</locator-name>         <behavior>ub6-insert-reduced</behavior>        </locator>       </srv6>       <candidate-paths>        <preferences>         <preference>          <path-index>100</path-index>          <path-infos>           <path-info>            <type>dynamic</type>            <hop-type>mpls</hop-type>            <segment-list-name>dynamic</segment-list-name>            <metric>             <metric-type>igp</metric-type>            </metric>            <pcep/>           </path-info>          </path-infos>         </preference>        </preferences>       </candidate-paths>       <policy-color-endpoint>        <end-point-type>end-point-type-ipv6</end-point-type>        <color>602</color>        <end-point-address>2001:db8:b:0:1::6</end-point-address>       </policy-color-endpoint>      </policy>     </policies>    </traffic-engineering>   </sr>  </config> </edit-config></rpc>admin@ncs> show configuration devices device dev6R1address  172.188.188.81;ssh {  host-key ssh-dss {authgroup device;device-type {  netconf {    ned-id cisco-iosxr-nc-7.3;  }}state {  admin-state unlocked;}Version 7.3.2.33I is not supported on M5.Please refer the Release Notes Doc below:As discussed , verified on 7.3.2.37i works fine for hop-type mpls. Thank you, Sujay and Sahithi, Just a follow-up Q - are we only supporting theversion listed per M5 or M6? or can I upgrade to the newest version like for M6 we're saying 37I but can I go to 38I or 39I of XR? or only 37I will be supportedif any issue?To the follow up question, we only support the versions which are qualified and tested with said release.Thanks,Regi"
    },
    {
        "title": "[RONCFPSD-106] ODN template with SRv6 enable takes only one locator name",
        "description": "Not sure if I have missed anything for ODN template with multiple headend over SRv6. For example, I have an ODN (color 70) with 2 headends: PE-A and PE-B. Enable srv6, the locator-name takes only one value.I created an L3VPN uses the above ODN template. There are 2 policies for color 70. The one with locator-name assigned is in Oper UP state. The other one, both admin and oper states are Down.If this is the design for SRv6 support, should we validate if \"SRv6\" is enabled, we should not allow multiple headends configured in ODN template?",
        "comments": "Hi Crystal, I don't think you could use same approach (multi nodes on one SR-ODN) SRv4 ODN for SRv6 ODN since SRv6 ODN locator is different for each node. The work around is one SRv6 ODN per node.You might ask for an enhancement for this issue.Thanks,LinhHi Crystal,Please file a cdets for this issue.Thanks,LinhCSCvz96624 raised to track the issue.Hi Linh,After a webex session with Sujay and Arun, I have closed the CDETS with following comment:Got clarification from Arun. The current model is OK. If user wants to create an SRv6 ODN template with multiple headend nodes. The locator name should be configured the same on all the headend nodes. Thanks.-CrystalThere is work around for this"
    },
    {
        "title": "[RONCFPSD-112] Error While adding service to LSA NSO ",
        "description": "unable to create service with the error: Python cb_validate error. STATUS_CODE: TSDN-L2VPN-408REASON: Router NED not supportedCATEGORY: userSEVERITY: ERRORContext [name = Router NED not supported: cisco-iosxr-nc-7.3:cisco-iosxr-nc-7.3, message = Missing dynamic device mapping",
        "comments": "Hi Reem,We found some more config was not listed in the Installation Wiki; therefore, missed while doing bootstrap. We loaded all xml files under/home/nso552/nso-5.5.2.7-tsdn-bundle-3.0.0-M6-43/tsdn-lsa-cfs/init_data/xml/ instead of relying on the Wiki. Your system is working properly now.We will for sure scrutinize the installation wiki for M1 release.Hi Reem ,We have added the configs and re-synched with the RFSs. Your system is now working fine with L2 NM service payload that you shared. We will update the wiki by M1 release time.Please confirm if the system is working as expected and we could close this ticket.hey Nishad, yes i can add services to the setup , this issue was resolved"
    },
    {
        "title": "[RONCFPSD-88] Y1731-Profile-",
        "description": "on y1731 Profile, under delay-params , we have version attribute with version 0 and version 1.In device , it configures  cfm-delay-measurement for version 1 and  cfm-delay-measurement-version-0 for version 0.version-0 related configuration is provided as part of backward compatibility support for the customers who migrate from 4.3.X IOS XR version to the latest version.AA ( service Health) has the minimum entry criteria of device version is IOS XR 7.X. do we have any specific requirement to give the support for version 0 for service Health?",
        "comments": "Hi Arun,As per my discussion with AA team :No, Service Health does not have any special requirement on version 0.SH supports same device matrix as supported by CNCThanksPriyankaThanks for confirming."
    },
    {
        "title": "[RONCFPSD-489] NSO Restored data not reflected in CNC",
        "description": "Setup - 10.195.165.75 - xrd1/xrd1Tested in build NSO 6.1 M8Login to CNC/NSO create a service 'abc'.Take NSO backup.Delete service 'abc'.Create service 'def'.Restore NSO backup.Backup reflected in NSO properly. i.e , 'abc' present, 'def not present.But CNC still shows old entry 'def' and doesnt show 'abc'.Looks like a defect. Kindly suggest.",
        "comments": "Hi Ajitha,NSO backup was taken after creation of abc and before deletion of abc and creation of def as per the order mentioned.When backup is restored, NSO should have just abc since that was when the snapshot of db was taken in backup.No additional comments received from Ajitha. Closing the ticket as resolved.No additional comments received from Ajitha. Closing the ticket as resolved."
    },
    {
        "title": "[RONCFPSD-462] L2VPN te mapping odn route policy assignment requires vpn profiles - discrepancy from previous release",
        "description": "Hi team,As per attached service, device config mapping should take route policy, but NSO requires vpn-profiles mapping. Kindly suggest.",
        "comments": "Hi Ajitha,This step is required when we move route-policy to latest RFC yang. We also noted it the wiki.Regards,LinhThanks Linh for quick response. Just for understanding, This wasnt the case in previous model isnt it?It is additional step that you need to add route-policy to vpn-profile after creating it-Linh"
    },
    {
        "title": "[RONCFPSD-304] CFP ISSUE : TSDN-3.0.0 VERSION: The issue for TSDN package to provision SRV6 policy on IOSXR devices",
        "description": "CFP ISSUE : .0.0 VERSION: The issue for TSDN package to provision SRV6 policy on IOSXR devices",
        "comments": "Responded on the original BEMS ticketThe SR status code bootstrap data was missing in the setup and hence the error. Closing the ticket."
    },
    {
        "title": "[RONCFPSD-310] Multiple Zombie Cleaning",
        "description": "Hi Team,Please help to clarify if there is any zombie clean up cmd other than re-deploying the zombie service.This is mainly required in the scenarios where there are 100's of zombie services in the NSO.Would also like to know more on the following:to enable auto cleanup run following command from NSO CLI config modecommit-queue-recovery-data auto-cleanup truecommit",
        "comments": "Hi Dinesh ,There is no option to clean up multiple zombies at once.Regarding commit-queue-recovery-data auto-cleanup true : When a device is down and this flag is set to true, on deletion of device from the service, all data pertaining to this device will be removed automatically using no-networking.This means user has to take care of device config cleanup on the device.Thanks And Regards,Nishad Subair.Thanks for the clarification."
    },
    {
        "title": "[RONCFPSD-476] CW TSDN CFP Migration support for LSA-HA",
        "description": "Currently the above Wiki has Migration of TSDN from 4.4 to 5.0 for CW platform is only written for NON-HA LSA, but the steps in the wiki should be supported for LSA-HA scenario also. Abe Tan and  Isaac Kim (Isaakim). knows the context",
        "comments": "LSA-HA testing currently underway. Will finalize LSA-HA upgrade wiki after TSDN 5.0 and RON 2.1 M7 release.Spoke to Rao and gave update on LSA-HA 4.x to 5.0. and will circle back on this topic next time. Agreed that we will provide link to the finalized upgrade wiki once done. Received the OK to close this ticket.Adding link to the LSA-Ha upgrade procedure."
    },
    {
        "title": "[RONCFPSD-338] Need info on ned id to use for Circuit Style policy",
        "description": "I have installed image in our NSO which supports Circuit Style SR policy but it resulted in attached error while trying to provision the CS policy.Kindly help us here.CS NSO package: The ned in the running-config in nso device is as follows,device-type netconf ned-id cisco-iosxr-nc-7.3I presume it is tested in 7.8.1.My device is installed with 7.8.1.22I.Kindly let me know how to fix it.",
        "comments": "Hi Naveen,Please provide the NSO setup details , so that we can check the set up.Regards,Nishad SubairHi Nishad,The NSO setup details are as follows,IP : 172.27.226.119 (nso/Vtsisco@123!)Thanks,NaveenHI Naveen,Currently as per the setup , you device ned-id is cisco-iosxr-nc-7.3.admin@ncs% show devices device xrv9k-23 device-typenetconf { ned-id cisco-iosxr-nc-7.3;}For Circuit Style Policy , for Netconf , only 7.8 NED is supported . Please update to Netconf 7.8 or XR CLI 7.39.Regards,NishadHi Nishad,Can you please share the steps to update NED.Thanks,NaveenHi Naveen,I updated the NED in the set up.Please verify and update.Regards,NishadHi Nishad,It looks like it is not updated for xrv9k-25 device.Can you please update for other devices as well or kindly let me know the steps to do it.I tried below command but resulted in error,admin@ncs% request devices device xrv9k-25 migrate new-ned-id cisco-iosxr-nc-7.8    Error: 'devices device xrv9k-25 config memory_status_config' : ERROR: Threshold values are not matching condition: minor < severe < criticalAs discussed , the device ned is updated to 7.8 and test case is working fine."
    },
    {
        "title": "[RONCFPSD-339] Plan getting delayed in NSO after deploying Scale services",
        "description": "Hi,we have NSO LSA setup with below resources.CFS:24 Cores, 132 GB of RAM, and 1TB of HDRFS1:24 Cores, 132 GB of RAM, and 1TB of HDRFS2: 24 Cores, 132 GB of RAM, and 1TB of HDwe have 44 devices managed totally and, RFS1 has 23 devices and RFS2 has 21 devices.as of today, we have 18k services configured.the last batch had 1780 services configured with 5 concurrent users to 5 different devices pairs.L2vpn Evpn with SR policies confiugred using Crosswork Proxy API. It is Patch request.we see that the services are committed to devices much early, but the plan complete is getting delated to 3 to 4 hours. Becuase of this, in CW, we see the service state show \"in-progress\" and goes to success state only after the plan complete message.but plan complete is getting delayed by 3 to 4 hours.attached snapshots. In snapshots, the device output for the services up create time shows 3 hours ago., but plan complete is stayed grey in NSO. Thanks,Arun.M.G",
        "comments": "Since this is scale NSO server, Setup details are not shared. Please ping me and i will provide setup details to use as Read -only purpose.showtech at 172.29.106.130( nso/Cwork123!)/home/nso/logs/.7.6-Services-getting-delayed-ScaleHi , Can you please remove the unused NED packages (mostly all the Netconf NED packages) from server and try to run the test?Hi sanithi,we have followed the steps as in confluence . and customer will be having all NEDs.we are seeing slowneed in reporting the plan completed is getting delayed by hours after 35k services scale. we configured 3k services ( l2vpn evpn ) across 6 different endpoints and the provision of services completed in 4 hours. But the plan completed after 9 hours for all the 3k services from the time of provisioning completed.if needed , we can have join debugging., this seems to be an issue. Thanks,Arun.M.GHave raised CDETS CSCwd26703 to track thisCDET still in 'W' state."
    },
    {
        "title": "[RONCFPSD-311] Unable to delete a service from NSO UI - commit manager got stuck ",
        "description": "Was able to delete one service (L2), the service was removed from NSO as well as CNC - the next delete of another L2 service got stuck - CNC shows 'in progress' and NSO UI got stuck.CNC: 10.194.63.244 (cw-admin/Cwork123!)NSO: 10.194.63.180 (nso/Vtsisco@123!)",
        "comments": "Hi Quy, I will post some of the suggested comments we discussed on chat here again for future reference.So for your situation, you can follow this error recovery flow in our wiki : For cleanup action you will have to refer to our detailed wiki.For exampleSR-TE Policy cleanup action : L2NM cleanup action : There will be examples of how to execute in these sections.Thanks,Isaac KimThere is leftover services showing in CNC UI but NSO shows they are removed. Recommended to consult CNC UI team.Used clean up action which is specified in the wiki as mentioned by Isaac. The clean up is present in Wiki. Please refer to Wiki whenever the delete is stuck."
    },
    {
        "title": "[RONCFPSD-477] RSVP Tunnel Optimization metric can be configured differently under each Primary paths in NSO but in device its single entry",
        "description": "RSVP Tunnel Optimization metric can be configured differently under each Primary paths in NSO but in device its single entrySetup - 10.195.165.90 - xrd1/xrd1",
        "comments": "Hi Ajitha,It seems a validation to restrict one metric-type among all primary paths is expected and currently missing. Could you please confirm if that's the case/expected behavior?Thanks,LinmaoExpectation is to move Metric type outside each Primary path.right now NSO CFP pushes like below,path-option 1 dynamic <Path selection metric type/ optimization metric 2>Path-option 2 dynamic <Path selection metric type/ optimization metric 2>Instead of actual device config which is,path selection metric typepath-option 1 dynamicpath-option 2 dynamicBut as you suggested , the validation can achieve the same result too.Kindly suggest to track it with defectAs discussed,CSCwe47354 is opened and we will also have an internal ticket for this issue so closing this ticket now."
    },
    {
        "title": "[RONCFPSD-463] Updating L3 RP with custom template doesn't update the device configs",
        "description": "Hi Team,I have a L3 VPN service, with router policy attached. I am trying to update the route-policy to add custom-template as extra-policy in L3 route-policy.While doing so, only L3-route-policy but doesn't push the changes to the devices where this policy is being used.Dry-run output:     l3vpn-routing-policy {   policy-definitions {     policy-definition L3VPN_NM-SRv6-ODN-xrv9k-PE4 {       statements {         statement stmnt1 {           actions {+            apply-policy {+              extra-policy [ RP-FOR-COMMUNITY ];+            }           }         }       }     }   } }Can someone help.Thanks,Kanchan",
        "comments": "As discussed over the webex, attaching the required details.extra-policy on the device:route-policy l3-ep1 if destination in (1.1.1.1/32) then  set extcommunity color COLOR_101 endifend-policy Issues seen: 1. Delete dry-run not showing the configs that is getting pushed to the device2. Instead of appending the extra policy, old policy is being replaced with new one (screenshot attached)Hi Kanchan,As discussed , please try adding the extra policy as a separate statement for it to be appended to the existing policy.Regards,Nishad SubairHi Nishad,I updated my payload and it works when I add it as another statement.But still other issue is seen \"Delete dry-run not showing the configs that is getting pushed to the device\"Let me know what is expected here.Thanks,KanchanHi Kanchan,As discussed in the webex , as you are updating just the l3vpn Route Policy as a separate transaction(and the l3 service is not updated), dry-run will not show the device config changes.Please suggest if this ticket can be closed.Thanks,Nishad Subair.Thanks for the explanation Nishad. You can close the ticket.As discussed as per the details mentioned in the ticket , closing the same."
    },
    {
        "title": "[RONCFPSD-305] cluster with RFS down because of netconf",
        "description": "Created cluster setup with 1 CFS, 1 RFS. CFS is showing RFS as down in 'show cluster'. netconf log file says \"netconf error from netconf agent 172.20.63.148:2022: transport closed\"i can connect to RFS node ip from CFS using port 2022.setup : 172.20.63.133 - CFS172.20.63.148 - RFScnctest/Ovatest123@",
        "comments": "Hi Ramakrishnan,After adding cnctest@ncs% show cluster device-notifications | display setset cluster device-notifications enabledThe cluster is up NAME  NAME         STATUS LAST EVENT         NOTIFICATIONS-------------------------------------------------------------------------------rfs-1 device-notifications up   0000-01-01T00:00:00-00:00 0REMOTE                 LOCAL  REMOTENODE  ADDRESS    PORT CHANNELS USER   USER   STATUS TRACE---------------------------------------------------------------------------rfs-1  172.20.63.148 2022 -     cnctest cnctest up   disabledThanks,LinhThank you for fixing this issue. Is this command mandatory. Does this need to be added to CFS install guide ? i havent done this step earlier and brought up the cluster.Hi Ramakrishnan, Originally the error \"netconf error from netconf agent 172.20.63.148:2022: transport closed\" because you don't have ssh-algorithm configured in /etc/ncs/ncs.conf. Please add this ssh-algorithms to your RFS setup to resolve this error messageAbout the device notification setting question, it is optionalI will close ticket in few days if I don't receive your response.Thanks,Linh"
    },
    {
        "title": "[RONCFPSD-488] NSO HA  - with 1 Primary 1 Secondary - Bringing down Master node - Provisioning allowed only if both nodes are up",
        "description": "In NSO HA, Reboot Primary/Master node. Other node took the role of Primary/Master.Even then, Provisioning from CNC is possible only after the rebooted node comes back up and takes \"Secondary\" role.192.168.133.105 - admin/Cnc@1234 Master 192.168.133.112 , Secondary - 192.168.133.203, VIP - 192.168.133.202 - xrd1/xrd1",
        "comments": "Hi Ajitha,Per NSO-HA guide , this is an expected behavior:If you still have a question regarding this issue, lets have a discussion.Left a message to Ajitha if she still needs clarification and help with this expected behavior.Spoke to Ajitha and agreed we could close the ticket."
    },
    {
        "title": "[RONCFPSD-89] Y1731- Delay Params has Delay-Type of \"delay-variation\" and \"Both\"",
        "description": "NSO: 5.5.2.7CFP: TSDN 3.0.0 M6.Attached snapshot.Y1731 profile delay-params has Delay-type of \"Delay\", \"Delay variation\" and \"Both\"we tried configuring with Delay-variation and Both.it doesn have any difference in pushing the config for Delay, Delay-variation and Both,.tried for XR devices.can you please help to understand what it is realted to?",
        "comments": "Hi Arun,for future releases we have planned to remove these configs. We do mention that this only applies for XE in description/tail-info -> \"Delay type. Only applicable for Cisco XE devices.\"So, it will be removed from global Y-1731-ProfileHope this clears your query.ThanksPriyanka As discussed offline, it is understood that this is for XE devices.but, will be removed for future releases for XR and there is plan to to address it seperately for XE devices.ThanksFor future it will be addressed separately for XE .ThanksPriyanka"
    },
    {
        "title": "[RONCFPSD-113] Error while provisioning services - NSO 5.5.2.9 - M7 - Python cb_validate error. 'Container' object has no attribute 'interfaces' STATUS_CODE: TSDN-L2VPN-409 REASON: Dynamic class method for device not found CATEGORY:",
        "description": "Hi,NSO: 10.56.116.240 (nso/Public1234!) version: 5.5.2.9 M7. This server was working fine with real devices previously.Deleted all old devices and loaded a new topology in CNC. Got Devices added to NSO alsoall went fine. but while trying to configure , facing error as attached.attached error message.attached payloads.",
        "comments": " Hi,NSO: 10.56.116.240 (nso/Public1234!)version: 5.5.2.9 M7.This server was working fine with real devices previously.Deleted all old devices and loaded a new topology in CNC. Got Devices added to NSO alsoall went fine. but while trying to configure a service ( l2vpn p2p ) , facing error as attached.attached error message.attached payloads.Please provide all the information mentioned (device type/version , logs ) in the release notes: when testing is that when an interface in no shut and there is no description. Then show run will not show and NSO wouldn't have this interface in NSO.the interfaces which was listing and in shutdown also having the same issue. It throws error while provisioning services for that interface. when the interface is configured with no-shut with some description ., after sync-from, payload is working to provision the services.Had debug with Linh and found the below things which was added in previous comment.As confirmed with the reporter , issue is fixed after updating the interface and doing the sync-from ."
    },
    {
        "title": "[RONCFPSD-107] NSO CFP Upgrade(M5 to M6) is failing on Scale Setup",
        "description": "NSO version: 5.5.2.7CFP build version: M5Device type and version used for testing: XR and sheerAdd clear steps to reproduce an issue:Upgrading CFP from M5 to M6remove old status codesstop ncsrm old packages(M5) from /var/opt/ncs/packagescopy new packages(M6) to /var/opt/ncs/packageschange the ncs.conf for M6start ncs</ul>All relevant payloads.: NAPlan status where relevant.NSO logs: Error Screen is attached. Generating Logs on NSO is not creating the file.",
        "comments": " NSO Setup details:172.20.63.189 (cnctest/Ovatest123@)Note: There are existing services on this NSO, if I revert it back to M5, NSO comes up again.it took serveral hours but ncs service came up even it showed timeout error earlier. Is there a timeout constraint for scale. Before starting NSO after the upgrade, have you added --ignore-initial-validation to the start scriptStart NSO with package reload + force flag + --ignore-initial-validation Please check the below steps1. sudo /etc/init.d/ncs stop2. Add --ignore-initial-validation flag as shown below in start() functionsudo vi /etc/init.d/ncs=========================......start() {    echo -n $\"Starting $prog: \"    . $ncsdir/ncsrc    NCS_CONFIG_DIR=${confdir}    NCS_RUN_DIR=${rundir}    NCS_LOG_DIR=${logdir}    export NCS_CONFIG_DIR NCS_RUN_DIR NCS_LOG_DIR    $ncs --cd ${rundir} ${heart} ${conf}    RETVAL=$?    echo<ol>\t<li>[ $RETVAL = 0 ] ;; touch /var/lock/subsys/ncs    return $RETVAL}......==========================Change it to==========================......start() {    echo -n $\"Starting $prog: \"    . $ncsdir/ncsrc    NCS_CONFIG_DIR=${confdir}    NCS_RUN_DIR=${rundir}    NCS_LOG_DIR=${logdir}    export NCS_CONFIG_DIR NCS_RUN_DIR NCS_LOG_DIR    $ncs --cd ${rundir} ${heart} ${conf} --ignore-initial-validation    RETVAL=$?    echo</li>\t<li>[ $RETVAL = 0 ] ;; touch /var/lock/subsys/ncs    return $RETVAL}......==========================</li></ol>3. Reload systemdsudo systemctl daemon-reload4. Request package reloadsudo NCS_RELOAD_PACKAGES=force /etc/init.d/ncs start5. Change the script back to original6. Reload systemdsudo systemctl daemon-reloadYes I added the flag. 1) stopped old NSO2) copied new ncs.conf and new packages3) added the flag3) restarted NSOfrom my config:start() {    echo -n $\"Starting $prog: \"    . $ncsdir/ncsrc    NCS_CONFIG_DIR=${confdir}    NCS_RUN_DIR=${rundir}    NCS_LOG_DIR=${logdir}    export NCS_CONFIG_DIR NCS_RUN_DIR NCS_LOG_DIR    $ncs --cd ${rundir} ${heart} ${conf} --ignore-initial-validation    RETVAL=$?    echo<ol>\t<li>[ $RETVAL = 0 ] ;; touch /var/lock/subsys/ncs    return $RETVAL}</li></ol>Time taken to upgrade is dependent on the size of the CDB.20GB -> 11 hours to upgrade.Current CDB size 14 GB. Estimating approximately 8-9 hours for the upgrade."
    },
    {
        "title": "[RONCFPSD-76] Migrate to Netconf NED - Sync-from/COnnect throws error \"Device ASR9006-SDN-85 does not have a Network Element Driver registered\"",
        "description": "Hi,I had my devices added with CLI NED cisco-iosxr-cli-7.33 .I wanted to migrate my devices having 7.3.2.37I and 7.4.1 to respective NEDs.7.3.2.37I --> cisco-iosxr-nc-7.3 7.4.1 --> cisco-iosxr-nc-7.4 tried below command and Migrated,request devices device ASR9006-SDN-85 migrate new-ned-id cisco-iosxr-nc-7.3 no-networking But after migration, i am facing error \"Device ASR9006-SDN-85 does not have a Network Element Driver registered\" for ync-from/COnnect / check-sync.Attached snapshot.",
        "comments": "can we get update on this ?You are getting this error because the migration is done to different device-type.Migration of NED only changes ned-id and will migrate data. Does not effect the device-type.Your current device would have device-type cli with a netconf NED which is not registered under CLI.This would result in \"Device ... does not have a Network Element Driver registered\".The use case tried is not supported on the platform."
    },
    {
        "title": "[RONCFPSD-62] NSO upgrade from M9 to latest possible ? ",
        "description": "I have one of the NSO with 200K VPN services (L2 ; L3VPN) which we used it for testing previous COE2.0 release. It is on M9 (172.20.63.190; cnctest/Ovatest123@) version. Is it possible to upgrade it to latest current version without disturbing the existing VPN services ?  OR due to changes in current code, this is not possible ? Could you please suggest a better and recommended option here. ",
        "comments": "Upgrade from CNC 2.0 M9 release to CNC 3.0 M5 release is not supported as there are backwards incompatible model changes from M9 to M13. There is an additional NBC change for L2NM from CNC 2.0 to 3.0 captured here (point 11): We recommend installation of M5 release to create services for 3.0 scale testing.Thanks for info !! So the real time customers on CNC 2.0 cannot migrate/upgrade to current latest release ? Even they need to go for fresh install ? What is the recommended plan for them ? Upgrade is supported for TSDN Core Function Pack. Please refer to our wiki for upgrade from 2.0 to 3.0.There was no requirement to support upgrade for sample function packs as they are customizable by CX and/or customers."
    },
    {
        "title": "[RONCFPSD-259] Upgrade from 3.0 RC to 4.0.0 M6 support",
        "description": "Hi Team,I have an NSO with 300K VPN services and it's having 3.0 FCS version. i.e TSDN 3.0.0 RC and NSO version - 5.5.2.9. Query is :- can this be upgraded to 4.0.0 M6 by following the steps at \"https://confluence-eng-sjc1.cisco.com/conf/display/NSOCoreFP/TSDN+4.0.0+<del><ins>M6</ins>+</del>+CFP+Upgrade+from+3.0+to+4.0\" ?  And we should have all the 300K VPN services intact with no issue i.e Should be able to use them even after upgrade. NSO - 172.20.63.190 (cnctest/Ovatest123@)Could you please check and confirm on this upgrade support.Thanks,Sreedhar.",
        "comments": "This is of high priority and am awaiting for your inputs. Could you please help prioritize this.Waiting for the inputs, Could you give high priority to this please.Hello, we have completed updating the wiki and run a test through. The tests were successful, please proceed.Please confirm if this ticket may be closed.Upgrade failed with this error message in ncs.log<CRIT> 19-May-2022::05:38:00.363 cnc-scale-nso2 ncs: - CDB: Upgrade failed: Upgrade transaction failed to validate: illegal reference /cisco-flat-L2vpn-fp:flat-L2vpn{L2NM-3-srpeb-pec-internal}/flat-L2vpn-p2p/local-site/pesetup : 172.20.63.189 - cnctest/Ovatest123@Hello Ramakrishna, We are solving your queries with upgrade on ticketPlease post your comments and queries on the ticket raised by you above.Closing this ticket since the query about wiki being accurate on this ticket has been completed. Thank you.Made updates to wiki regarding Migration steps.Closing this ticket since the query about wiki being accurate on this ticket has been completed. Thank you."
    },
    {
        "title": "[RONCFPSD-265] NSO upgrade fails",
        "description": "Existing setup NCS 5.5.2.9 with TSDN 3.0 RC upgrade to TSDN 4.0 M6 Upgrade fails. Followed the wiki, and in step 5, start of NCS 5.7.3 , NCS fails with following error message.Raised ticket , but marked as Duplicate. this setup now has python3, python pointing to python3.8. Still this CRIT message is seen after NSO restart.Setup : 172.20.63.189 - cnctest/Ovatest123@ This is a different setup than .ncs.log:<CRIT> 23-May-2022::02:11:26.505 cnc-scale-nso2 ncs: - CDB: Upgrade failed: Upgrade transaction failed to validate: illegal reference /cisco-flat-L2vpn-fp:flat-L2vpn{L2NM-3-srpeb-pec-internal}/flat-L2vpn-p2p/local-site/pe",
        "comments": "Hi Ramakrishnan,From the error, it seems that device that used l2vpn service are not there. I searched for 'request device lsa dispatch-map sync' in audit.log after you brought in lsa package. I did not see you apply that.To me, you should do the upgrade from fresh again since the data is corrupted now. You did used a wrong python version originally.Also I saw this setup have swap size is too small compare to the memory $ free -h       total    used    free   shared buff/cache  availableMem:      129G    3.1G     96G    128M     29G    125GSwap:     6.0G     0B    6.0GThe swap size should be the same size of RAM memoryPlease fix this issue before you run upgrade again.Note: NSO upgrade should be in maintenance mode ( no northbount calls and logs should not in trace mode). Otherwise it could effect the performanceThanks,LinhI tried deleting the devices only through ncs_cli. \"no device Node_*\" , and \"commit\"Hello Rama, because there is no crash log from NSO upon crash, we suspect that the process was immediately killed for some reason. Maybe due to resource overload or some other system related cause. To verify NSO's capability in this scenario,our QA team has cloned your CDB and executed a bulk device delete (all devices) and NSO did not crash despite taking 1 hour 15 minutes for the delete to complete. For consistency, they have run through this scenario two times and encountered no crash.QA has recommended to try to switch to different vm and esxi. At this point we believe NSO crash is related to system, not NSO itself.Please let me know if this recommendation works. If not, we can discuss further!Thanks,Isaac KimWhen i delete device (bulk) as such, NSO return the prompt after 1 hour, plus few minutes. Only when commit is issued, i see the crash. Did they try with commit as well?Hi Rama, I apologize for the late update.I have been able to reproduce your crash upon commit. We have tried to look for the source of crash, but there is no evidence in any system logs or NSO crash dump logs.In this case, I will be creating a platform ticket so that the platform team can take a look. Once the ticket is raised, I will update this comment section.Thanks,Isaac KimHi Rama, I have filed the ticket with platform team with reproduction setup. I will update you if we hear back from them.Thanks,Isaac KimHi Rama, apologies for the late reply.The NSO platform team have found two relevant issues in regards to the bulk delete NSO crash issue. Both have been fixed starting NSO 5.5.3 and NSO 5.7.4.Because this issue stems from resource overload (combination of host system and NSO causing crash), the workaround for TSDN 3.0 is to delete devices in batches (commit each batch).Thanks,Isaac Kim"
    },
    {
        "title": "[RONCFPSD-503] How to find the location of system install",
        "description": "According to documentation it is possible to override the location of system install (to something different from default /opt/opt/ncs).Question is - how can we know what is the location of the installation in that case? ",
        "comments": "hey!Except what Idan ask ,i have also question on this issue.in the screen shot from the documentation that Idan attached here, it's possible to override the location of run-dir also.how can i know what is the location of the run-dir?Thanks!Hi Idanyou can find the location in your installed NCS executable script as below.```ncsdir=/opt/ncs/currentconfdir=/etc/ncsrundir=/var/opt/ncslogdir=/var/log/ncs```The above variables change if there is custom installation"
    },
    {
        "title": "[RONCFPSD-517] NSO upgrade from 6.1 to 6.1.2",
        "description": "As part of SH 5.0 to 6.0 upgrade testing, I tried to upgrade NSO from 6.1 to 6.1.2 on one of our dev setups and ran into some issues.Dev setup details : NSO on that setup : 172.20.200.129 admin/Cwork123!Version before upgrade : ncs-6.1_230221.150848350.3bab70b88811I have powered off CW VMS as part of the process. I followed the steps mentioned in guide() for NSO upgrade and ran into below errorsroot@nso-cluster2:/opt/ncs/downloads# /etc/init.d/ncs stopStopping : connection refused (stop).root@nso-cluster2:/opt/ncs/downloads# /etc/init.d/ncs start-with-package-reloadStarting : NCS package upgrade failed with reason 'User java class \"com.tailf.pkg.upgrade.UpgradeService\" exited with status 1'Daemon died status=13I tried to start nso without package-reloadroot@nso-cluster2:/home/admin# /etc/init.d/ncs startStarting : CDB: Upgrade failed: Upgrade transaction failed to validate: application communication failureHint: Try using staged start using ConfD start-phases or the --ignore-initial-validation optionDaemon died status=13 Can someone please help me debug the issue and proceed further",
        "comments": "Hi, I can see you are missing the \"--ignore-initial-validation\" flag in your init.d ncs.In the upgrade wiki, this step is called \"5. Perform NSO startup with package reload force with \"--ignore-initial-validation\" flag\".Please try this step and let us know if that works.Thanks,Isaac Kim"
    },
    {
        "title": "[RONCFPSD-271] NSO upgrade fails",
        "description": "Existing setup NCS 5.5.2.9 with TSDN 3.0 RC upgrade to TSDN 4.0 M6 Upgrade fails. Followed the wiki, and in step 5, start of NCS 5.7.3 , NCS fails with following error message.Raised ticket , but marked as Duplicate. this setup now has python3, python pointing to python3.8. Still this CRIT message is seen after NSO restart.Setup : 172.20.63.189 - cnctest/Ovatest123@ This is a different setup than .ncs.log:<CRIT> 23-May-2022::02:11:26.505 cnc-scale-nso2 ncs: - CDB: Upgrade failed: Upgrade transaction failed to validate: illegal reference /cisco-flat-L2vpn-fp:flat-L2vpn{L2NM-3-srpeb-pec-internal}/flat-L2vpn-p2p/local-site/pe",
        "comments": "I tried deleting the devices only through ncs_cli. \"no device Node_*\" , and \"commit\"Hello Rama, because there is no crash log from NSO upon crash, we suspect that the process was immediately killed for some reason. Maybe due to resource overload or some other system related cause. To verify NSO's capability in this scenario,our QA team has cloned your CDB and executed a bulk device delete (all devices) and NSO did not crash despite taking 1 hour 15 minutes for the delete to complete. For consistency, they have run through this scenario two times and encountered no crash.QA has recommended to try to switch to different vm and esxi. At this point we believe NSO crash is related to system, not NSO itself.Please let me know if this recommendation works. If not, we can discuss further!Thanks,Isaac KimWhen i delete device (bulk) as such, NSO return the prompt after 1 hour, plus few minutes. Only when commit is issued, i see the crash. Did they try with commit as well?Hi Rama, I apologize for the late update.I have been able to reproduce your crash upon commit. We have tried to look for the source of crash, but there is no evidence in any system logs or NSO crash dump logs.In this case, I will be creating a platform ticket so that the platform team can take a look. Once the ticket is raised, I will update this comment section.Thanks,Isaac KimHi Rama, I have filed the ticket with platform team with reproduction setup. I will update you if we hear back from them.Thanks,Isaac KimHi Rama, apologies for the late reply.The NSO platform team have found two relevant issues in regards to the bulk delete NSO crash issue. Both have been fixed starting NSO 5.5.3 and NSO 5.7.4.Because this issue stems from resource overload (combination of host system and NSO causing crash), the workaround for TSDN 3.0 is to delete devices in batches (commit each batch).Thanks,Isaac Kim"
    },
    {
        "title": "[RONCFPSD-298] XTC is not synced with the NSO & seeing the below error message.",
        "description": "Hi-XTC is not synced with the NSO ; seeing the below error message on the LSA setup.admin@ncs(config-device-TB2-P-TOPRIGHT)# sync-fromresult falseinfo RPC error towards TB2-P-TOPRIGHT: operation_failed: for ns1:nacm: 'YANG framework' detected the 'fatal' condition 'Operation failed'admin@ncs(config-device-TB2-P-TOPRIGHT)#Credentials :admin/Vtsisco@123!CFS -10.194.63.169RFS1- 10.194.63.170RFS2- 10.194.63.242Crosswork- 10.194.63.198",
        "comments": "Hi Ragesh,We checked the setup and found that the deviceTB2-P-TOPRIGHT version is7.7.1.15I whereas the 7.7 netconf supports the cisco-iosxr-nc-7.7.1.32I version.Please use the 7.7.1.32I version device to have it working properly with NSO 7.7 NC.For now, we have updated the device_type forTB2-P-TOPRIGHT ascli{ned-id cisco-iosxr-cli-7.39} to unblock the issue.Thanks,NikhilClosing the ticket as invalid since the user onboarded the wrong device version for 7.7 netconf. Suggested the user to onboard the correct device version or use it as a cli."
    },
    {
        "title": "[RONCFPSD-501] Possible bug in T-SDN FP 5.0 code",
        "description": "Ive found this problem in the RON Brussels lab ( its a Cisco lab).KeyError: '{pe1_Vodafone} not in /ncs:devices/device'Heres my report::: CNC packages in the Lab ::ncs-6.1-cisco-flat-L3vpn-fp-internal-5.0.0.tar.gzncs-6.1-cisco-tsdn-core-fp-common-5.0.0.tar.gzncs-6.1-custom-template-utils-2.0.13.tar.gzncs-6.1-ietf-l3vpn-nm-5.0.0.tar.gz:: NSO Version ::6.1:: Problem ::Error when updating a l3vpn-ntw vpn-services vpn-service:<ERROR> 26-May-2023::10:47:30.877 ietf-l3vpn-nm ncs-dp-51986-ietf-l3vpn-nm:main:10-7-th-774054: - '{pe1_Vodafone} not in /ncs:devices/device'Traceback (most recent call last): File \"/opt/ncs/ncs-6.1/src/ncs/pyapi/ncs/application.py\", line 875, in wrapper  pl = fn(self, tctx, op, kp, root, proplist) File \"/var/opt/ncs/state/packages-in-use/1/core-fp-common/python/core_fp_common/instrumentation.py\", line 151, in wrapper_instrument_service  result = func(*args, **kwargs) File \"/var/opt/ncs/state/packages-in-use/1/ietf-l3vpn-nm/python/ietf_l3vpn_nm/ietf_l3vpn_nm_nano_plan.py\", line 327, in cb_post_modification  device_cq_details = is_cq_enabled(self, root, File \"/var/opt/ncs/state/packages-in-use/1/cisco-tsdn-core-fp-common/python/cisco_tsdn_core_fp_common/utils.py\", line 229, in is_cq_enabled  get_device_cq_details(root, device_cq_details, devices) File \"/var/opt/ncs/state/packages-in-use/1/cisco-tsdn-core-fp-common/python/cisco_tsdn_core_fp_common/utils.py\", line 241, in get_device_cq_details  per_device_cq = root.ncs__devices.device.commit_queue.enabled_by_default File \"/opt/ncs/ncs-6.1/src/ncs/pyapi/ncs/maagic.py\", line 1177, in _<em>getitem</em>_  raise KeyError('%s not in %s' % (keystr, self._path))KeyError: '{pe1_Vodafone} not in /ncs:devices/device':: Investigation ::The device name is pe1\u2026 but the code is using the component naming <DEVICE>_<VPN_NETWORK_ACCESS_ID>, pe1_Vodafone in the xpath expression.This happens when doing a CQ flag check in the post modification callback.Image:: Steps to reproduce the problem ::1) Connect to RON Brussels lab ( Its a Cisco lab)ssh ncsadmin@10.48.188.21Cisco!1232) Create a new l3vpn-ntw vpn-services vpn-serviceService Payloadl3vpn-ntw vpn-services vpn-service Vodafonevpn-instance-profiles vpn-instance-profile 1 rd 0:10:1 address-family ipv4  vpn-targets vpn-target 1  route-targets 0:100:100  !  route-target-type both  ! !!vpn-nodes vpn-node pe1 active-vpn-instance-profiles vpn-instance-profile 1 ! vpn-network-accesses vpn-network-access Vodafone_100  interface-id FourHundredGigE0/0/0/1  connection encapsulation type dot1q  connection encapsulation dot1q cvlan-id 100  ip-connection ipv4 local-address 172.16.100.151  ip-connection ipv4 prefix-length 24 !!!3) Try to update the service:l3vpn-ntw vpn-services vpn-service Vodafone vpn-instance-profiles vpn-instance-profile 1 rd 0:10:2",
        "comments": "Hi Paulo,This issue is because of the \"_\" present in the vpn_network_access id. The component in this case becomes \"pe1_Vodafone_100\". The code is not properly handling the underscore when getting the device name from this component.We already identified the issue internally and have made changes to the code to handle such situations.The updated code would be released as part of .0 release.Thanks,NikhilThe updated code would be released as part of .0 release."
    },
    {
        "title": "[RONCFPSD-267] 409 error code in L2vpn and L3vpn cnc policy creation",
        "description": "While creating l2vpn/l3vpn policies via API, for eg : l2vpn_untagged_rsvp_R1_R10 we are getting 409 error code.Steps followed :1. Creating rsvp tunnel2. verified TSDN CFP data3. creating l2vpn service with below payload -Create L2VPN Payload is :{\"ietf-l2vpn-ntw:vpn-service\": {\"vpn-nodes\": {\"vpn-node\": [{\"vpn-node-id\": \"R1\", \"ne-id\": \"R1\", \"te-service-mapping\": {\"te-mapping\": {\"te-tunnel-list\": {\"te-tunnel-id\": \"77\"}}}, \"signaling-options\": [{\"type\": \"vpn-common:t-ldp\", \"t-ldp-pwe\": {\"ac-pw-list\": [{\"peer-addr\": \"6.1.1.10\", \"vc-id\": \"1\"}]}}], \"vpn-network-accesses\": {\"vpn-network-access\": [{\"id\": \"3334\", \"Interface-mtu\": \"9000\", \"connection\": {\"encapsulation-type\": \"vpn-common:untagged-int\", \"untagged-interface\": {\"untagged\": {\"physical-inf\": \"GigabitEthernet0/0/0/3\"}, \"l2-access-type\": \"vpn-common:untagged-int\"}}}]}}, {\"vpn-node-id\": \"R10\", \"ne-id\": \"R10\", \"te-service-mapping\": {\"te-mapping\": {\"te-tunnel-list\": {\"te-tunnel-id\": \"78\"}}}, \"signaling-options\": [{\"type\": \"vpn-common:t-ldp\", \"t-ldp-pwe\": {\"ac-pw-list\": [{\"peer-addr\": \"6.1.1.1\", \"vc-id\": \"10\"}]}}], \"vpn-network-accesses\": {\"vpn-network-access\": [{\"id\": \"3334\", \"Interface-mtu\": \"9000\", \"connection\": {\"encapsulation-type\": \"vpn-common:untagged-int\", \"untagged-interface\": {\"untagged\": {\"physical-inf\": \"GigabitEthernet0/0/0/3\"}, \"l2-access-type\": \"vpn-common:untagged-int\"}}}]}}]}, \"vpn-id\": \"L2vpn_tldp_R1_R10_untagged_rsvp\", \"vpn-svc-type\": \"vpn-common:t-ldp\"}}338: URI: 339: Requested Post URL : ,4. verified TSDN CFP data5. while verifying L2vpnService plan data, getting this error :356: Get L2VPN Service Plan Status :L2vpn_tldp_R1_R10_untagged_rsvp357: URL: 358: 409359: Error occurred: Failed with 409 code and {\"errors\":{\"error\":[{\"error-type\":\"application\",\"error-tag\":\"data-missing\",\"error-info\":\"Failed to lookup prefix ncs\",\"error-message\":\"Data Not Found\"}]}} data360: Exception in Getting service plan data : Failed with 409 code and {\"errors\":{\"error\":[{\"error-type\":\"application\",\"error-tag\":\"data-missing\",\"error-info\":\"Failed to lookup prefix ncs\",\"error-message\":\"Data Not Found\"}]}} data361: ERROR occurred in Creation of L2VPN Service: Exception in Getting service plan data362: The result of section createService is => FAILEDLog for same :Can someone please check on the issue.Setup details :CW ip : 172.29.128.241 (admin/Cwork123!)Thanks,Meenakshi",
        "comments": "Hi MeenakshiPlease provide NSO setup and the service payload that has the issue. I would like to debug on NSO side.Thanks,LinhNSO LSA setup details :ssh kafka@172.23.247.43 (jumphost)nso-rfs -> admin@10.11.0.150 nso-cfs -> admin@10.11.0.153And this is the service payload :336: create_l2vpn_service: Creating l2vpn service337: Create L2VPN Payload is :{\"ietf-l2vpn-ntw:vpn-service\": {\"vpn-nodes\": {\"vpn-node\": [{\"vpn-node-id\": \"R1\", \"ne-id\": \"R1\", \"te-service-mapping\": {\"te-mapping\": {\"te-tunnel-list\": {\"te-tunnel-id\": \"77\"}}}, \"signaling-options\": [{\"type\": \"vpn-common:t-ldp\", \"t-ldp-pwe\": {\"ac-pw-list\": [{\"peer-addr\": \"6.1.1.10\", \"vc-id\": \"1\"}]}}], \"vpn-network-accesses\": {\"vpn-network-access\": [{\"id\": \"3334\", \"Interface-mtu\": \"9000\", \"connection\": {\"encapsulation-type\": \"vpn-common:untagged-int\", \"untagged-interface\": {\"untagged\": {\"physical-inf\": \"GigabitEthernet0/0/0/3\"}, \"l2-access-type\": \"vpn-common:untagged-int\"}}}]}}, {\"vpn-node-id\": \"R10\", \"ne-id\": \"R10\", \"te-service-mapping\": {\"te-mapping\": {\"te-tunnel-list\": {\"te-tunnel-id\": \"78\"}}}, \"signaling-options\": [{\"type\": \"vpn-common:t-ldp\", \"t-ldp-pwe\": {\"ac-pw-list\": [{\"peer-addr\": \"6.1.1.1\", \"vc-id\": \"10\"}]}}], \"vpn-network-accesses\": {\"vpn-network-access\": [{\"id\": \"3334\", \"Interface-mtu\": \"9000\", \"connection\": {\"encapsulation-type\": \"vpn-common:untagged-int\", \"untagged-interface\": {\"untagged\": {\"physical-inf\": \"GigabitEthernet0/0/0/3\"}, \"l2-access-type\": \"vpn-common:untagged-int\"}}}]}}]}, \"vpn-id\": \"L2vpn_tldp_R1_R10_untagged_rsvp\", \"vpn-svc-type\": \"vpn-common:t-ldp\"}}Password is same for all the devices mentioned : Cwork123! I used postman to push the payloads to your CFS and it works fineadmin@ncs> show l2vpn-ntw vpn-services vpn-service-plan L2vpn_tldp_R1_R10_untagged_rsvp plan | tab                                                                        POST                       BACK     STATUS                                        ACTIONTYPE                  NAME TRACK GOAL CODE  STATE                   STATUS  WHEN         ref STATUS--------------------------------------------------------------------------------------------------------------------------------------------------------self                  self false -   -    init                    reached 2022-05-26T21:12:09 -  -                                 ready                   reached 2022-05-26T21:12:24 -  -ietf-l2vpn-ntw-nano-services:vpn-node R1  false -   -    init                    reached 2022-05-26T21:12:09 -  -                                 ietf-l2vpn-ntw-nano-services:config-apply reached 2022-05-26T21:12:09 -  -                                 ready                   reached 2022-05-26T21:12:24 -  -ietf-l2vpn-ntw-nano-services:vpn-node R10  false -   -    init                    reached 2022-05-26T21:12:09 -  -                                 ietf-l2vpn-ntw-nano-services:config-apply reached 2022-05-26T21:12:09 -  -                                 ready                   reached 2022-05-26T21:12:24 -  -So the issue is not in CFP side. Probably you miss setting between CNC and NSO-LinhHi Linh,Ya creation is fine, after that we do these 2 steps :Get TSDN CFP data and then Get L2vpnService plan data Here, Get TSDN CFP data ( hitting this url : ) worksbut the second one for Get L2vpnService plan data ( hitting this url : ) , we are getting this error :359: Error occurred: Failed with 409 code and {\"errors\":{\"error\":[{\"error-type\":\"application\",\"error-tag\":\"data-missing\",\"error-info\":\"Failed to lookup prefix ncs\",\"error-message\":\"Data Not Found\"}]}} data360: Exception in Getting service plan data : Failed with 409 code and {\"errors\":{\"error\":[{\"error-type\":\"application\",\"error-tag\":\"data-missing\",\"error-info\":\"Failed to lookup prefix ncs\",\"error-message\":\"Data Not Found\"}]}} data361: ERROR occurred in Creation of L2VPN Service: Exception in Getting service plan dataI am also attaching screenshots of the packages on both CFS and RFS nodes .The IP that you used in the rest call is not NSO IP, likely it is CW CNC IP. Since I am able to push l2vpn service directly to NSO successfully, it likely has the incorrect setting in CNC UI, please contact CNC team to verify your setting.About the packages on both CFS and RFS, they are fine.Hi,I was retrying the entire setup to reconfirm on this, but this during installation itself getting this failure during load merge of bootstrap data on cfs node :admin@ncs%load merge SR-status-codes.xmlError: on line 2: unknown namespace: in status-code-cfpadmin@ncs%load merge RSVP-TE-status-codes.xmlError: on line 2: unknown namespace: in status-code-cfpadmin@ncs%load merge L3VPN-status-codes.xmlError: on line 2: unknown namespace: in status-code-cfpCould you please suggest what could be the issue here ?Like we discussed on the other thread, cfs is missing quite a number of packages. Is there any other issue? If I am not hear any from you in next few days, I am going to close this issue.ThanksLinhYou can close this case. the issue has been fixed via this bug : CSCwc01654"
    },
    {
        "title": "[RONCFPSD-273] Not able to delete devices from RFS node after cleaning up services ",
        "description": "I cleaned up all the services from CFS , TM-TC service from RFS and trying to delete devices from RFS and hitting the below:admin@ncs% delete devices device *admin@ncs% commitAborted: illegal reference 'core-fp-delete-shutdown-service ASR-903.cisco.com GigabitEthernet 0/0/7 device'admin@ncs% exitThere are uncommitted changes.Discard changes and continue? yesadmin@ncs> exitcopied show tech @ /ws/shbalu-sjc/NSO<del>rw-r</del><del>r</del>- 1 shbalu eng 276M Jun 1 03:56 data_060122_035155.tgz <del>rw-r</del><del>r</del>- 1 shbalu eng 1.1G Jun 1 03:56 data_060122_035147.tgz ",
        "comments": "Hi Shanmugavel,Please share your setup info. I would check on your setup settings.Thanks,LinhHi Linh,Here is the setup info, FYI: I was doing cleanup and that is when i hit the issue while deleting devices from RFSCFS: 172.20.63.112 (admin/Vtsisco@123!)RFS: 172.20.63.120 (admin/Vtsisco@123!)I looked at ned-cisco-ios-cli-6.77-ASR-903.cisco.com.trace in RFS. The service that used the interface GigabitEthernet 0/0/7 is created >> 1-Jun-2022::00:41:30.004 user: admin/132617 thandle 3437741 hostname nso-rfs1 device ASR-903.cisco.com PREPARE 2:vrf definition L3VPN-9901-1-4-903 rd 180:180 address-family ipv4 route-target export 180:180 route-target import 180:180 exit-address-family !!ip prefix-list SET_COLORv4_RPL-903_5432 seq 5 permit 90.6.0.0/24interface GigabitEthernet0/0/7 service instance 1002 ethernet encapsulation dot1q 1002 bridge-domain 1002 exitexitinterface BDI1002 vrf forwarding L3VPN-9901-1-4-903 ip address 10.14.182.12 255.255.255.0 no shutdownexitroute-map SET_COLORv4_RPL-903 permit 5 match ip address prefix-list SET_COLORv4_RPL-903_5432 set extcommunity color 5432!mpls label mode vrf L3VPN-9901-1-4-903 protocol all-afs per-vrfrouter bgp 65001 address-family ipv4 unicast vrf L3VPN-9901-1-4-903 redistribute connected neighbor 10.14.182.18 remote-as 65007 neighbor 10.14.182.18 activate exit-address-family ! address-family vpnv4 unicast neighbor 10.14.182.18 activate neighbor 10.14.182.18 route-map SET_COLORv4_RPL-903 out exit-address-family !!<< 1-Jun-2022::00:41:30.007 user: admin/132617 thandle 3437741 hostname nso-rfs1 device ASR-903.cisco.com SET_TIMEOUT<< 1-Jun-2022::00:41:30.008 user: admin/132617 thandle 3437741 hostname nso-rfs1 device ASR-903.cisco.com SET_TIMEOUT<< 1-Jun-2022::00:41:30.062 user: admin/132617 thandle 3437741 hostname nso-rfs1 device ASR-903.cisco.com SET_TIMEOUTThen this service is never delete after this. Then this is expected behavior since it is still have reference to ASR-903.Correct steps is deleting the services that reference the device before deleting the deviceIt was removed from the CFS node:admin@ncs% show l3vpn-ntw No entries found.admin@ncs% admin@ncs% Since i already gave you the setup info, let me know if you still see the service on the CFS node, if the service is deleted and config was not removed from Device then this is an issue ned to be debugged.I see the device delete issue with 2 device (ASR-903.cisco.com, ASR9901-1) which were part of the same service and able to delete one device ASR9901-4 which was also part of the same serviceadmin@ncs> show devices listNAME        ADDRESS  DESCRIPTION NED ID        ADMIN STATE ---------------------------------------------------------------------------ASR-903.cisco.com 1.1.1.12 -      cisco-ios-cli-6.77  unlocked   ASR9901-1     1.1.1.1  -      cisco-iosxr-cli-7.39 unlocked   ASR9901-4     1.1.1.4  -      cisco-iosxr-cli-7.39 unlocked   admin@ncs> confEntering configuration mode privateadmin@ncs% delete devices device ASR9901-4admin@ncs% commitCommit complete.admin@ncs% admin@ncs% delete devices device ASR9901-1admin@ncs% commitAborted: illegal reference 'core-fp-delete-shutdown-service ASR9901-1 TenGigE 0/0/0/10 device'admin@ncs% admin@ncs% exitThere are uncommitted changes.Discard changes and continue? yesadmin@ncs> confEntering configuration mode privateadmin@ncs% delete devices device ASR-903.cisco.com admin@ncs% commitAborted: illegal reference 'core-fp-delete-shutdown-service ASR-903.cisco.com GigabitEthernet 0/0/7 device'admin@ncs% exitThere are uncommitted changes.Discard changes and continue? yesadmin@ncs> show devices listNAME        ADDRESS  DESCRIPTION NED ID        ADMIN STATE ---------------------------------------------------------------------------ASR-903.cisco.com 1.1.1.12 -      cisco-ios-cli-6.77  unlocked   ASR9901-1     1.1.1.1  -      cisco-iosxr-cli-7.39 unlocked   admin@ncs> Hi Shanmugavel, just wanted to update this ticket with latest information. We have unblocked your setup and are looking into reproducing and RCA the leftover core-fp-delete-shutdown-service instance. I will mark this ticket as in-progress.Hi Shanmugavel,I have tried an exhaustive variety of scenarios to try to reproduce this issue (leftover core-fp-delete-shutdown-service), and the only scenario that I can reproduce the artifact is to do a cleanup on Flat-L3 service without first executing delete. In this case, I can see one of the core-fp-delete-shutdown-service being cleaned up, but the second is leftover from race conditions.I would like to note, cleanup without first executing delete is an unsupported flow from T-SDN CFP viewpoint, so we will not pursue this scenario further. In all other scenarios like leftover zombie re-deploy, failed plan due to unreachable + cleanup, out of sync device, error recovery, multiple service update and delete, etc, there are no leftover artifacts.At this point, as I am out of ideas and from our discussion before, we heard that you made sure to delete Flat L3 before cleanup action. There does not seem to be any other way for me to RCA this issue without a proper reproduction flow as the logs have a variety of errors, and we cannot distinguish the reason for artifact from the logs itself as there is no outstanding error message.Unless if you can give me some general steps on what you suspect could have caused this artifact, I would not be able continue with RCA.The next step would be to kindly ask team to keep an eye out for this artifact issue. If encountered again in the future, it will be very important to note the steps taken prior to the artifact being generated. This way we can try to have a reproducible flow which will help with RCA.Thanks,Isaac Kim"
    },
    {
        "title": "[RONCFPSD-515] run show cluster \"NAME field is empty\" in NSO",
        "description": "1) Started installing Drop4 on NSO - LSA setup2) Installed two RFS with the procedure mentioned in the below link3) While creating CFS, we see that run show cluster command :so@ncs% run show cluster           LAST  RECEIVED    NAME  NAME STATUS EVENT NOTIFICATIONS -------------------------------------------rfs-1                   rfs-2                   REMOTE                 LOCAL REMOTE          NODE  ADDRESS    PORT CHANNELS USER  USER  STATUS TRACE   ------------------------------------------------------------------------rfs-2  10.56.116.153 2022 -     nso  nso   down  disabled rfs-1  10.56.116.152 2022 -     nso  nso   down  disabled tried : root@sareddyd-esxi-01-vm1:~# ssh nso@10.56.116.152 -p 2022The authenticity of host ':2022 (:2022)' can't be established.ED25519 key fingerprint is SHA256:ouHxfF8+vBaAqXyOnKIyOV7H8KHRCSmfyNTrhTMv0Gg.Are you sure you want to continue connecting (yes/no/)? yesWarning: Permanently added ':2022' (ED25519) to the list of known hosts.nso@10.56.116.152's password: Connection to 10.56.116.152 closed.but my ncs.conf : 2022 is enabled. 4) we dont have ./ nso-<NSO-VERSION><del>ron</del><RON-RELEASE-VERSION> /get_technical_support_data.sh. script in the folder, so not able to generate the logs.CFS: 10.56.116.151RFS-1: 10.56.116.152RFS-2: 10.56.116.153for above three VM's, creds: nso/Public1234!",
        "comments": "Hi Sampath,I checked your LSA setup. The cluster is up finenso@ncs% run show cluster                           RECEIVEDNAME  NAME    STATUS LAST EVENT         NOTIFICATIONS---------------------------------------------------------------------rfs-1 ncs-events up   0000-01-01T00:00:00-00:00 0rfs-2 ncs-events up   0000-01-01T00:00:00-00:00 0REMOTE                 LOCAL REMOTENODE  ADDRESS    PORT CHANNELS USER  USER  STATUS TRACE------------------------------------------------------------------------rfs-2  10.56.116.153 2022 -     nso  nso   up   disabledrfs-1  10.56.116.152 2022 -     nso  nso   up   disabledAbout get_technical_support_data.sh, it is missing in the drop 4. It is fixed in the coming drop 5Thanks,LinhUpdate: Actually Van Pham did have a 1:1 with the reporter and fixed the issue. I am going to close the case.Van helped here, thanks"
    },
    {
        "title": "[RONCFPSD-529] Unable to add bgp config in hcc",
        "description": "Setup - Jump host - 10.23.226.188 - root/Cwork123! NSO - 192.168.5.56 , 192.168.6.56 - nsoaz1/Cnc@1234Trying to add NSO L3 HA - HCC BGP config - But unable to commit the config due to below error. Aborted: 'hcc bgp node primary-node node-id': Invalid node valueAttached screenshot as well.Kindly help troubleshoot",
        "comments": "Hi Ajitha,Lets schedule a debug session this afternoon.NSO HA L3 function is built on top of L2 function and node names on both must match. Ajitha's payload has mismatched ha-node names for NSO built-in config and HCC package config which is causing her \"invalid node\" issue . Upon matching the node names the issue is fixedClosing the ticket and marking it as resolved.NSO HA L3 function is built on top of L2 function and node names on both must match. Ajitha's payload has mismatched ha-node names for NSO built-in config and HCC package config which is causing her \"invalid node\" issue . Upon matching the node names the issue is fixedClosing the ticket and marking it as resolved.Thanks Abe for fixing the issue"
    },
    {
        "title": "[RONCFPSD-74] Would like to know more about Zombie-service pending delete state from NSO",
        "description": "Hi Team,Please help to clarify for the following NSO behaviour.1. When a clean up action is performed directly for a service(any service/any payload), it still removes the plan status from the device/CNC server/NSO 2. And after performing the Clean-up action for the service, the following is the observation from the NSO.admin@ncs> show zombieszombies service /cisco-flat-L3vpn-fp-internal:flat-L3vpn pending-deletezombies service /cisco-flat-L3vpn-fp-internal:flat-L3vpn pending-deleteadmin@ncs>Please confirm if the above said behaviors are expected from NSO.Thanks,Dinesh",
        "comments": "HI Dinesh,Here is the troubleshooting guide for zombie handling.We can perform cleanup action on the deleted service to remove the leftover plan and zombies. Cleanup action before service deletion is not valid.--RaghaviWiki for zombie handling:Cleanup action before service deletion is not valid. - This is perfect.Do you have any solution steps for the below NSO state?admin@ncs> show zombieszombies service /cisco-flat-L3vpn-fp-internal:flat-L3vpnpending-deletezombies service /cisco-flat-L3vpn-fp-internal:flat-L3vpnpending-deleteadmin@ncs>Can you add the steps to reproduce how you landed into this issue..?Also please provide the details about ned-id's and device versions when payload is given this help to reproduce the issue.1. Create a L2NM service2. Click on Clean-up option from the (L2VPN Service) provisioing NSO tablePlease do find the payload in the enclosure.NED-ID - cisco-iosxr-cli-7.33     7.33.12NCS Version: 5.5.2.7TSDN Package - nso-5.5.2.3-tsdn-3.0.0-M5XRV Version: 7.3.2.37I-0 and 7.4.1-0 HI Dinesh, Can we have a quiickcall..? Hello Dinesh,Please attach the NSO logs and plan state and any errors in plan and any missing items from the above wiki.Also please try out the same with no-networking to true and share the results.Also when you click on cleanup action whats the response you received from NSO. is your cleanup successful..?I also tried to reproduce this on my machine its not reproducible. So please provide the details of the above requested logs. --RaghaviNSO version : 5.5.2.7CFP build version : nso-5.5.2.3-tsdn-3.0.0-M5Device type and version used for testing : XRV9K | XRV Versions: 7.3.2.37I-0 and 7.4.1-0STEPS TO REPRODUCE:admin@ncs% run show l3vpn-ntw vpn-services vpn-service-plan L3VPN_NM-IGP-IPV4-60 plan | tab                                                                         POST                        BACK     STATUS                                        ACTIONTYPE                  NAME  TRACK GOAL CODE  STATE                   STATUS  WHEN         ref STATUS----------------------------------------------------------------------------------------------------------------------------------------------------------self                  self  false -   -    init                    reached 2021-08-31T06:31:19 -  -                                  ietf-l3vpn-ntw-nano-services:config-apply reached 2021-08-31T06:31:19 -  -                                  ready                   reached 2021-08-31T06:31:35 -  -ietf-l3vpn-ntw-nano-services:vpn-node PE-A_1 false -   -    init                    reached 2021-08-31T06:31:19 -  -                                  ietf-l3vpn-ntw-nano-services:config-apply reached 2021-08-31T06:31:19 -  -                                  ready                   reached 2021-08-31T06:31:35 -  -ietf-l3vpn-ntw-nano-services:vpn-node PE-C_1 false -   -    init                    reached 2021-08-31T06:31:19 -  -                                  ietf-l3vpn-ntw-nano-services:config-apply reached 2021-08-31T06:31:19 -  -                                  ready                   reached 2021-08-31T06:31:35 -  -admin@ncs% request l3nm-actions cleanup servicePossible completions: <string>admin@ncs% request l3nm-actions cleanup service L3VPN_NM-IGP-IPV4-60 no-networkingPossible completions: false trueadmin@ncs% request l3nm-actions cleanup service L3VPN_NM-IGP-IPV4-60 no-networking true########################<ol>\t<li>Warning    #########################You are about to forcefully cleanup a T-SDN service.This will affect the deploying service and leave network device(s) ; NSO out-of-sync (for no-networking=true).Are you sure you want to proceed? yessuccess truedetail Removing service /l3vpn-ntw/vpn-services/vpn-service{L3VPN_NM-IGP-IPV4-60} Removed service /l3vpn-ntw/vpn-services/vpn-service{L3VPN_NM-IGP-IPV4-60}Cleaning up L3vpn service: L3NM-L3VPN_NM-IGP-IPV4-60-internal Removing service /cisco-flat-L3vpn-fp:flat-L3vpn{L3NM-L3VPN_NM-IGP-IPV4-60-internal} Removed service /cisco-flat-L3vpn-fp:flat-L3vpn{L3NM-L3VPN_NM-IGP-IPV4-60-internal}Cleaning up L3VPN Internal Services: L3NM-L3VPN_NM-IGP-IPV4-60-internal Removed all internal plan components Removing zombie service: /ncs:zombies/ncs:service{\"/cisco-flat-L3vpn-fp-internal:flat-L3vpn[name='L3NM-L3VPN_NM-IGP-IPV4-60-internal'][endpoint-name='PE-A_1']\"} Removed zombie service Removing zombie service: /ncs:zombies/ncs:service{\"/cisco-flat-L3vpn-fp-internal:flat-L3vpn[name='L3NM-L3VPN_NM-IGP-IPV4-60-internal'][endpoint-name='PE-C_1']\"} Removed zombie service Removed commit-queue-recovery-data Cleanup Successful for L3VPN Internal Services</li></ol> Removed all plan components Removing zombie service: /ncs:zombies/ncs:service{\"/cisco-flat-L3vpn-fp:flat-L3vpn[name='L3NM-L3VPN_NM-IGP-IPV4-60-internal']\"} Removed zombie service Removing zombie service: /ncs:zombies/ncs:service{\"/cisco-flat-L3vpn-fp:flat-L3vpn[name='L3NM-L3VPN_NM-IGP-IPV4-60-internal']\"} Removed zombie service Cleanup Successful Removed all plan components Removing zombie service: /ncs:zombies/ncs:service{\"/l3vpn-ntw/vpn-services/vpn-service[vpn-id='L3VPN_NM-IGP-IPV4-60']\"} Removed zombie service Removing zombie service: /ncs:zombies/ncs:service{\"/l3vpn-ntw/vpn-services/vpn-service[vpn-id='L3VPN_NM-IGP-IPV4-60']\"} Removed zombie service Cleanup Successful for L3NMadmin@ncs% *** ALARM service-activation-failure: Operation failed because: Not able to retrieve diffset for zombie nano service : '/cisco-flat-L3vpn-fp-internal:flat-L3vpn'admin@ncs% run show zombieszombies service /cisco-flat-L3vpn-fp-internal:flat-L3vpn pending-deletezombies service /cisco-flat-L3vpn-fp-internal:flat-L3vpn pending-deleteadmin@ncs% exitadmin@ncs> request zombies service /cisco-flat-L3vpn-fp-internal:flat-L3vpn re-deployError: Operation failed because: Not able to retrieve diffset for zombie nano service : '/cisco-flat-L3vpn-fp-internal:flat-L3vpn'admin@ncs> configureEntering configuration mode privateCurrent configuration users:admin https (webui from 172.24.97.150) on since 2021-08-30 23:32:47 private modeadmin https (webui from 172.24.97.150) on since 2021-08-30 22:50:27 private modeadmin https (rest from 10.194.57.24) on since 2021-08-26 01:16:22 private modeadmin@ncs% run show l3vpn-ntw vpn-services vpn-service-plan L3VPN_NM-IGP-IPV4-60 plan | tab------------------------------------------------------------^syntax error: unknown argumentadmin@ncs%System message at 2021-08-30 23:36:25...Commit performed by admin via https using rest.admin@ncs%NSO IP: 10.194.57.50 admin/Ovatest123@hi Dinesh i don't see any logs attached here.Please refer the wiki--Raghavi.Hi Raghavi,Please be specific to which log you might require from the NSO and it's respective directory.Also update the Wiki link as well.Thanks,DineshHi Raghavi,FYI - ncs.log has been enclosed for now.You can access the NSO with the following details for any more logs if required. NSO IP: 10.194.57.50 admin/Ovatest123@Thanks,Dinesh Hi Dinesh,Thanks you, we updated the wikiPlease tar and share the complete NSO logs, the above provided logs are not enough as this is not reproducible on our setup.--Raghavi. Dinesh,The reason we ask you to upload logs to the ticket is so all information is co-located and we can have it for reference in future if needed. Let us know if you have trouble uploading complete technical support data.Thanks,Nimisha.Nimisha,Yes, there is a trouble in uploading the tar'ed folder here as it says \"Unknown server error (502).\"--DineshConsidering the ticket progress gap, have filed CSCvz58592This is being handled by a CDETS now so closing this ticket"
    },
    {
        "title": "[RONCFPSD-60] 9K devices with \u00a07.3.2.23I do not get in to Sync State",
        "description": "Please see attached, used to work in M4",
        "comments": "Upgraded to 7.3.2.34I, issue resolvedAs mentioned by the Reporter , after upgrading to 7.3.2.34I, issue resolved. Hence closing the ticket."
    },
    {
        "title": "[RONCFPSD-48] Service Check-Sync behavior",
        "description": "Steps:1. Make headend router unreachable2. Provision service with async commit queue  provision in failed state as expected3. run device check-sync for headend router on nso   result is error as expected4. run service check-sync  the result is \"in-sync true\"  Is this expected?In what condition will service check-sync returns \"in-sync false\"?admin@ncs> request devices device xrv9k-PE7 check-sync result errorinfo Failed to connect to device xrv9k-PE7: connection refused: NEDCOM CONNECT: No route to host (Host unreachable) in new stateadmin@ncs> *** ALARM connection-failure: Failed to connect to device xrv9k-PE7: connection refused: NEDCOM CONNECT: No route to host (Host unreachable) in new stateadmin@ncs> request sr-te policies policy SRv6-702-igp-relative-segments check-syncin-sync true",
        "comments": "Hi Crystal,The difference between the two is that one is a \"device check-sync\" and the other is a \"service check-sync\". The \"service check-sync\" only compares to local CDB and returned true since everything was in sync. As for \"device check-sync\" this is mainly dependent on how the NED handles this case and for the most part it checks the remote device but in this case it failed because the remote device was not reachable.Thanks Reginald. For \"service check-sync\", what is local CDB compare with? For \"service check-sync\", the comparison is done between the service output and underlying service/devices on NSO.Had webex and explained the difference between service and device check-sync to the submitter"
    },
    {
        "title": "[RONCFPSD-111] Behavior change on the service edit",
        "description": "Recording link:\u00a0\u00a0Password: yFpC4BuiI see a behavior change on the service edit.\u00a0I have created a ODN policy successfully.\u00a0Then I moved the device to out of sync with NSOAfter that I edited the service and both NSO UI and CAT are showing that the service is in successful state.\u00a0\u00a0NSO cli shows that the service is in failed state. See the below output.\u00a0Now when the user re-deploy the service then NSO and CNC UI get updated that the services are in failed state.\u00a0\u00a0\u00a0The expectation is when I edited the service at the first place the failure from NSO should have propagated to CAT.\u00a0\u00a0The service shows a failure only when the user re-deploy it.\u00a0\u00a0See the attached plan failed.",
        "comments": " Hi Joby,Thank you very much for raising JSD ticket .With no-CQ service update commit failure, there is nothing on NSO or device that has changed so plan state doesn\u2019t change.As we have seen with CQ we have not seen this issue .There is one platform ticket already raised for similar issue.For Non CQ what you currently see is by design .Thanks,Priyanka"
    },
    {
        "title": "[RONCFPSD-105] CNC 4.0 - support NSO LSA",
        "description": "Hi,One of the CNC 4.0 features is to support NSO LSA. For that, NSO is expected to continue supporting same functionality as previous non-LSA NSO.This is for confirming that it is be supported transparently.F107608 CNC-114: Must support NSO LSA for large scale deployments:\"CNC needs to be deployable in a single NSO server configuration, where the CFS and RFS functionalities co-reside on a single server.\"Not in scope:\u2022...\u2022Multiple top-level NSO serversSome of the main dependencies of CNC on NSO, is for the Upper NSO(CFS node) to response on all services/resources, for listing, fetching payloads and notifications.Notice CNC depends on NSO services, as well as resources such as sid-list.\u2022Restconf APIs\u2022/data for fetching service payloads and more.\u2022limit and offset parameters.\u2022content parameter.\u2022Restconf service-state-changes stream with replay-support for plan notification changes.\u2022JSON-RPC APIs\u2022login\u2022Changes notifications via start_subscription, subscribe_changes\u2022query - some paths and /ncs:packages/package\u2022get_system_setting methodOther dependencies are listed as described below:NSO adoption for CNC - CNC NSO requirements and dependencies:Thanks",
        "comments": "LSA Architecture intends for the large scale. So CFS and RFS should be deployed in seperate nodes. The ask for installing both on the same node defeat the original purpose. Is there any use-case that you ask for this support?Hi Linh,Thanks for the reply.What you wrote is not our request.For CNC 4.0, request is for NSO is expected to continue supporting same functionality as previous non-LSA NSO. This is for confirming that it is be supported transparently.CNC 4.0 services are ietf-l2vpn-ntw etc', as well as resources such as sid-list, and possible customer custom FPs.Some of the main use cases:Expecting the Upper NSO(CFS node) to response on all CNC 4.0 services/resources, for listing, fetching payloads and notifications.Some CNC used services/resources paths:\u2022\tietf-l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-serviceo\tietf-l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service-plan\u2022\tietf-l3vpn-ntw:l3vpn-ntw/vpn-services/vpn-service\u2022\tcisco-flat-L2vpn-fp:l2vpn-route-policy\u2022\tcisco-flat-L3vpn-fp:l3vpn-route-policy\u2022\tcisco-sr-te-cfp:sr-te/cisco-sr-te-cfp-sr-policies:policies/policy\u2022\tcisco-sr-te-cfp:sr-te/cisco-sr-te-cfp-sr-odn:odn/odn-template\u2022\tresource-allocator:resource-pools/id-allocator:id-pool\u2022\tcisco-sr-te-cfp:sr-te/cisco-sr-te-cfp-sr-policies:policies/sid-list\u2022\tietf-l2vpn-ntw:l2vpn-ntw/id-pools\u2022\tietf-l3vpn-ntw:l3vpn-ntw/vpn-profiles/valid-provider-identifiers/routing-profile-identifier\u2022\tietf-te:te/tunnels/tunnel\u2022\tcisco-flat-L2vpn-fp:flat-L2vpn\u2022\tcisco-flat-L3vpn-fp:flat-L3vpno\tcisco-flat-L3vpn-fp:flat-L3vpn-planAnother aspect:since CNC CAT communicates only with CFS node in the NSO LSA cluster, what is the expectation in case of failure of the CFS node ? For such cases when NSO LSA CFS/UI node is temporary down etc'. In this case, only retry mechanism ? or other NSO node/instance takes its place ?Hi Liran,I deploy all tsdn services through cfs node, then tested all requested service/resource path through cfs. They all worked as expected. The services are still there in Van's CFS. If you are interested in seeing them, please contact Van for the server info.About CFS failure question, in the real production scenarios, it is recommend to set HA for CFS, if the primary CFS is down, the secondary CFS would take it over.Thanks,-LinhWe reviewed it in Van's setup, looking good, thank you.We do have some follow-up questions for understanding, will add it on email.it works as expected"
    },
    {
        "title": "[RONCFPSD-139] Information needed on NSO LSA",
        "description": "Hi Team,I am looking for information on test cases that are covered for NSO LSA. Can someone help with this information. Also I have few scenario based questions on LSA, few of them are listed below:What happens if user tries to add same device to different RFS?Migration support between standalone NSO and NSO LSA?Error captured related to CFS and RFS nodes.Upgrade scenario.Kindly help me out with the above questions.Thanks,Kanchan",
        "comments": "Hello Kanchan,Q : What happens if user tries to add same device to different RFS?A : This is not supported. A single device can only exist on a single RFS node. Please refer to NSO documentation \"nso_lsa-<NSO VERSION>.pdf\" Chapter 1 page 2 figure 1 for an example of how a set of devices can be partitioned across multiple RFS nodes. Q : Migration support between standalone NSO and NSO LSA?A : This is currently not supported. Please refer to SFS for more details.Q : Error captured related to CFS and RFS nodesA : Not exactly sure what this is asking. Errors on CFS node are captured in logs in same way that standalone TSDN setup would be configured. The only difference would be that CFS logs are captured on CFS node and RFS logs captured on RFS node as configured.Q : Upgrade scenarioA : Again, not exactly sure what this is asking. In terms of TSDN major version upgrade, as TSDN 3.0, 2.0, and 1.0 did not officially support LSA, a major version upgrade to TSDN 4.0 will be standalone to standalone upgrade. As answered before, standalone to LSA upgrade is currently not supported.I hope this helps clarify some details about LSA. Let me know if you have any other questions or comments.Thanks,Isaac KimHello Isaac,Thank you so much for all the answers.I am also looking for test cases that are covered for NSO LSA. Do we have any link where I can check what scenarios are being covered.Hi Kanchan ,Here you go :ThanksPriyankaThank you Priyanka.!"
    },
    {
        "title": "[RONCFPSD-475] service change notifications not received from NSO for services provisioned from NSO UI",
        "description": "service change notifications not received from NSO for services provisioned from NSO UI.Attached the showtech logs on NSO VM. ",
        "comments": " Hi Gomathi,From the backup you provided, I see a bunch of service-state-changes notifications. I've attached the output: notifs.txt, so I'm not sure what you mean when you say you're not seeing the service-state-changesThanks,RegiHi Regi,Initially I tried to upload payload on commit manager from NSO UI for \"L3VPN_U_NM-SRTE-ODN-1061\" service. It was provisioned successfully but didn't get notified on services list on CW - CNC UI.Attached is the file where we don't see the above service as part of the service-change notifications. I see the above service is somehow deleted on NSO. I tried creating it now and it displays on CNC UI.Hence, issue was there some time back which Van and Linh also noticed when I tried it.Thanks,Gomathi. Hi Gomathi,So, to confirm are you still seeing the issue now? If you are can you give me your sample payload and I can see if I can reproduce the issue on your setup?Thanks,RegiHello, please let us know if this issue is still valid.If no response is received, ticket will be resolved EOD Sept 8th.Thank you.Hello,This ticket can be closed as resolved. Issue seems to have fixed in next builds and QA was able to proceed further.Thanks.Customer confirmed ticket can be closed."
    },
    {
        "title": "[RONCFPSD-307] Zombies showed up post policy delete via UI",
        "description": "During regression run on build combo (CW#38, CAT#27), we encountered zombies post deletion of a policy via UI.Please find this regression log file for reference:Steps :1. TSDN policy testcases executed via CNC API ( task#4 through task #28, includes SR,RSVP,L2VPN,L3VPN,ODN)2. Execute the same TSDN policy testcases via CNC UI ( task@29 through task#53)3. Failure encountered in task #45 :  steps: 3.1 Create l2vpn_untagged_srpolicy_R1_R10_dynamic_igp policy via UI :  Values provided are :For SR -> ([('policy', [OrderedDict([('Name', 'srte_c_9066_ep_6.1.1.10'), ('head-end', OrderedDict()), ('tail-end', '6.1.1.10'), ('color', '9066'), ('path', [OrderedDict()])]), OrderedDict([('Name', 'srte_c_9066_ep_6.1.1.1'), ('head-end', OrderedDict()), ('tail-end', '6.1.1.1'), ('color', '9066'), ('path', [OrderedDict()])])])])For L2vpn -> ([('ietf-l2vpn-ntw:vpn-service', [OrderedDict([('Vpn-id', 'L2vpn_tldp_R1_R10_untagged_sr'), ('vpn-svc-type', 'vpn-common:t-ldp'), ('vpn-nodes', OrderedDict([('vpn-node', [OrderedDict([('vpn-node-id', 'R1'), ('ne-id', 'R1'), ('te-service-mapping', OrderedDict([('te-mapping', OrderedDict([('sr-policy', OrderedDict())]))])), ('signaling-options', [OrderedDict([('type', 'vpn-common:t-ldp'), ('t-ldp-pwe', OrderedDict([('ac-pw-list', [OrderedDict()])]))])]), ('vpn-network-accesses', OrderedDict([('vpn-network-access', [OrderedDict([('id', '3334'), ('Interface-mtu', '9000'), ('connection', OrderedDict([('encapsulation-type', 'vpn-common:untagged-int'), ('untagged-interface', OrderedDict([('l2-access-type', 'vpn-common:untagged-int'), ('untagged', OrderedDict())]))]))])])]))]), OrderedDict([('vpn-node-id', 'R10'), ('ne-id', 'R10'), ('te-service-mapping', OrderedDict([('te-mapping', OrderedDict([('sr-policy', OrderedDict())]))])), ('signaling-options', [OrderedDict([('type', 'vpn-common:t-ldp'), ('t-ldp-pwe', OrderedDict([('ac-pw-list', [OrderedDict()])]))])]), ('vpn-network-accesses', OrderedDict([('vpn-network-access', [OrderedDict([('id', '3334'), ('Interface-mtu', '9000'), ('connection', OrderedDict([('encapsulation-type', 'vpn-common:untagged-int'), ('untagged-interface', OrderedDict([('l2-access-type', 'vpn-common:untagged-int'), ('untagged', OrderedDict())]))]))])])]))])])]))])])])3.2 Create policy successful, verified the policy status is up via UI.3.3. Update color value in the policy.3.4 Update policy successful and verified updated data and status from UI.3.5 Delete the policies from UI ( both sr and l2vpn)3.6 Post delete, verified in UI both the SR and L2VPN services are not found.3.7 Check for zombies and zombies got found for both :show zombieszombies service /flat-L2vpn-internal-local-site-service delete-path  /flat-L2vpn-internal-local-site-service pending-delete                                                      POST      BACK                                              ACTIONTYPE NAME TRACK GOAL STATE                           STATUS    WHEN ref STATUS--------------------------------------------------------------------------------------------------------------------self self true  -   init                            not-reached -   -  -             cisco-flat-L2vpn-fp-local-site-nano-services:config-apply not-reached -   -  -             ready                           not-reached -   -  -zombies service /flat-L2vpn-internal-remote-site-service delete-path /flat-L2vpn-internal-remote-site-service                                                            POST      BACK                                                    ACTIONTYPE NAME TRACK GOAL STATE                            STATUS  WHEN         ref STATUS--------------------------------------------------------------------------------------------------------------------------------self self true  -   init                            reached 2022-07-26T21:03:24 -  -             cisco-flat-L2vpn-fp-remote-site-nano-services:config-apply reached 2022-07-26T21:03:24 -  -             ready                            reached 2022-07-26T21:07:11 -  -zombies service /sr-te/cisco-sr-te-cfp-sr-policies-internal:policies/policy delete-path /sr-te/cisco-sr-te-cfp-sr-policies-internal:policies/policy                                                          POST      BACK                                                  ACTIONTYPE NAME TRACK GOAL STATE                          STATUS  WHEN         ref STATUS----------------------------------------------------------------------------------------------------------------------------self self true  -   init                          reached 2022-07-26T20:59:40 -  -             cisco-sr-te-cfp-sr-policies-nano-services:config-apply reached 2022-07-26T20:59:40 -  -             ready                          reached 2022-07-26T21:05:03 -  -Please refer to atleast the log of task #45, all steps are clearly mentioned including payload and everything. Let me know if any other info is required.Please find the NSO showtech collected : /auto/ncahi/Users/mesarma/cwork_proj/nso_st_27july/data_072722_062505.tgzConcern is : Even after successful deletion of the policy via CNC UI, why should zombies even get created.And if there is this possibility to keep getting this in future as well, then please suggest some possible Actions that we can automate in the regression run itself to make sure this kind of issues do not occur.",
        "comments": "Hi I saw this error in the Jenkins logrequest devices device R10 compare-configinfo R10: Device is locked in a commit operation by session 17368admin@ncs>503: Zombies found on devices hence aborting the script.504: Failed reason: check_zombies failedIt looks like your automation code perform an deleting action during the time that device is locked from the previous command. That is why deleting is failed. This is not NSO issue, it is an user operation issue. This issue would happen intermittently since device response time is depending on network connectivity. If the network has long delay and would not response in time as expected in automation logic then another command is kicked in when the previous command is not finish yet.Again, it is not NSO issue and you need to adjust your automation code to deal with the situation like this.Regards,LinhHi Linh,So could you please suggest any solution to handle such intermittent unpredictable issues in our regression automation ?Please note: We are already putting good amount of sleep before and after performing any operation to avoid any conflict.Thanks,MeenakshiHi Meenakshi,Few 2cent suggestions:1. From your jenkins log, I saw most of time you give 30s sleep time. This value is not sufficient for create/deleting a service. In my automation code, I gave it 40 seconds.2. It seems that you automation codes does not handle zombies (I could be wrong by looking at Jenkins log) because most of test cases are failed after zombies exist. You should clean up the zombies and bring back devices in sync. So the next test cases could go on ...Regards,Linhit seem automation code issue. The operation step in too soon while others still is in progress"
    },
    {
        "title": "[RONCFPSD-461] Information needed for tailf-hcc package for NSO6.1",
        "description": "Hi Team,I am looking for tailf-hcc package for NSO6.1 for HA scenario.Can someone help with the link.Thanks,Kanchan",
        "comments": "Hi Kanchan,There is no 6.1 official Release yet.so latest hcc package available is ThanksPriyankaHi Priyanka,Thanks for the quick response.Can I use  with NSO6.1 ?Thanks,KanchanHi ,Yes ,it should work .ThanksPriyankaHi Priyanka,I tried using tailf-hcc6.0 but it is giving below error:[ \"tailf_hcc: /var/opt/ncs/state/packages-in-use/1/tailf-hcc/erlang-lib/tailf_hcc/ebin/tailf_hcc.app: failed to start\" ]Thanks,KanchanHi Kanchan ,As per our webex discussion, we were able to bring up packages with the redeploying packages.ThanksPriyanka"
    },
    {
        "title": "[RONCFPSD-449] Attaching node as receiver which is root in Static Tree-SID policy didn't throw any error",
        "description": "I have created a L3 MVPN service with static tree-sid policy. to a vpn-node which is root in the policy, I am attaching it as receiver node.From NSO it doesn't throw any error or there is no validation. Is it expected.From the screenshot:xrv9k-PE6 is root in static Tree-SID policy but I am giving role as receiver. ",
        "comments": " Can you attach the config you are sending to NSO CFP?Here xrv9k-PE6 is my root node in static Tree-SID policy: Static- and I am defining it as receiver in VPN service Hi Kanchan,As per the payload , xrv9k-PE6 is defined as a receiver.Please suggest where it is configured as a root in Static- .Regards,Nishad Subair.Yes it was created as root is Static-Hi Kanchan, Is this the policy configured on PCE and not from TSDN CFP?Hi Sahithi, I created Static-Tree-SID policy on PCE and attaching it to Static L3 MVPN Model.TSDN CFP is unaware of config on PCE. It does not and cannot validate as per the config created from other components on CNC.Ok, so for Static L3 MVPN Model, if I attach any Static Tree-SID policy(also which doesn't exists), there will be no validation from CFP."
    },
    {
        "title": "[RONCFPSD-448] Devices deleted on NSO UI gets deleted but displays back again in sometime",
        "description": "Devices deleted on NSO UI gets deleted but displays back again in sometimeNSO version 6.1 engg build#2, TSDN 5.0-M5Steps:1. Onboard few devices onto CW - DLM.2. Devices will be added to NSO UI and in-sync.3. Delete few of the devices from CW - DLM and then NSO UI. Devices will be deleted successfully.4. When we reopen NSO we can see devices list is still displayed in NSO.",
        "comments": " Hi, would you be able to provide the exact NSO version you were using for this ticket? In CLI you can simply do<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\">ncs --version6.1_xxxx.xxxxx.xxxxx</pre></div></div>In order to reproduce, we need the NSO build hash as shown above.Thanks,Isaac KimHi Isaac,Please find the requested information for ncs version.admin@nso-1:~$ ncs --version6.1_221212.150815390.4b4cc38b0df7Thanks,Gomathi.Hi Gomanthi,I have tested device delete on multiple devices using NSO 6.1_221212 Web GUI and waited 30 minutes and I do not see the devices coming back up on the UI. As we do not have access to CNC Setup and FPs like DLM, I cannot comment if this is a CNC issue. But on the NSO side, things seem to be working fine.Thanks,Isaac KimHi Isaac,I can provide my nso and CW VM credentials if that helps to troubleshoot the issue.Let me know and I can unicast the details.Thanks,gomathi.Hi Gomathi, there seems to be some general NSO UI issues with NSO 6.1 which may or may not be related to this ticket.I have a few questions to help with RCA.<ol>\t<li>Why are we using NSO UI to delete devices when CW provides similar function?</li>\t<li>Has there been any services deployed from NSO UI?</li></ol>Thanks,Isaac KimHi Isaac,Please find answers inline:1. Why are we using NSO UI to delete devices when CW provides similar function?: As mentioned in step#3 in original issue description, I used CW -DLM UI to delete devices first. Expectation is that devices should get deleted on NSO side as well. But, seems like it didn't get deleted.Note: I can see the devices on ncs cli as well. So, issue is not only with NSO UI but also with ncs cli.2. Has there been any services deployed from NSO UI?: I have been uploading service payloads via NSO UI and services get provisioned after that. Didn't perform any explicit operation to deploy services from NSO UI.Hi Gomanthi, seems like NSO UI shows some unexpected behavior when services are deployed through the GUI. To confirm if this is really a core NSO platform issue, we can try to delete the devices from NSO CLI and see if it goes through. On my side, happy path device deletion seems to be working without any issue.Either I can do it if you provide your VM credentials, or you could try it out on NSO CLI using<ol>\t<li>enter NSO CLI</li>\t<li>enter config mode</li>\t<li>delete devices device <DEVICE></li>\t<li>commit</li></ol>Let me know which option works for you.Thanks,Isaac KimHi Isaac,Devices were successfully deleted from ncs_cli and don't see them again on UI and ncs_cli after commit from cli.NSO UI also don't show devices so far. Please find screenshots attached.In this case, the NSO UI inconsistent behavior will be fixed for device manager?Another question: I tried to onboard two new NCS devices from CW -DLM with different credential profile. Later I updated it on CW but on NSO I had to update it manually. To update ssh keys for these NCS devices I had add the devices via IP and then updated ssh fetch host keys. Adding ssh host keys via device hostname gives connection time out error.Can you confirm what is expected for the above scenario as well.Thanks,Gomathi.Devices were successfully deleted from ncs_cli and don't see them again on UI and ncs_cli after commit from cli.NSO UI also don't show deleted devices so far. Please find screenshots attached.Hi Gomathi, thats great to hear that NSO CLI device deletion went through!\"In this case, the NSO UI inconsistent behavior will be fixed for device manager?\"There is active investigation going on with NSO 6.1 GUI related issues. It also seems like this may impact NB interfaces like jsonrpc and RESTCONF. We are not totally sure of what the root cause is, but it does seem like deploying services through NSO GUI may be one of the causes. I will provide updates here as we gain more clarity.In the meantime, I would suggest to avoid using NSO GUI if possible. As you may probably know, the NSO 6.1 builds we are using are still engineering builds, so there may be unexpected behavior.\"I tried to onboard two new NCS devices from CW -DLM with different credential profile. Later I updated it on CW but on NSO I had to update it manually. To update ssh keys for these NCS devices I had add the devices via IP and then updated ssh fetch host keys. Adding ssh host keys via device hostname gives connection time out error.Can you confirm what is expected for the above scenario as well.\"Connection timeout could be due to a variety of issues. Most likely device is unresponsive. Im not sure what the device onboarding procedure is for CW, but to update ssh keys for all devices from NSO CLI you can do:<ol>\t<li>enter NSO CLI</li>\t<li>request devices fetch-ssh-host-keys</li></ol>Thanks,Isaac KimHi Gomanthi,We just had a call today and were able to resolve all doubts. As agreed, I will close this ticket.Thanks,Isaac Kimnot an issue"
    },
    {
        "title": "[RONCFPSD-306] nso does not pick tailf-hcc package in reload",
        "description": "Bringing up a NSO HA setup. NSO does not pick the package \"ncs-5.7.5-tailf-hcc-project-5.0.3.tar.gz\" . NSO is 5.7.5.1, This HA package belongs to NSO 5.7.5. After package reload command, this package is not loaded.issue #2 . As per HA guide, following needs to be added, However nso does not come up with these commands in ncs.confencrypted-strings><DES3CBC><key1>0123456789abcdef</key1><key2>0123456789abcdef</key2><key3>0123456789abcdef</key3><initVector>0123456789abcdef</initVector></DES3CBC><AESCFB128><key>0123456789abcdef0123456789abcdef</key><initVector>0123456789abcdef0123456789abcdef</initVector></AESCFB128></encrypted-strings>Setup: 172.20.63.134cnctest/Ovatest123@",
        "comments": "Hi Ramakrishnan,You used a wrong tar file ncs-5.7.5-tailf-hcc-project-5.0.3.tar.gz1. You need to untar ncs-5.7.5-tailf-hcc-project-5.0.3.tar.gz# tar -xvf ncs-5.7.5-tailf-hcc-project-5.0.3.tar.gzncs-5.7.5-tailf-hcc-project-5.0.3/project-meta-data.xmlncs-5.7.5-tailf-hcc-project-5.0.3/packages/ncs-5.7.5-tailf-hcc-5.0.3.tar.gzncs-5.7.5-tailf-hcc-project-5.0.3/init_data/2. Then copy ncs-5.7.5-tailf-hcc-project-5.0.3/packages/ncs-5.7.5-tailf-hcc-5.0.3.tar.gz to /var/opt/ncs/packages3. Restart ncsThe hcc package is up after that"
    },
    {
        "title": "[RONCFPSD-460] Unable to delete routing-policy, routing RD, routing policy tag associated to deleted L2vpn service from NSO UI",
        "description": "Unable to delete routing-policy, routing RD, routing policy tag associated to deleted L2vpn service from NSO UISteps:1. Create L2vpn service with ETREE -SR policy.2. Enable monitoring.3. Delete the service from CNC UI. It throws validation failed error with illegal reference message as attached.4. Same delete operation when tried from NSO UI gives same error as attached in screenshot.The associated routing-policy, routing RD, routing policy tag to deleted L2vpn service are left out in NSO and CN UI due to this.",
        "comments": "Similar issue is seen on CNC UI during creation of route-policy from UI. Attached screenshot for reference.Small correction : Deletion of the service from CNC UI will be successful. Deletion of associated entities like It routing-policy, routing RD, routing policy tag throws validation failed error with illegal reference message as attached.4. Same delete operation when tried from NSO UI gives same error as attached in screenshot.Hello, can I please get the setup info that has this error.Regards,Janaki DuggiralaHi Janaki,As discussed, the issue is reproducible on CNC UI and NSO UI. Thanks,Gomathi.Customer confirmed issue is no longer reproducible. Closing ticket.Customer confirmed issue is no longer reproducible. Closing ticket."
    },
    {
        "title": "[RONCFPSD-474] L2VPN P2P not working with IOS XE due to MPLS label issue",
        "description": "With respect to NSO CFP, MPLS label is a mandatory configuration for L2VPN P2P on IOS XE device .And it pushes config below.interface pseudowire100 label 18067 18078But the label configuration is not accepted in IOS XE.Setup - 172.20.100.78 - admin/Ovatest123@Kindly suggest to track it with defect",
        "comments": " Hi Ajitha,Seems like you're trying to configure using labels outside of the range ( for details: <div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>device 172.27.226.188 {  config {    mpls {      label {        range {          min    1000;          max    2000;          static;          static-min 16;          static-max 999;        }      }    }  }}</pre></div></div>You'll need to update to \"mpls label range\" to use the label you're currently trying to push.Thanks,RegiAjitha confirmed that adjusting `mpls label range` fixed the issue"
    },
    {
        "title": "[RONCFPSD-312] create cs-sr-te policy with error: Status Code, message = Missing CS SR-TE status code mapping",
        "description": "I used the same sample payload, CS SR-TE Service Sample Payload - Static Path + Explicit SID, both from GUI and API, got the same error msg, please see the snapshot below for DryRun.Could you please help to see if i have missed anything.CW: 10.194.63.244 NSO: 10.194.63.180 (nso/Vtsisco@123!).",
        "comments": "Need to update the wiki with CS SR installation steps. Will create a ticket for this"
    },
    {
        "title": "[RONCFPSD-138] L2VPN+SRV6 tunnel is not coming up, getting error message No remote EVI EAD",
        "description": "L2VPN+SRV6 tunnel is not coming up, getting error message No remote EVI EAD.Below configuration pushes as part of the L2VPN+SRV6 service. BGP, ISIS ; SRV6 locators are configured as part of the prerequisite, please let us know if any prerequisite is missing on the device to bring up the tunnel.Config pushes to the device:-evpn interface GigabitEthernet0/0/0/1 ethernet-segment  identifier type 0 00.01.00.ac.ce.55.00.0a.00RP/0/RP0/CPU0:TB3-PE-D#show running-config l2vpnWed Feb 16 16:33:18.348 UTCl2vpn xconnect group L2NM-EVPN-SRV6 p2p L2NM-EVPN-SRV6  interface GigabitEthernet0/0/0/1.500  neighbor evpn evi 1 service 1 segment-routing srv6  locator ALG0r8RP/0/RP0/CPU0:TB3-PE-D#show running-config segment-routing srv6Wed Feb 16 16:33:25.625 UTCsegment-routing srv6 locators  locator ALG0r8  micro-segment behavior unode psp-usd  prefix fccc:cc11:82::/48  !  locator ALG128r8  micro-segment behavior unode psp-usd  prefix fccc:cc11:83::/48  algorithm 128  !  locator ALG129r8  micro-segment behavior unode psp-usd  prefix fccc:cc11:84::/48  algorithm 129  !  locator ALG130r8  micro-segment behavior unode psp-usd  prefix fccc:cc11:85::/48  algorithm 130  !  locator ALG131r8  micro-segment behavior unode psp-usd  prefix fccc:cc11:86::/48  algorithm 131  !  locator ALG132r8  micro-segment behavior unode psp-usd  prefix fccc:cc11:87::/48  algorithm 132  !  locator ALG134r8  micro-segment behavior unode psp-usd  prefix fccc:cc11:89::/48  algorithm 134RP/0/RP0/CPU0:TB3-PE-D#show l2vpn xconnect detailWed Feb 16 16:45:13.681 UTCGroup L2NM-EVPN-SRV6, XC L2NM-EVPN-SRV6, state is down; Interworking none AC: GigabitEthernet0/0/0/1.500, state is up  Type VLAN; Num Ranges: 0  Rewrite Tags:   MTU 1504; XC ID 0x2; interworking none  Statistics:   packets: received 0, sent 0   bytes: received 0, sent 0   drops: illegal VLAN 0, illegal length 0 EVPN: neighbor None, PW ID: evi 1, ac-id 1, state is down ( provisioned )  XC ID 0xa0000003  Encapsulation SRv6  Encap type Ethernet  Ignore MTU mismatch: Enabled  Transmit MTU zero: Enabled  Reachability: Down  Down reason(s): No remote EVI EAD          SRv6 is not enabled for EVPN   SRv6       Local            Remote   ---------------- ---------------------------- --------------------------   Unknown      unassigned          unknown   AC ID       1              1   MTU        1518             0   Locator      ALG0r8            N/A   Locator Resolved No              N/A   SRv6 Headend   H.Encaps.L2.Red       N/A  Statistics:   packets: received 0, sent 0   bytes: received 0, sent 0",
        "comments": "Device detailsTB2-PE-D -172.27.226.93TB2-PE-E -172.27.226.94Credentials -admin/cisco@123Hello Ragesh,I will discuss with team and come back to you as soon.Thanks,Isaac KimHello Ragesh,We tried to verify config on device and things seem fine from what we can see so far. No changes were made on device.It seems like your l2vpn xconnect is UP on both devices now.Please let us know if you run into any other issues.Thanks,Isaac KimClosed ticket since issue seems to have resolved itself and submitter has not responded in the past week"
    },
    {
        "title": "[RONCFPSD-104] Can't create services for \"netconf ned\" devices",
        "description": "When tying to create l2vpn evpn or l2vpn p2p services with endpoint(s) on the devices having Netconf NED the following error is shown:errors: reason: Python cb_validate error. STATUS_CODE: TSDN-L2VPN-408 REASON: Router NED not supported CATEGORY: user SEVERITY: ERROR Context [name = Router NED not supported: cisco-iosxr-nc-7.4:cisco-iosxr-nc-7.4, message = Missing dynamic device mapping state = {'Device': '172.16.1.116', 'Service': 'L2vpn-p2p-1001', 'Device NED ID': 'cisco-iosxr-nc-7.4:cisco-iosxr-nc-7.4'}] . paths: /cisco-flat-L2vpn-fp-internal-local-site:flat-L2vpn-internal-local-site-service{L2vpn-p2p-1001 172.16.1.116}. path: /cisco-flat-L2vpn-fp-internal-local-site:flat-L2vpn-internal-local-site-service{L2vpn-p2p-1001 172.16.1.116}Can you please check the issue?NSO: 10.56.116.100Version 5.5.2.7 + M6Devices were added via DLM-NSO sync",
        "comments": "Hi Leonid, What is credentials to log on this NSOHi Linh,10.56.116.100 ( nso/Public1234!) Thanks,Arun.M.GHi Arun,The l2vpn payload is not there and I don't see the issue. Please share the payload.Thanks,LinhPlease find the attached payload. It has device endpoints with 172.16.1.115 ( cli ned) and 172.16.1.117 ( netconf ned). It throws error while trying to configure. It seems that multi-vendor files are applied in a incorrect sequence. It should be applied after kicker xml file.It deleted flat-L2vpn multi-vendor configuration and reapplied it. The L2vpn service is working fine after thatPer Arun, the issue resolved."
    },
    {
        "title": "[RONCFPSD-49] Failed service with OSS Device allowing service update changes on other Service node",
        "description": "Hi Team,Please help to check and confirm that the following behavior of the corefp is expected.Steps to reproduce:1. Create a failed L3VPN service with one of the service node as OOS with commit-async.2. Edit the service field of an another service node that is up and online3. Perform commit-changes (no commit-queues)4. User get the update successfull message from the CNC5. The update is also able to be seen in the node that is up and online.",
        "comments": " NCS Version : 5.5.2.3Device Model and Version: XRV9K - 7.1.2The behavior has been found the same for both L3VPN and L2VPNHi Dinesh,I was unable to reproduce the issue directly on NSO. Can you please share the plan details on NSO itself to confirm plan is still failed? If its reached and one of the nodes is still unreachable, then can you also share the exact steps for reproduction.Thanks,RegiHi Regi,Please do find the plan status of the service - L2VPN:admin@ncs% run show l2vpn-ntw vpn-services vpn-service-plan L2VPN plan | tab                                                                            POST                       BACK                                                    ACTIONTYPE                  NAME TRACK GOAL STATUS CODE   STATE                   STATUS  WHEN         ref STATUS----------------------------------------------------------------------------------------------------------------------------------------------------------------self                  self false -   -        init                    reached 2021-08-10T16:46:29 -  -                                     ready                   failed  2021-08-10T16:46:42 -  -ietf-l2vpn-ntw-nano-services:vpn-node PE-A false -   TSDN-L2VPN-302 init                    reached 2021-08-10T16:46:29 -  -                                     ietf-l2vpn-ntw-nano-services:config-apply reached 2021-08-10T16:46:29 -  -                                     ready                   failed  2021-08-10T16:46:35 -  -ietf-l2vpn-ntw-nano-services:vpn-node PE-C false -   -        init                    reached 2021-08-10T16:46:29 -  -                                     ietf-l2vpn-ntw-nano-services:config-apply reached 2021-08-10T16:46:29 -  -                                     ready                   reached 2021-08-10T16:46:41 -  -plan failedplan error-info message \"Network Element Driver: device PE-A: out of sync\"                                                      IMPACTEDTYPE    NAME CODE      SEVERITY RECOMMENDED ACTION                       DEVICE  CONTEXT NAME    CONTEXT MSG--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------local-site PE-A TSDN-L2VPN-302 ERROR   Check sync between device and NSO, and perform recovery steps. PE-A   Device out of sync Network Element Driver: device PE-A: out of syncadmin@ncs%The reproducing steps are the same as exactly mentioned as follows. Kindly have a check.Thanks,DineshHi Dinesh,The plan is failed on NSO. Are we sure the issue isn't with CNC UI itself since you meantioned \"4. User get the update successfull message from the CNC\"?Hi Regi,The issue is also with CNC UI since Corefp behaves in the same way as CNC just replicates how corefp behaves.User get the update successful message from both CNC and NSO.The device config also get updated with the edit changes. Hence this is a definite corefp issue.Thanks,DineshPlease confirm if you could able to reproduce the issue with the provided info.Thanks,DineshHi Dinesh,I was able to reproduce the issue and was able to confirm that this was expected behavior. If the user decides to push configuration to a failed service a service then the service will not restrict the users intent; however, the correct procedure would be that the user would fix the failed service before pushing more configs.Thanks,RegiThank you for the confirmation Regi. Assuming that this is an expected design of the COREFP."
    },
    {
        "title": "[RONCFPSD-61] RON-ML is not functioning after TSDN M5 Consumption",
        "description": "Service stuck in init state with no error message UI+SSH: nso552/Public1234!Trace enabled for python VM ; ONC device netconf-cnc-il-ucs-haim4-2.trace",
        "comments": "Issue resolved, forgot to load RON-status-codes.xmlAs mentioned by the reporter, issue is resolved after loading RON-status-codes.xml . Hence closing the ticket."
    },
    {
        "title": "[RONCFPSD-75] Mixed MPLS-SR and SRv6 polices are created for ODN templates",
        "description": "Provision an L3VPN service with 3 SRv6 ODN templates associated. After provision, some policies are created for both v4 and v6. Attached is the email discussion, payload and NSO logs.NSO version: 5.5.2.7Device version: XRV9K 7.3.2.35IHere is the output on SRPCE:PCC 192.168.0.4:Tunnel Name: bgp_c_91_ep_2001:192:168::6_discr_100Tunnel Name: bgp_c_91_ep_2001:192:168::6_discr_200Tunnel Name: bgp_c_92_ep_2001:192:168::7_discr_100Tunnel Name: bgp_c_92_ep_2001:192:168::7_discr_200PCC 192.168.0.6:Tunnel Name: bgp_c_90_ep_2001:192:168::4_discr_100Tunnel Name: bgp_c_90_ep_2001:192:168::4_discr_200Tunnel Name: bgp_c_92_ep_192.168.0.7_discr_100Tunnel Name: bgp_c_92_ep_192.168.0.7_discr_200Tunnel Name: bgp_c_92_ep_2001:192:168::7_discr_100Tunnel Name: bgp_c_92_ep_2001:192:168::7_discr_200PCC 192.168.0.7:Tunnel Name: bgp_c_90_ep_2001:192:168::4_discr_100Tunnel Name: bgp_c_90_ep_2001:192:168::4_discr_200Tunnel Name: bgp_c_91_ep_192.168.0.6_discr_100Tunnel Name: bgp_c_91_ep_192.168.0.6_discr_200Tunnel Name: bgp_c_91_ep_2001:192:168::6_discr_100Tunnel Name: bgp_c_91_ep_2001:192:168::6_discr_200",
        "comments": "  Email conversation regarding this issueIn summary,This is a device behavior, nothing to be done from CFP \u201cTo summarize, when provision SRv6 ODN templates from CNC on a dual stack topology setup. Both MPLS-SR and SRv6 policies are created on devices. We are not sure if it is a platform issue or the device config issue.\u201d"
    },
    {
        "title": "[RONCFPSD-528] When verify the jwt token by using the curl command results in <error-tag>access-denied</error-tag>",
        "description": "Follow the , some missing steps may need to be added. Used the curl -is -H \"Authorization: Bearer $(cat /tmp/jwt.txt)\" -v, results in <errors xmlns=\"urn:ietf:params:xml:ns:yang:ietf-restconf\"> <error>  <error-type>protocol</error-type>  <error-tag>access-denied</error-tag> </error></errors>",
        "comments": "Thanks Quy Lu for setting up the call. Have captured the steps .Issue: Python requests module was missing from logscat /etc/os-releaseNAME=\"Ubuntu\"VERSION=\"18.04.1 LTS (Bionic Beaver)\"ID=ubuntuID_LIKE=debianPRETTY_NAME=\"Ubuntu 18.04.1 LTS\"VERSION_ID=\"18.04\"To install the Python `requests` module on Ubuntu, you can use the following steps. Please note that these instructions assume you have Python installed on your system.1. Update package list:Open a terminal and update the package list to ensure you are installing the latest version of the `requests` module.```bashsudo apt update```2. Install pip (if not already installed):```bashsudo apt install python3-pip```3. Install `requests` using pip:Once you have `pip` installed, you can use it to install the `requests` module.```bashpip3 install requests```The `requests` module should now be installed on your system. ```Python requests module was missing from logs2023-08-01 15:40:20.43 authenticate:261 INFO: Exception jwt-auth: No module named 'requests'2023-08-01 15:46:05.323 authenticate:261 INFO: Exception jwt-auth: No module named 'requests'I have also updated the wiki to make sure to restart ncs after making chnages to ncs.confThe issue is with environment. Closing the ticket after consent with quy.nso-10-194-63-180:/tmp# python3Python 3.8.2 (default, Oct 19 2020, 19:55:54) on linuxType \"help\", \"copyright\", \"credits\" or \"license\" for more information.>>> import requestsTraceback (most recent call last): File \"<stdin>\", line 1, in <module>ModuleNotFoundError: No module named 'requests'>>>root@nso-10-194-63-180:/home/nso# python3 -m pip install requests/usr/bin/python3: No module named piproot@nso-10-194-63-180:/home/nso# python3 --versionPython 3.8.2root@nso-10-194-63-180:/home/nso# pip3 --versionTraceback (most recent call last): File \"/usr/bin/pip3\", line 9, in <module> from pip import mainModuleNotFoundError: No module named 'pip'Enviroment issue"
    },
    {
        "title": "[RONCFPSD-272] NSO authentication issue",
        "description": "Hi Team,This is in continuation to the old Jsd According to Sahithi, NSO exhausts all methods of authentication before throwing connection refused error. In case of service play, if we remove the default map, the authentication error is being thrown for wrong credentials. But for config plays, for eg: configuring bundle ether, NSO throws authentication error even if the default map has the correct credentials present. We wanted to understand the difference between the two and if similar functionality can be applied to the service plays as well.For bundle ether config play logs, setup details are : NSO: 172.20.200.70admin/Cwork123!Devices: xrv9k-1 : 192.168.6.50 admin/cisco123xrv9k-2 : 192.168.6.51 admin/cisco123Thanks,Neha",
        "comments": "Hi Neha,1. Right now, I saw your setup is using 'cwuser' for pushing services between CNC UI and CFP, but this user is not set a proper permission in nacmcwuser@ncs% show nacm read-default   permit;write-default  permit;exec-default   permit;groups {  group ncsadmin {    user-name [ private ];  }  group ncsoper {    user-name [ public ];  }Please correct it.2. This is the authgroups that you definedcwuser@ncs% show devices authgroups group nso105 default-map {  remote-name   admin;  remote-password $9$jntAig740DzMVR2e0uvVhvvNCt7iifraQiFP/ZNvn7A=;}umap cwuser {  callback-node /cw-creds-get;  action-name  get;}You could NOT use cwuser for connect to xrv9k-1 since this user is not defined on the device sideThanks,LinhYour setup is also not within the specificationroot@ubuntu:/var/opt/ncs/packages# lscpuArchitecture:          x86_64CPU op-mode(s):         32-bit, 64-bitByte Order:           Little EndianAddress sizes:          43 bits physical, 48 bits virtualCPU(s):             4     <--- minimum is 8 CPUroot@ubuntu:/var/opt/ncs/packages# lsmemMemory block size:    128MTotal online memory:   16G <--- should be 64GBTotal offline memory:   0Broot@ubuntu:/var/opt/ncs/packages# python3 --versionPython 3.7.5rc1   <-- should be 3.8.xHi Neha,Since there is no new update on this issue, I am going to close this tick in next few days.Thanks,Linh"
    },
    {
        "title": "[RONCFPSD-514] Need help in bringing up a NSO L3 HA setup",
        "description": "Hi Van,Need help in bringing up a NSO L3 HA setup.Setup:NSO - 10.23.226.189 ; 190 nsoaz1/Cnc@1234NSO VIP - 10.23.226.191Kindly help troubleshoot further",
        "comments": "hi,BGP L3 setup needed:Jumphost vm with one lab network and one private network (vswitch).two node vm with goBGP installation for NSO-HA setup.one router (csrv1000 router).We can sync-up with a short meeting if you have a chance.thanks.hi Ajitha ,bgp L3 update:jumphost: 10.23.226.191 (cisco/Cisco123#)primary-node: 192.168.6.62 (cisco/Cisco123#)secondary-node: 192.168.5.62 (cisco/Cisco123#) both node has configured gobgp, HA , tailf-hcc with NSO 6.0.1CSR router: admin/Cwork123!lo: 4.4.4.4gig1: 192.168.6.4gig2: 192.168.5.3 bgp configuredhad a demo to Ajitha Thomas Nguyen completed configuration and demo setup operation to Ajitha.Thank you so much Thomas for the setup and clear explanation. This is very helpful.Hi Thomas/team,Need a quick help please.Tried to bring up end to end NSO L3 HA and it came up as expected, except VIP 7.7.7.7 did not came up in Primary NSO\u2019s Loopback IP. Would you please suggest.Jump host - 10.23.226.188 root/Cwork123!NSO 192.168.5.69, 192.168.6.69 VIP 7.7.7.7 (Credentials - nsoaz1/Cnc@1234)Router 5.5.5.5 admin/Cwork123!Steps followed:Brought up Ubuntu 22.04. Installed Java, Python, gobgp, NSO 6.1.2 and corresponding tailf-hcc package.Brought up CSR router and configured necessary bgp config (VIP 7.7.7.7 is learnt as bgp route in CSR router\u2019s routing table).Followed NSO HA wiki and configured HA, HCC configs L3 configs are similar to your configuration.L3 HA came up, Secondary node IP shown in Primary. All looks good except just 1 point - VIP not assigned to Loopback IP.ThanksAjitha"
    },
    {
        "title": "[RONCFPSD-500] Crash in NSO RFS",
        "description": "we had SH UNi-d scale setup with NSO LSA ( 1 CFS and 2 RFS).we were in progress of deleting L3vpn services., For a test. we have already deleted 14k l2vpn services on May 24th. and we were in progress of deleting l3vpn.Deleted 3850 services in 2 batches., (1925 and 1925)faced crash in RFS2 during the deletion of last 21 servicescollecing logs in rfs2I have restared the NCS in rfs2 and started proceeding my usecases to test. this issue is with FCS build.informed Sahithi about the issue and she is aware of the setup details. Logs collected and transferrred to another server172.29.106.130 (nso/Cwork123!)/home/nso/ncs6.1-fcs-nso-rfs2-crashFile name: data_052523_075543.tgzThanks,Arun.M.G",
        "comments": "Unicasted the setup details to Sahithi. please use the setup for RO purpose. ThanksArun.M.GClosing this as we have CDETS filed for it.Moving to CDETS"
    },
    {
        "title": "[RONCFPSD-266] migration of devices takes lot of time in upgrade",
        "description": "We are upgrading NSO 5.5.2.9 (TSDN 3.0) to NSO 5.7.3 M6 (TSDN 4.0) In step 6, migration of devices to new ned-id is taking around 5 mins in the setup. This is a scale setup with 25K devices. In this speed, it will take about 86 days to migrate the setup.Is there a way to increase the speed of migrating the ned id. Is this step mandatory for the upgrade?Setup: 172.20.63.190 - cnctest/Ovatest123@",
        "comments": "Hi Ramakrishnan, When you update TSDN between release, please diligently think what could affect the performance of the upgrade. Right now I saw this setup still under stress of a lot of restconf call from other server<INFO> 24-May-2022::11:04:22.639 cnc-scale-nso-190 ncs: audit user: cnctest/14572 assigned to groups: ncsadmin,cnctest,wheel<INFO> 24-May-2022::11:04:22.639 cnc-scale-nso-190 ncs: audit user: cnctest/14572 created new session via rest from 172.20.63.218:60353 with http<INFO> 24-May-2022::11:04:22.639 cnc-scale-nso-190 ncs: audit user: cnctest/14572 RESTCONF: request with http: GET /restconf/data HTTP/1.1<INFO> 24-May-2022::11:04:22.646 cnc-scale-nso-190 ncs: audit user: cnctest/14572 terminated session (reason: normal)<INFO> 24-May-2022::11:04:22.654 cnc-scale-nso-190 ncs: audit user: cnctest/14575 assigned to groups: ncsadmin,cnctest,wheel<INFO> 24-May-2022::11:04:22.654 cnc-scale-nso-190 ncs: audit user: cnctest/14575 created new session via rest from 172.20.63.218:35560 with https<INFO> 24-May-2022::11:04:22.654 cnc-scale-nso-190 ncs: audit user: cnctest/14575 RESTCONF: request with https: GET /restconf/data HTTP/1.1<INFO> 24-May-2022::11:04:22.658 cnc-scale-nso-190 ncs: audit user: cnctest/14575 terminated session (reason: normal)Please disable northbound calls during migration process.This is your current log settings  <developer-log>   <enabled>true</enabled>   <file>    <name>${NCS_LOG_DIR}/devel.log</name>    <enabled>true</enabled>   </file>  </developer-log>  <developer-log-level>trace</developer-log-level>Please don't use trace level for log. It would degrade the performance for sure. Please fix the issue I mentioned above.Thanks,-LinhHi Linh,Thanks for taking a look at the setup. Since Ramakrishna has signed-off for the day - to check the current services, just added this NSO to one of CNC. Due to full-sync, we are seeing that stress now. Otherwise while upgrading trails, this stress was not there. Is it ok if I remove this line \"<developer-log-level>trace</developer-log-level>\" save it ? Or we do need to restart ncs to get this into effect ? Please let me know.Thanks,Sreedhar.Hi Sreedhar,You could change it back info log level an then restart ncs.Regards,LinhI followed the steps in the Upgrade wiki. These debug logs were enabled in the config file /opt/ncs/ncs-5.7.3/etc/ncs/ncs.conf. xpath trace and developer logs. Also, there were many other changes like wrong log folders in this config file. I have to fix these issues, since ncs did not start. Can you fix these issues in the specified ncs.conf file. As defined in the stiep 2 of, it is responsible of the user to migrate configuration from old ncs.conf to the new ncs.conf template at /opt/ncs/ncs-5.7.3/etc/ncs/ncs.conf. Then the new ncs.conf needs to be coped to the location /etc/ncs/. The configuration is depending on each individual setup. There is no such one ncs.conf that works for all setups.My humble request is to disable trace level log for both xpath trace and developer logs in the /opt/ncs/ncs-5.7.3/etc/ncs/ncs.conf. This will avoid trace level logs for all setups when people follow the steps. It seems your use case is different from other people where they need these configuration to be enabled. You should take a note for yourself so you should not hit to these mistake again.  Again there is no one ncs.conf that fit in for all use cases. Users need diligently to modify ncs.conf to fit in their use cases.How long it does take to migrate ned-id is depending on how many entries that need to update. I saw your system has quite a number of entries to updatecnctest@ncs% request devices device Node_100_68 migrate new-ned-id cisco-iosxr-cli-7.39 no-networkingmodified-path {  path /cisco-ios-xr:segment-routing/traffic-eng/affinity-map/color/bit-position  info leaf/leaf-list type has changed}modified-path {  path /cisco-ios-xr:policy-map/class/class-default/police-rate-unit/police/rate/percent  info leaf/leaf-list type has changed}modified-path {  path /cisco-ios-xr:policy-map/class/class-ref/police-rate-unit/police/rate/percent  info leaf/leaf-list type has changed}modified-path {  path /cisco-ios-xr:snmp-server/timeouts/duplicate  info leaf/leaf-list type has changed}modified-path {  path /cisco-ios-xr:dhcp/ipv4/database  info node type has changed from non-presence container to presence container}modified-path {  path /cisco-ios-xr:key/chain/key/key-string/type  info leaf/leaf-list type has changed}modified-path {  path /cisco-ios-xr:ptp/clock/profile/clock-type  info leaf/leaf-list type has changed}modified-path {  path /cisco-ios-xr:ntp/access-group/vrf  info sub-tree has been deleted}modified-path {  path /cisco-ios-xr:ethernet/oam/profile/action/wiring-conflict  info leaf/leaf-list type has changed}modified-path {  path /cisco-ios-xr:vrf/vrf-list/address-family/ipv6/flowspec/import/from/default-vrf/route-policy  info leaf/leaf-list type has changed}modified-path {  path /cisco-ios-xr:vrf/vrf-list/address-family/ipv6/multicast/import/from/default-vrf/route-policy  info leaf/leaf-list type has changed}modified-path {  path /cisco-ios-xr:vrf/vrf-list/address-family/ipv6/unicast/import/from/default-vrf/route-policy  info leaf/leaf-list type has changed}modified-path {  path /cisco-ios-xr:vrf/vrf-list/address-family/ipv4/flowspec/import/from/default-vrf/route-policy  info leaf/leaf-list type has changed}modified-path {  path /cisco-ios-xr:vrf/vrf-list/address-family/ipv4/multicast/import/from/default-vrf/route-policy  info leaf/leaf-list type has changed}modified-path {  path /cisco-ios-xr:vrf/vrf-list/address-family/ipv4/unicast/import/from/default-vrf/route-policy  info leaf/leaf-list type has changed}modified-path {  path /cisco-ios-xr:group/config/segment-routing/traffic-eng/affinity-map/color/bit-position  info leaf/leaf-list type has changed}modified-path {  path /cisco-ios-xr:admin/dsc/serial/rack  info leaf/leaf-list type has changed}And devel.log shows<INFO> 25-May-2022::13:04:04.897 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli device=Node_100_68 migrating<INFO> 25-May-2022::13:04:04.899 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli device=Node_100_68 migrating device configuration<INFO> 25-May-2022::13:04:04.905 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli device=Node_100_68 migrating device configuration: ok (0.005 s)<INFO> 25-May-2022::13:04:04.905 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli device=Node_100_68 finding affected services<INFO> 25-May-2022::13:04:04.906 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli device=Node_100_68 finding affected services: ok (0.000 s)<INFO> 25-May-2022::13:04:04.906 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli applying transaction<INFO> 25-May-2022::13:04:04.906 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli entering validate phase<INFO> 25-May-2022::13:07:47.971 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli grabbing transaction lock<INFO> 25-May-2022::13:07:47.971 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli grabbing transaction lock: ok (0.000 s)<INFO> 25-May-2022::13:07:47.972 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli run transforms and transaction hooks<INFO> 25-May-2022::13:07:47.977 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli run transforms and transaction hooks: ok (0.005 s)<INFO> 25-May-2022::13:07:47.977 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli mark inactive<INFO> 25-May-2022::13:07:47.978 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli mark inactive: ok (0.000 s)<INFO> 25-May-2022::13:07:47.978 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli pre validate<INFO> 25-May-2022::13:07:47.979 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli pre validate: ok (0.000 s)<INFO> 25-May-2022::13:07:47.979 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli run validation over the changeset<INFO> 25-May-2022::13:07:47.985 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli run validation over the changeset: ok (0.006 s)<INFO> 25-May-2022::13:07:47.985 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli run dependency-triggered validation<INFO> 25-May-2022::13:07:48.017 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli run dependency-triggered validation: ok (0.032 s)<INFO> 25-May-2022::13:07:48.017 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli check configuration policies<INFO> 25-May-2022::13:07:48.017 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli check configuration policies: ok (0.000 s)<INFO> 25-May-2022::13:07:48.206 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli leaving validate phase (223.300 s)<INFO> 25-May-2022::13:07:48.207 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli entering write-start phase<INFO> 25-May-2022::13:07:48.207 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli subsystem=cdb write-start<INFO> 25-May-2022::13:07:48.207 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli subsystem=ncs-internal-service-mux write-start<INFO> 25-May-2022::13:07:48.240 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli check data kickers<INFO> 25-May-2022::13:07:48.240 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli check data kickers: ok (0.000 s)<INFO> 25-May-2022::13:07:48.247 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli leaving write-start phase (0.040 s)<INFO> 25-May-2022::13:07:48.247 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli entering prepare phase<INFO> 25-May-2022::13:07:48.247 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli subsystem=cdb prepare<INFO> 25-May-2022::13:07:48.247 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli subsystem=ncs-internal-device-mgr prepare<INFO> 25-May-2022::13:07:48.248 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli leaving prepare phase (0.001 s)<INFO> 25-May-2022::13:07:48.248 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli entering commit phase<INFO> 25-May-2022::13:07:48.248 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli subsystem=cdb commit<INFO> 25-May-2022::13:07:48.250 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli subsystem=ncs-internal-device-mgr commit<INFO> 25-May-2022::13:07:48.251 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli releasing transaction lock<INFO> 25-May-2022::13:07:48.251 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli leaving commit phase (0.002 s)<INFO> 25-May-2022::13:07:48.251 cnc-scale-nso-190 ncs: devel-cdb Device migration validate for mount-id: {549854595,1044521224}<INFO> 25-May-2022::13:07:48.251 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli applying transaction: ok (223.345 s)<INFO> 25-May-2022::13:07:48.251 cnc-scale-nso-190 ncs: devel-cdb Device migration validation succeeded<INFO> 25-May-2022::13:07:48.252 cnc-scale-nso-190 ncs: ncs progress usid=109 tid=98887276 datastore=running context=cli device=Node_100_68 migrating: ok (223.354 s)So it is expected. It would take under 4 minutes to migrate one device"
    },
    {
        "title": "[RONCFPSD-299] custom-template-events and dispatch-map-update subscription fail in M8",
        "description": "Deploy LSA setup. On CFS node, step 8 of \"RFS OnBoarding Steps\". It showed the following result:admin@ncs> show devices device rfs-195 netconf-notifications subscription                      FAILURE                                NAME               STATUS  REASON   ERROR INFO                         ------------------------------------------------------------------------------------------------------------------rfs-cisco-custom-template-events failed  subscribe Failed to create subscription: bad_element: no such stream rfs-dispatch-map-update      failed  subscribe Failed to create subscription: bad_element: no such stream rfs-kicker-events         running -     -   Both step3 and step4 the commit are successful. step3: Configure Netconf notification subscriptionstep4: Configure RFS notification settingIt will be great if you can help to take a look.Here is the NSO node info.:CFS: 2001:420:10e:201d:172:23:85:194RFS-195: 2001:420:10e:201d:172:23:85:195RFS-196: 2001:420:10e:201d:172:23:85:196id/pw: admin/Vtsisco@123!",
        "comments": "Hi CrystalI checked the setup and found that the dispatch-map-update and custom-template-events under event streaming were not configured on the RFS nodes. For configuring the streams please refer point 2 and 3 under section \"Configure ncs.conf on RFS node\" in the below url:I have configured the above missing streams on the RFS node 195 and thenetconf notifications subscription verification is successful now for this node.Please follow the above mentioned steps to configure the same for RFS node 196. Restart the ncs on RFS and then CFS after configuring the streams.Thanks, NikhilUser missed to configure the streams on the RFS node and hence the issue was coming. Updated the details on one RFS node and the issue no more exists.Issue is resolved with Nikhil's help.Here are the steps:1. Updated ncs.conf on rfs nodes by follow point 2 and 3 under section Configure ncs.conf in the following wiki:2. restart ncs on rfs and cfs nodes."
    },
    {
        "title": "[RONCFPSD-289] L2VPN Service creation failed with RPC error towards RFS-1: unknown_element",
        "description": "show tech copied @ /auto/ncahi/cw_pyats/users/shbalu/bkp/NSO-rwxrwxrwx 1 shbalu eng 393M Jul 5 06:57 data_070522_134540.tgz -rwxrwxrwx 1 shbalu eng 1.2G Jul 5 06:58 data_070522_134550.tgz L2VPN service creation failed , and after doing sync-to , service creation went successfuladmin@ncs> show l2vpn-ntw vpn-services vpn-service-plan L2VPN-ASR9901-1-4-t-ldp-Vlan3005l2vpn-ntw vpn-services vpn-service-plan L2VPN-ASR9901-1-4-t-ldp-Vlan3005 plan component self self state init  status reached  when  2022-07-05T07:30:05 state ready  status failed  when  2022-07-05T07:30:07 back-track false plan component ietf-l2vpn-ntw-nano-services:vpn-node ASR9901-1 state init  status reached  when  2022-07-05T07:30:05 state ietf-l2vpn-ntw-nano-services:config-apply  status reached  when  2022-07-05T07:30:05 state ready  status not-reached back-track false plan component ietf-l2vpn-ntw-nano-services:vpn-node ASR9901-4 state init  status reached  when  2022-07-05T07:30:05 state ietf-l2vpn-ntw-nano-services:config-apply  status reached  when  2022-07-05T07:30:05 state ready  status not-reached back-track false plan failed plan error-info message \"RPC error towards RFS-1: unknown_element: for /cisco-flat-L2vpn-fp-internal-remote-site:flat-L2vpn-internal-remote-site-service/cisco-flat-L2vpn-fp-internal-remote-site:flat-L2vpn-p2p: /flat-L2vpn-internal-remote-site-service/flat-L2vpn-p2p: the 'when' expression \\\"../service-type = 'p2p'\\\" failed\"admin@ncs> admin@ncs% request devices device * sync-to  devices device RFS-1 sync-to  result truedevices device RFS-3 sync-to  result trueadmin@ncs% exit              admin@ncs> show l2vpn-ntw vpn-services vpn-service-plan L2VPN-ASR9901-1-4-t-ldp-Vlan3005                                                                           POST                           BACK     STATUS                                        ACTION TYPE                  NAME    TRACK GOAL CODE  STATE                   STATUS  WHEN         ref STATUS -------------------------------------------------------------------------------------------------------------------------------------------------------------self                  self    false -   -    init                    reached 2022-07-05T07:30:05 -  -                                       ready                   reached 2022-07-05T14:10:01 -  -    ietf-l2vpn-ntw-nano-services:vpn-node ASR9901-1 false -   -    init                    reached 2022-07-05T07:30:05 -  -                                       ietf-l2vpn-ntw-nano-services:config-apply reached 2022-07-05T07:30:05 -  -                                       ready                   reached 2022-07-05T14:10:01 -  -    ietf-l2vpn-ntw-nano-services:vpn-node ASR9901-4 false -   -    init                    reached 2022-07-05T07:30:05 -  -                                       ietf-l2vpn-ntw-nano-services:config-apply reached 2022-07-05T07:30:05 -  -                                       ready                   reached 2022-07-05T14:10:01 -  -    admin@ncs> ",
        "comments": "Hi Shanmugavel Balu,Could you please share the exact steps to reproduce ?As synch from resolved the issue so does not look like CFP issue.Looking at the description looks like your rfs-1 was out of sync, or sync was not done even once .We can do Webex if needed.Is it a consistent issue or intermittent?ThanksPriyankaHad a call with Priyanka and reproduced the issue, she is going to update after the root causeHi Balu,We are looking into it .I will soon provide update on this.Thank you for going over the issue over webex and showing steps .Regards,Priyankanot seen recently."
    },
    {
        "title": "[RONCFPSD-538] Ncs cli stucked while fetching ssh keys for devices",
        "description": "1. ncs cli got stucked while executing fetch keys for any device. (Devices are added from DLM)2. Observing huge number of requests received from 2 CW nodes {1 worker and 1 hybrid where dlm pods are running}Attached nso_response.rtf file for more data Impact on CW :REST delete call to NSO is timing out and connect to devices is failing.",
        "comments": " Hello, please provide us your setup information so we can troubleshoot issue.Unicasted setup details in Webex to Janaki Duggirala.Note : We are running daily regression automation suites with this setup. Current run is in progress. we can not stop any regression runs and expecting no disruption to this nso.If any config changes needs be done, pl inform us.Customer has provided setup issue. Proceeding to request meeting to troubleshoot further since Issue is not with NSO.NSO CLI is able to connect to devices successfully. Fetch host keys on all devices is successful. NSO API works correctly as well.Forwaded mail conversation from crosswork team to Janakiaddition to below scenario seeing following msg on nSO config mode randomlynso https (rest from 2001:420:10e:200e:c000::1711) on since 2023-08-22 11:45:04 terminal modenso https (rest from 2001:420:10e:200e:c000::1711) on since 2023-08-22 11:44:33 terminal modenso https (rest from 2001:420:10e:200e:c000::1711) on since 2023-08-22 11:40:04 terminal modeOpenfiles must be min 64Konly 6 CPU's &#8211; min needed is 8Needed 64 GB RAM (also recommended 128 GB)From meeting, requesting customer to update setup to above minimum system specifications.Reinstalled NSO and observing same issue1. Upgraded Java versionadmin@eagle-nso:~$ java --versionopenjdk 17.0.7 2023-04-18OpenJDK Runtime Environment (build 17.0.7+7-Ubuntu-0ubuntu122.10.2)OpenJDK 64-Bit Server VM (build 17.0.7+7-Ubuntu-0ubuntu122.10.2, mixed mode, sharing)2. Changed file descriptoradmin@eagle-nso:~$ ulimit -areal-time non-blocking time (microseconds, -R) unlimitedcore file size       (blocks, -c) 0data seg size        (kbytes, -d) unlimitedscheduling priority         (-e) 0file size          (blocks, -f) unlimitedpending signals           (-i) 63470max locked memory      (kbytes, -l) 2046464max memory size       (kbytes, -m) unlimitedopen files             (-n) 65535pipe size        (512 bytes, -p) 8POSIX message queues     (bytes, -q) 819200real-time priority         (-r) 0stack size         (kbytes, -s) 8192cpu time          (seconds, -t) unlimitedmax user processes         (-u) 63470virtual memory       (kbytes, -v) unlimitedfile locks             (-x) unlimitedadmin@eagle-nso:~$3. Increased CPU : System resources: 8vCPUs, 16Gb Mem, 100Gb HDDadmin@eagle-nso:~$ lscpuArchitecture:      x86_64 CPU op-mode(s):    32-bit, 64-bit Address sizes:     45 bits physical, 48 bits virtual Byte Order:      Little EndianCPU(s):         8 On-line CPU(s) list:  0-7Vendor ID:        GenuineIntel Model name:      Intel(R) Xeon(R) CPU E5-2670 v3 @ 2.30GHz  CPU family:     6  Model:        63  Thread(s) per core: 1  Core(s) per socket: 1  Socket(s):      8  Stepping:      2  BogoMIPS:      4588.94  Flags:        fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon nopl xtopology tsc_reliable nonstop_tsc cpuid tsc_known_freq pni pclmulqd             q ssse3 fma cx16 pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm abm cpuid_fault invpcid_single pti ssbd ibrs ibpb stibp fsgsbase tsc_adjust bmi1 avx2 smep bmi2 invpcid xsave             opt arat md_clear flush_l1d arch_capabilitiesVirtualization features:  Hypervisor vendor:   VMware Virtualization type:  fullCaches (sum of all):    L1d:          256 KiB (8 instances) L1i:          256 KiB (8 instances) L2:          2 MiB (8 instances) L3:          240 MiB (8 instances)NUMA:           NUMA node(s):     1 NUMA node0 CPU(s):   0-7Vulnerabilities:      Itlb multihit:     KVM: Mitigation: VMX unsupported L1tf:         Mitigation; PTE Inversion Mds:          Mitigation; Clear CPU buffers; SMT Host state unknown Meltdown:       Mitigation; PTI Mmio stale data:    Mitigation; Clear CPU buffers; SMT Host state unknown Retbleed:       Mitigation; IBRS Spec store bypass:   Mitigation; Speculative Store Bypass disabled via prctl Spectre v1:      Mitigation; usercopy/swapgs barriers and __user pointer sanitization Spectre v2:      Mitigation; IBRS, IBPB conditional, STIBP disabled, RSB filling, PBRSB-eIBRS Not affected Srbds:         Not affected Tsx async abort:    Not affectedadmin@eagle-nso:~$ Thank you for posting the upgrade information. Please let us know the result for fetch host keys (original issue).Issue is still seen with 6.1.2CDET - CSCwh32161 for tracking this. nso/tm-tc dev team is working on this issue.Moved to platform team. RT filed"
    },
    {
        "title": "[RONCFPSD-262] CFS node crashing continuously",
        "description": "I have 2 CFS (HA) node and 2 RFS (HA) node. One of the CFS node is crashing continuously. Both CFS node are with 16 vCPU and 48G of mem. I am onboarding less than 150 devices.nsoadmin@nso-cfs-ha-1:~$ ulimit -acore file size     (blocks, -c) 0data seg size      (kbytes, -d) unlimitedscheduling priority       (-e) 0file size        (blocks, -f) unlimitedpending signals         (-i) 192793max locked memory    (kbytes, -l) 65536max memory size     (kbytes, -m) unlimitedopen files           (-n) 65535pipe size      (512 bytes, -p) 8POSIX message queues   (bytes, -q) 819200real-time priority       (-r) 0stack size       (kbytes, -s) 8192cpu time        (seconds, -t) unlimitedmax user processes       (-u) 65535virtual memory     (kbytes, -v) unlimitedfile locks           (-x) unlimitednsoadmin@nso-cfs-ha-1:~$",
        "comments": "Hello, please let me know the Python version in use, and the access info to the setup.the python version is 3.8. Please ping me for the setup infoHi Joby,As confirmed, HA is looking good when moved to the new compute.Confirming that this VM crash is not related TSDN CFP.Will be closing the JSD.ThanksSahithiReporter has confirmed all well with the Node.Ticket is Invalid since debugging showed that issue was because of badVM/ESXiand not a problem with NSO."
    },
    {
        "title": "[RONCFPSD-504] Not able to install nso-6.1_230322-tsdn-5.0.0-M8-5.0+NSS-4.tar.gz on system install ",
        "description": "root@nso-ucs-haim2:/var/opt/ncs/packages# /etc/init.d/ncs start-with-package-reloadStarting ncs: NCS package upgrade failed with reason 'package upgrade failed - see /var/log/ncs/ncs-python-vm.log for details.'VM Details: 10.56.58.39 nso610/Public1234!Sudo pwd Public1234!",
        "comments": "Issue exist for           nso-6.1_230322-tsdn-5.0.0-M8-5.0+NSS-4But does not exist for pure nso-6.1_230322-tsdn-5.0.0-M8I tried restarting but I observed all packages have been removed.Just wondering why we are using older M8 build which had been compiled with 22nd March version of 6.1 NSO with Official NSO 6.1 version.We are facing now the same problem with nso-6.1_230322-tsdn-5.0.0-M8package reload force returning the same problem Can you please look in to our server ?Packages are take from :/home/nso610/nso-6.1_230322-tsdn-5.0.0-M8/tsdn/example-packages/*/home/nso610/nso-6.1_230322-tsdn-5.0.0-M8/tsdn/core-fp-packages/*VM Details:10.56.58.39 nso610/Public1234!Sudo pwd Public1234!Hi Yevgeny,I was able to proceed with the installation but I see consistent memory errors in the system which we have observed with NCS engineering builds.Sys logs:Jun 8 19:11:26 nso-ucs-haim2 kernel: python3: segfault at 8 ip 00007f3bfb3bf255 sp 00007ffc36b6a520 error 4 in libconfd.soJun 8 19:11:26 nso-ucs-haim2 kernel: python3: segfault at 8 ip 00007faae16e3255 sp 00007ffd01494c70 error 4 in libconfd.soncs python logsRuntimeError: can't allocate locklibgcc_s.so.1 must be installed for pthread_cancel to work  return _posixsubprocess.fork_exec(OSError: Cannot allocate memory<INFO> 8-Jun-2023::19:26:38.734 nso-ucs-haim2 ncs: Got EXIT on Port= #Port<0.152><INFO> 8-Jun-2023::19:26:38.742 nso-ucs-haim2 ncs: Restarted PyVM: <<\"cisco-aa-service-assurance\">> , Port=#Port<0.256> , OSpid=\"5348\"Can you take look at VM installation or use most recent build sent ?Sahithi Patibandla, you have to be very specific with your instructions, since we are in a very tight schedule. 1. What to install exactly2. Where to take it from Yes. I have replied with my observations. These errors are python mem errors.I do not have specific instructions here to go by except to ask again on why NSO-C team is using older M8 build which had been compiled with 22nd March version build NSO build with Official NCS 6.1 installed?ThanksSahithiInstalled official nso 6.1 from cisco software download site Installed official nso-6.1-tsdn-5.0.0-RC packages.Problem remains as is Hi Yevgeny,I restarted the NSO with package reload. I see the packages up with latest buildadmin@ncs> show packages package oper-status upNAME             UP----------------------------------cisco-aa-service-assurance  Xcisco-cs-sr-te-cfp      Xcisco-flat-L2vpn-fp-internal Xcisco-flat-L3vpn-fp-internal Xcisco-ios-cli-6.86      Xcisco-iosxr-cli-7.46     Xcisco-pm-fp          Xcisco-pm-fp-internal     Xcisco-rsvp-te-fp       Xcisco-sr-te-cfp        Xcisco-sr-te-cfp-internal   Xcisco-tsdn-core-fp-common   Xcore-fp-common        Xcore-fp-delete-tag-service  Xcore-fp-plan-notif-generator Xcustom-template-utils     Xflat-l2vpn-multi-vendors   Xflat-l3vpn-multi-vendors   Xietf-l2vpn-nm         Xietf-l3vpn-nm         Xietf-te-fp          Xlsa-utils           Xpm-multi-vendors       Xresource-manager       Xrsvp-te-multi-vendors     Xsr-te-multi-vendors      XPlease let me know if you have any issues.Closing the issue as resolution to load new packages has been established.Official 6.1 installation resolved partial error.ncs restart with package reload resolved rest of the errors."
    },
    {
        "title": "[RONCFPSD-276] Delete scenario with commit-queue is false",
        "description": "According to - CSCwb55398, when the commit queue is false, as per DE A-comment, \"NSO will markt he plan failed and list the devices that have failed in the commit with the related error message\"But the same is not behaviour when trying to delete the service which has one out-of-sync node. That is, when deleting the service which has out-of-sync node, shows only the desired device that is out of sync not all the devices in the commit.",
        "comments": "Requested meeting with Submitter.Will demo to submitter that this is expected behavior of NSO.Developer Notes as below:<ins></ins> A device is shutdown or Out-Of-Sync.show devices global-settings commit-queue ---> enabled-by-default false;<ins></ins>:CASE 1: Editing multiple devices config in the same commit (with OOS device included) will result in a plan with all failed devices showing same error message. (attached screenshot taken on latest build with Netsim)CASE 2: Deleting multiple services in the same commit (with OOS device included) will result in a plan with only OOS Device present in plan and all other devices successfully deleted (attachedscreenshot taken on latest build with Netsim)  The explanation below clarifies the doubt.This ticket can be moved to close.Thanks,DineshCustomer needed clarification regarding behavior of TSDN. Clarification was provided. No bugs/issues/fixes/change in code."
    },
    {
        "title": "[RONCFPSD-59] No able to boot up NSO 5.5.2.",
        "description": "nso552@nso-ucs-haim1:~/.0.0$ ncs/home/nso552/nso-5.5.2.7/bin/ncs: 589: exec: /home/nso552/nso-5.5.2.7/lib/ncs/erts/bin/ncsexec: Exec format errorPlese see the attached screenshot, what am i doing wrong? It is following your installation instructions ",
        "comments": "Was using wrong installation archive, please close As mentioned by the reporter , working fine after using the correct installation archive. Hence closing the ticket."
    },
    {
        "title": "[RONCFPSD-71] Router NED not supported- ASR 920",
        "description": "Load an L2NM P2P import file from NSO UI, it failed with: TSDN-L2VPN-408 REASON: Router NED not supported CATEGORY: user SEVERITY: ERROR Context [name = Router NED not supported: cisco-ios-cli-6.74:cisco-ios-cli-6.74, message = Missing dynamic device mapping state.Attached with complete screenshot and payload.Is there anything missing in my setup?Devices:ASR920-1-PE717.5.1ASR903-1-PE917.6.1NSO: 5.5.2.7TSDN cfp: 3.0.0 M5",
        "comments": " Hello Crystal,Here multi-vendor support is missing for this ned. If we are using any ned-id other than XR CLI (default) we need to set dynamic device mapping for the ned. Please use this wiki for steps to add multivendor support.--RaghaviThanks Raghavi for the info and support. I can proceed now.Like to include the other link you shared here since the fist link I got \"page not found\" error:"
    },
    {
        "title": "[RONCFPSD-65] CNC Support and Netconf NED for CNC 3.0 Milestone M5 build",
        "description": "We would need to know about NED versions support for below device version in CNC 3.0 Milestone 5 ( M5).1] Can we manage the device with 7.3.2.37I image?Does the TSDN 3.0.0 M5 NED work for 7.3.2.37I ? or should we go for 7.3.2.34I alone ?2] we would need to know the corresponding NED for the below also.7.0.2 7.1.2 7.2.1 7.3.1    7.3.2     7.4.1IOS XE : 17.5.1 Thanks,Arun.M.G",
        "comments": "Please refer to the following page for NED versions support in CNC 3.0 Milestone 5For point 1]: we have validated with 7.3.2.34I . Please refer to the following page for the Devices and Images Used for testing. For point 2: Please refer to the following page for the Device support.  In the places where we have \"Yes\" for IOSXR CLI, the same IOSXR CLI NED (7.33.12) will work for them . Also IOSXE CLI (6.74.2) will work for them.so, the NED ncs-5.5-cisco-iosxr-nc-7.3.2.34I.tar.gz can used for 7.3.2.37I , 7.3.1 and 7.4.1??on installed packages, i can see as below., ncs-5.5.2-cisco-iosxr_netconf-7.4.1.tar.gz - we can use this for 7.4.1the confusion is for 7.3.1 and 7.3.2.37i., cisco-iosxr-nc-7.3      7.3   -                               -     -    X  -   cisco-iosxr-nc-7.315     7.315  ncs-5.5.2-cisco-iosxr-7.315.tar.gz               c81c8124  5.5.2  X  - lets us know which one to use for 7.3.1 and 7.3.2.37iThanks,Arun.M.GPlease find the mapping below for the NED and device :ncs-5.5.2-cisco-iosxr_netconf-7.4.1.tar.gz - 7.4.1ncs-5.5-cisco-iosxr-nc-7.3.2.34I.tar.gz - 7.3.1 and 7.3.2 Please note that we have validated only with 34I. We have not validated with 7.3.2.37I .Please refer to the following page for the Devices and Images Used for testing."
    },
    {
        "title": "[RONCFPSD-128] Failedprovisioning due to devices/lsa/dispatch-map/device",
        "description": "Running sanity on the LSA setup I see all our provisioningtests passed successfully with 1 exception: service IETF-RSVP-TE-EXPICIT-ERO-410 failed due to the following error: (taken from the plan errorinfo screen)Service Alarm : Pythoncb_post_modification error. deivce (None) not found in the devices/lsa/dispatch-map/device/te:te/te:tunnels/te:tunnel/te:log/te:log-entryIm not sure which device is missing from dispatch map. Theservice head end is device: PE-C and it seems to appear in the LSA CFSnso-ucs-haim1-vm1 (10.56.58.44)\u00a0\u00a0 \u00a0\u00a0 CFSnso-ucs-haim1-vm2 (10.56.58.122)\u00a0\u00a0 \u00a0RFS1nso-ucs-haim1-vm3 (10.56.58.128)\u00a0\u00a0 \u00a0RFS2Credentials: nso57/ Public1234! SSH:\u00a0nso57/ Public1234!",
        "comments": "Error info can be found here: Hi Shlomi,The config used is missing the tail-end device. Please verify after updating the same.Regards , NishadAssuming adding `tail-end` resolved issue as no response from submitter for past few weeks"
    },
    {
        "title": "[RONCFPSD-114] Issue with Provisioning RSVP-TE",
        "description": "Name Duplication in deployment ",
        "comments": "Please provide the details mentioned in the release note: The name shown is a combination of tunnel-name and primary-path name.Please provide more details regarding the issue .Hi, info-request has been pending for over a month.I will drop this ticket as there has been no reply. Please feel free to reopen this ticket when ready to continue.Thanks,Isaac KimNo response for few months. Will close to prevent long-term pending tickets from building up in our queue. Please feel free to reopen when ready to continue."
    },
    {
        "title": "[RONCFPSD-100] After service recreation (delete+create) , service provisioning takes more time - ~5 minutes or more",
        "description": "After service recreation (delete+create) , service provisioning takes more time - ~5 minutes or moreSetup: 10.195.165.76 - admin/Admin*123 - cw-admin/Ovatest123@NSO: 10.195.165.123 - nso123/nso123Service name: bundlencs540",
        "comments": "Ajitha reached out with another service (which was deleted and then recreated) taking a long time to get provisioned. When looking into this service, on the NSO it looks like service creation is stalled as there is no lifecycle-state information :<blockquote>admin@ncs>show devices device onc-real-new live-status context connectivity-context connectivity-service 6171500c-923c-4e60-9860-f6b8b947a313 lifecycle-state% No entries found.admin@ncs> show ron uuid-lookupRON MLSERVICE    UUID----------------------------------------------------9903     6171500c-923c-4e60-9860-f6b8b947a313bundlencs540 de1e357f-b208-4f08-ae5d-49bbeeddd27afreta     94baae3e-0b85-48dc-b1cd-fa1c99fc8156</blockquote>The ONC trace does not show any notifications either.Looking into the ONC, the service data shows the following:<blockquote>{   \"uuid\": \"6171500c-923c-4e60-9860-f6b8b947a313\",   \"name\": [    <div class=\"error\"> </div>   ],   \"administrative-state\": \"UNLOCKED\"  },</blockquote>This is missing the following info:<blockquote>\"operational-state\": \"ENABLED\",\"lifecycle-state\": \"INSTALLED\"</blockquote>Recommended Ajitha reach out to ONC team for further assistanceAs discussed with Ajitha. The issue is that there is a delay in the lifecycle-state notification from the ONC to the NSO. In the most recent case (service 9903), there was no notification (success or failure) and the service was stalled on the NSO. I suggest reaching out to ONC team for further assistanceDid some more looking into the ONC trace. Copying the relevant ONC notifications with timestamps here. There is ~10 minute delay between the PLANNED and INSTALLED notif from the ONC.<blockquote><<<<in 6-Oct-2021::18:42:42.773 user: admin/274864 thandle 254296 hostname nso123 device onc-real-new session-id=1761<rpc-reply xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\"      message-id=\"2\"> <data xmlns=\"urn:ietf:params:xml:ns:yang:ietf-netconf-nmda\">  <context xmlns=\"urn:onf:otcc:yang:tapi-common\">   <connectivity-context xmlns=\"urn:onf:otcc:yang:tapi-connectivity\">    <connectivity-service>     <uuid>de1e357f-b208-4f08-ae5d-49bbeeddd27a</uuid>     <lifecycle-state>PLANNED</lifecycle-state>    </connectivity-service>   </connectivity-context>  </context> </data></rpc-reply><<<<in 6-Oct-2021::18:51:11.825 user: admin/275168 thandle 254687 hostname nso123 device onc-real-new session-id=1828<rpc-reply xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\"      message-id=\"2\"> <data xmlns=\"urn:ietf:params:xml:ns:yang:ietf-netconf-nmda\">  <context xmlns=\"urn:onf:otcc:yang:tapi-common\">   <connectivity-context xmlns=\"urn:onf:otcc:yang:tapi-connectivity\">    <connectivity-service>     <uuid>de1e357f-b208-4f08-ae5d-49bbeeddd27a</uuid>     <lifecycle-state>INSTALLED</lifecycle-state>    </connectivity-service>   </connectivity-context>  </context> </data></rpc-reply></blockquote>As discussed. ONC team to take this forward. "
    },
    {
        "title": "[RONCFPSD-458] NSO allows Circuit style policy deletion if it is applied to a L2VPN service",
        "description": "NSO allows Circuit style policy Edit/delete, When the CS policy is applied to a L2VPN service. NSO doesn't throw any validation .Every CS policy creates 2 child SR policy (head , tail). NSO allows Edit/Delete of those SR policies. Changes done to child SR policies committed successfully without any error but the changes gets reverted back within a minute to reflect the values as in CS policies. No validation/info message before accepting/after reverting the changes.Please suggest to raise a defect to track.",
        "comments": "Hi Ajitha,As discussed on call,Quote \"NSO allows Circuit style policy Edit/delete, When the CS policy is applied to a L2VPN service. NSO doesn't throw any validation\"Answer: L2VPN does not track CS Policy edit/delete operations. As such, to reflect attached CS changes on L2, you must redeploy the L2 service. This is stated in our documentation : Quote \"Every CS policy creates 2 child SR policy (head , tail). NSO allows Edit/Delete of those SR policies. Changes done to child SR policies committed successfully without any error but the changes gets reverted back within a minute to reflect the values as in CS policies. No validation/info message before accepting/after reverting the changes\"Answer: As it is for internally generated CFP/FP services, internal services cannot be modified by user. I have updated documentation with this information here :Documentation updated here :"
    },
    {
        "title": "[RONCFPSD-316] Migrating the Juniper device from NSO 5.5.5 to 5.7.x",
        "description": "How can i migrate a juniper device from NSO 5.5.5 (NED version juniper-junos-nc-4.7 ) to NSO 5.7.5.x",
        "comments": "Joby to try the NED from earth server to migrate and will checkin again.Hi , Were you able to migrate Juniper NED?Closing the ticket. No response from the submitter. Assumption is that it is no more an issue."
    },
    {
        "title": "[RONCFPSD-470] CAA 5.0 - SH Uni-d Scale setup - Delay Issues in NSO for provisioning l3vpn services",
        "description": "We are scaling the services for SH uni-d scale testing. We have NSO LSA setup installed NSO6.1 , TSDN 5.0.0 M5+ . we have scaled 25777 services of l2vpn and configured 1925 l3vpn services.We have two issues here. 1] As per the CDETS CSCwd26703 and NSO Platform ticket: , we see delay in plan success for L3vpn services . After discussing over Webex yesterday, I have removed Netconf Ned Packages from RFSs. And even after that we see the same issue. NO improvements. The provisioning script for l3vpn services completed by 4:31 PM. Its been more than 2.5 hours now, I still dont see a single service moved to success state. All services provisioned successfully in devices.2] Provisioning of 1925 services takes around 7:28 hours. We are configuring services with 5 concurrent users in 5 different device pairs. Initially, the service provisioning goes fast and gradually the service provisioning time is increasing after 750 services. The provisioning time gradually increases and finaly it reached maximum of 52secs to provision one service.Note: This both issue is not there for provisioning l2vpn p2p ldp or l2vpn p2p evpn services. Ping me for the setup details.Note: Since this is Scale setup, having 27k services, please use the Setup for RO purpose only.Setup:172.29.106.131 - CFS (nso/Cwork123!)172.29.106.132 - RFS1 (nso/Cwork123!)172.29.106.133 - RFS2 (nso/Cwork123!)",
        "comments": "Hi Arun, Will be using the labs for read-only purpose.Hi, After following Rama's mail and sreedhar about the CDETS CSCwe21126 , tried configuring l3vpn service service name \"TEST\" without vpn-profile associated. service went to success state. but, since vpn routes doesnt exchange , it is of no use for SH testing.so, i thought of deleting it, but deleting is not happening. hence i tried to modify the service and added vpn-profile and loaded the payload from UI and committed. UI stucks here.Update after debugging: Facing the below NCS issues with CFP M5+ 6.1_221222.073840004.d77df240f707 build.Memory leak and then ncs stop or delete command hangs NCS Arun will upgrading to M6 + Patch Release and the latest NSO to continue testing.Update: Migration to M6 + Patch done. L3NM services getting re-deployed and plan is successfully reached.ThanksSahithi"
    },
    {
        "title": "[RONCFPSD-464] Unable to use custom-template with NSO6.1",
        "description": "Hi Team,I am trying to add custom-template to L3VPN and getting error.Attaching the screenshot.ct-RPXR.xml<devices xmlns=\"http://tail-f.com/ns/ncs\"><template><name>ct-RPXR</name><ned-id><id xmlns:cisco-iosxr-cli-7.44=\"http://tail-f.com/ns/ned-id/cisco-iosxr-cli-7.44\">cisco-iosxr-cli-7.44:cisco-iosxr-cli-7.44</id><config><route-policy xmlns=\"http://tail-f.com/ned/cisco-ios-xr\"><name>RP-FOR-COMMUNITY</name><value> if community matches-any ({$COMMUNITY_1}, {$COMMUNITY_2}) thenset extcommunity color COLOR_400endif</value></route-policy></config></ned-id></template></devices>Thanks,Kanchan",
        "comments": "Hi Kanchan,Does this custom-templale work on previous NSO version? Or Is this the first time you try this format?i tried this route policy format on device side and it does not take itRP/0/RP0/CPU0:PE1(config)#route-policy TESTRP/0/RP0/CPU0:PE1(config-rpl)#if community matches-any ? (     Begin inline community set parameter Identifier specified in the format: '$' followed by alphanumeric characters WORD    Community set nameRP/0/RP0/CPU0:PE1(config-rpl)#if community matches-any (1.1.1.1, 2.2.2.2) then                             ^% Invalid input detected at '^' marker.Regards,LinhHi Linh,Yes it use to work, I just updated with NED version. earlier it was 7.38Thanks,KanchanHi Linh,I figured out that for community variable has to be in format int:int. so with value 66:1,66:2 it is workingThanks,KanchanHi Kanchan,Thanks for the update. It seems device issue and new NED ONLY accept certain format. If there is no other issue, i would like to close the ticketRegards,LinhThanks Linh for the help, you can close the ticket.Regards,KanchanDifferent format is used"
    },
    {
        "title": "[RONCFPSD-302] Services migration from 5.7.4 m7 to 5.7.5.1 M8",
        "description": "Hi,We have Uni-d scale setup that was created with cw194/CNC202 build having NSO with 5.7.4 M7 Build.We have 10K services are getting monitored.we would like to know if there is any migration procedure or upgrade to 5.7.5.1 M8 with 10k services.Thanks,Arun.M.G",
        "comments": "Hi Arun,As per our webex discussion,please follow same steps as per last upgrade .It should work fine.ThanksPriyanka"
    },
    {
        "title": "[RONCFPSD-465] ELAN /ETREE Provisioning issue - NSO 6.1 - TSDN 5.0.0 M6 - NSO LSA - nso-6.1_230124-tsdn-5.0.0-M6.tar.gz",
        "description": "ELAN /ETREE Provisioning issue - NSO 6.1 - TSDN 5.0.0 M6 - NSO LSASetup: CFS: 10.56.116.131 ( nso/Public1234!)RFS1: 10.56.116.133 ( nso/Public1234!)RFS2: 10.56.116.134 ( nso/Public1234!)CW 280 , Cat 287 and SH 322 combo installed with latest NSO 6.1 TSDN 5.0.0 M6 .We see issue in provisioning ELAN/ETREE services with below error.errors: reason: /cisco-flat-L2vpn-fp-internal-site:flat-L2vpn-internal-site-service{L2NM-MG-EVPN-MP-ELAN-2345-internal ASR9006-SDN-128_a1}/flat-L2vpn-evpn-multipoint/site{ASR9006-SDN-128_a1}/split-horizon: the 'when' expression \"../leaf\" failederrors: reason: /cisco-flat-L2vpn-fp-internal-site:flat-L2vpn-internal-site-service{L2NM-MG-EVPN-MP-ETREE-internal ASR9006-SDN-91_a1}/flat-L2vpn-evpn-multipoint/site{ASR9006-SDN-91_a1}/split-horizon: the 'when' expression \"../leaf\" failedAttached payload and snapshotsNOte: this was working fine in NSO 6.1 M5+ patch. We already had this same issue in NS 6.1 M5+ eng build 1. This got fixed in M5+ patch eng build 2. This was working fine in M5+ patch ebg build 2. CDETS: CSCwe00052 .Again we are seeing this issue in latest build Nso 6.1 M6. this is breakage again.NOte: we dont see this issue in NSO Standalone setup. Issue in NSO LSA setup.Raised CDETS : CSCwe28974",
        "comments": " Hi Arun, I just verified this issue in the lastest build and it was fixed. It should include in the next handoff build.Thanks,LinhFixed in the handoff build Feb 8, 2023"
    },
    {
        "title": "[RONCFPSD-303] RSVP-TE tunnel services failed with Python cb_post_modification error. deivce (None) not found in the devices/lsa/dispatch-map/device",
        "description": "RSVP-TE tunnel services (from PE-A to PE-B and vice versa) from LSA setup - services failed with Python cb_post_modification error. deivce (None) not found in the devices/lsa/dispatch-map/device.Thanks Sahithi for helping and requested to create the ticket - please see all of the attached snapshots for more info.Credentials:CNC: 10.194.63.198 (GUI: admin/Public123!) (ssh: cw-admin/Cwork123!)CFS: 10.194.63.169 (nso/Vtsisco@123!)RFS-1: 10.194.63.170 (nso/Vtsisco@123!)RFS-2: 10.194.63.242 (nso/Vtsisco@123!)please let me know if you need any other info.Thanks and regards,-Quy",
        "comments": "Connected with the user and found that the rsvp-te services were missing the tail-end property and hence the issue was coming. After adding the tail-end property, the plan was marked as reached.Quick comment regarding the issue with missing the 'tail-end' - from the GUI, this field is not mandatory - is this possible to make this as mandatory attribute? Please see the attached screenshot. "
    },
    {
        "title": "[RONCFPSD-317] Error of unsupported NED after CFP Upgraded from 3.0 to 4.0",
        "description": "Followed the procedure to upgrade NSO and CFP. After upgraded, tried to enable monitoring on an existing L2VPN service, got the error as below:Unknown error (66): cisco-flat-L2vpn-fp-no-shutdown-iosxr-cli.xml:6 will not apply template to device AA-NCS5501-2 with unsupported ned-id: cisco-iosxr-cli-7.39:cisco-iosxr-cli-7.39note:as part of upgrade procedure, the device AA-NCS5501-2 ned was migrated from cisco-iosxr-cli-7.33 to cisco-iosxr-cli-7.39",
        "comments": "Attached L2VPN service payload Hi Jason, I would need access to your system to debug this further. Just a note, TSDN 4.1 supports 7.40.1 XR CLI NED, so I would suggest to use that version when upgrading.Thanks,Isaac KimHi Isaac, I've migrated the CLI NED to 7.40 on my testbed and it works fine now. We may need to update 4.1 - M9 migration wiki on Step 3Sounds good, I will update the wiki and mark this as resolved. Let us know if you find any other issues.Thanks,Isaac Kimwiki updated"
    },
    {
        "title": "[RONCFPSD-471] TMTC script execution fails with permission errors for non-admin and with admin errors out to check NCT is installed",
        "description": "TMTC script execution fails with permission errors for non-admin and with admin user errors out to check NCT is installedadmin@rfc-1:~/TM-TC-5.0.0-270/LSA/RFS$ python3 install.py Traceback (most recent call last): File \"install.py\", line 38, in <module>  LOG = create_log() File \"install.py\", line 23, in create_log  logging.basicConfig(filename=LOG_NAME) File \"/usr/lib/python3.8/logging/_<em>init</em>_.py\", line 1973, in basicConfig  h = FileHandler(filename, mode) File \"/usr/lib/python3.8/logging/_<em>init</em><em>.py\", line 1143, in __init</em>_  StreamHandler._<em>init</em>_(self, self._open()) File \"/usr/lib/python3.8/logging/_<em>init</em>_.py\", line 1172, in _open  return open(self.baseFilename, self.mode, encoding=self.encoding)PermissionError: Permission denied: '/home/admin/TM-TC-5.0.0-270/LSA/RFS/tmtc.log'During handling of the above exception, another exception occurred:Traceback (most recent call last): File \"install.py\", line 40, in <module>  raise Exception(\"Error in creating logger, please check user permission\")Exception: Error in creating logger, please check user permissionadmin@rfc-1:~/TM-TC-5.0.0-270/LSA/RFS$ sudo python3 install.py 2023-02-14 12:05:37,003 - tmtc - INFO - nct command in not found on the setup. Please make sure NCT is installed",
        "comments": "Hi Gomathi,Which NSO install mode that you installled? It seem you did not have sudo privileges for the user that you run the comand.Also please share you setup info so I could take a look.Regards,Linh Hi Linh,I used RFS NSO setup mode for installation. I tried to assign all permissions to the TMTC folder. Executed with sudo user admin as well as mentioned in below email. It does not work. Sure, let me unicast my setup details to you.Thanks,Gomathi.Have a web call with Gomathi and the user permission is misconfigured. After fixing that the install went through fine. I close the ticketRegards,Linhsome steps were missing in test wiki. After executing the tmtc script with sudo user admin added to groups and deleting old cdb from nso it works fine. Updated the test wiki with this changes as well."
    },
    {
        "title": "[RONCFPSD-459] L2VPN over CS pushes Preferred path SR policy name same as in NSO instead of \"srte-\" format",
        "description": "Tested in build NSO 6.1 M6Setup - 10.195.165.90 - xrd1/xrd1L2VPN EVPN VPWS over CS pushes preferred path SR policy config names as (CS-CS-DYNAMIC-880-head-end-internal, CS-CS-DYNAMIC-880-tail-end-internal) instead of SR policy name format \"srte_c_560_ep_100.100.100.5_discr_100\".Kindly suggest to track the issue with defect.",
        "comments": " Went over with Ajitha on call. We will convert this ticket to a CDETS. Will prioritize fix for upcoming patch release. Thanks.CDETS was created for same issue. Issue was fixed."
    },
    {
        "title": "[RONCFPSD-115] Add keep-alive option for Restconf stream",
        "description": "Requirement is coming from an issue observed at a customer POC.At CNC, one of the NSO notifications mechanism used is Restconf service-state-changes stream:/restconf/streams/service-state-changes/jsonAs the request expected to remain open for a long time, it is hard to detect connections and networking interruptions, which sometime cause the request to remain open, where the actual connection to NSO stream is not connected, and not receiving NSO notifications.The request from NSO is to add optional request parameter to Restconf stream SSE (server sent events): keep-alive, with value of interval in seconds, for example:/restconf/streams/service-state-changes/json?keep-alive=30This is expected to send comment :keepalive message to the client every 30 seconds, or by the interval parameter.This is per commonly recommended mechanism to keep the request alive:This way, the client can read the keep-alive messages, and detect whether connection is alive.Similarly it is used by PCE for SSE, which is parsed at topo-svc at Cisco COE.Request is to add this option by NSO.",
        "comments": "Hello Liran,Will discuss with team.ThanksHello Liran,This enhancement request seems to be a NSO platform related request. As such, I will raise an NSO platform RT.Thanks,Isaac KimHello , would you be able to share which NSO version you observed this behavior on?Need NSO version to create NSO platform RTThank you. At customer POC, it was NSO 5.5.2. It is observed sometimes in several NSO versions, current NSO version is 5.5.2.9. For the NSO platform RT - the request is to support it in the upcoming CNC 4.0 NSO version, currently 5.5.2.12 - or the expected NSO version for CNC 4.0.Thank you for the information, will raise the request shortly. I believe we are moving to NSO 5.7 starting TSDN 4.0 M2, so I will put the requested fix build version to that.Hi Liran, I have posted the NSO RT enhancement request, and I received the following reply:Hi!Since you use 5.5.2 let me begin with pointing to this CDETS ticket - We have released the following patches for NSO containing LOG4j 2.155.3.5.1, 5.4.5.2, 5.5.4.1, 5.6.3.1.Quoting the changes note regarding keepalive:<ul class=\"alternate\" type=\"square\">\t<li>\"In rare cases RESTCONF subscriptions, where the subscriber terminates without tearing down the connection correctly, could lead to ports and internal processes not closing/terminating as they should. The two config settings '/ncs-config/webui/transport/keepalive' and '/ncs-config/webui/transport/keepalive-timeout' have been added to handle this. Setting keepalive to true will ask the host OS to detect future lingering ports and instruct the server to periodically send comment messages (\":keepalive test\") over the subscription channels. The 'keepaliveTimeout' can be used to specify the frequency of the messages. Note that subscribers must be able to handled these new messages!\"</li></ul>Available in 5.3.5, 5.4.5, 5.5.3, 5.6 and later versions./NickAs we will be moving to NSO 5.7 starting TSDN 4.0 M2, I assume jthat the fix for this keepalive will be implemented for next milestone release.For now, I will close this ticket as the solution is expected to arrive in next milestone release.If you face this issue again with next milestone release, please feel free to reopen this ticket and I will follow up on the NSO Platform RT enhancement request.Thanks,Isaac KimHi,I tested it with NSO CNC 4.0 M2, and it is working.Solution is being adopted by CNC client.Since this configuration is not listed in NSO Core Function Pack - TSDN 4.0.0 - M2 Release, , the request here is to add these configuration at the official installation instructions.Requesting to add it to installation instructions of CNC 4.0 M3 and higher, and if possible to CNC 4.0 M2 as well.Enable keepalive, and set it to 30 seconds for tcp and ssl:<webui><enabled>true</enabled><transport><tcp><enabled>true</enabled><ip>0.0.0.0</ip><port>8080</port><keepalive>true</keepalive><keepalive-timeout>30</keepalive-timeout></tcp><ssl><enabled>true</enabled><ip>0.0.0.0</ip><port>8888</port><key-file>${NCS_DIR}/var/ncs/webui/cert/host.key</key-file><cert-file>${NCS_DIR}/var/ncs/webui/cert/host.cert</cert-file><keepalive>true</keepalive><keepalive-timeout>30</keepalive-timeout></ssl></transport>\u2026And on the same subject if you can review additional additions to installation instructions:<ul class=\"alternate\" type=\"square\">\t<li>Enable SSL:<ssl>    <enabled>true</enabled></li>\t<li>Disable xpath-trace-log (cause performance degradation in high scale):<xpath-trace-log>   <enabled>false</enabled></li>\t<li>Install DLM package. For this, as it is needed for CNC, if you found it ok, can refer to its wiki page / documentation:DLM NSO Service Pack - </li></ul>ThanksHello Liran,After discussing with team, it has been concluded that keepalive can help in certain edge cases, but is not a required configuration for T-SDN. keepalive can be added as optional config as stated in NSO documentation \"nso_man-5.7.pdf\" (page 477) to help cover such scenarios. We do not add optional ncs.conf configuration to our install guide and only include required changes to allow T-SDN functionality. But we do recognize that it can be hard to find ncs.conf parameters in NSO docs, so we will add a reference to NSO docs ncs.conf man page in the install wiki for optional configuration.This will apply to ssl ncs.conf enable flag as well. We do not enable by default, but user can define if they would like. For xpath-trace-log, this is disabled by default for system-install but enabled by default for local-install. As local-install is typically used for testing and demos, xpath-trace-log is enabled to assist with debugging. For scale we always recommend to disable xpath-trace-log. There has been request from team to not include this in our install procedure. DLM is not a dependency for T-SDN core solution. So we will not be adding it to our wikis.I hope this helps clarify the decision that the team has made. If you have any questions or comments about this decision, please feel free to reply to this thread.Thanks,Isaac Kim"
    },
    {
        "title": "[RONCFPSD-129] Device list issue on TSDN CFP M2 release.",
        "description": "For device list we got recommendation to use the same path \"/ncs:devices/lsa-utils:lsa/lsa-utils:dispatch-map/lsa-utils:device/lsa-utils:name\" that works in LSA or non-LSA setup. But using this path we have issue in the JSON RPC query API to make the filter functionality work. And also the RFS nodes are returned in the device list.",
        "comments": "Hi Demeke,Please provide the JSON RPC query you were using earlier and the current query.Regards,NishadHi Nishad, This is the current query request,{\t\"params\": {\t\t\"path\": \"/ncs:devices/device\",\t\t\"selection\": [\"name\"],\t\t\"result_as\": \"string\",\t\t\"xpath_expr\": \"device[contains(name,\\\"-5\\\")]\",\t\t\"context_node\": \"/ncs:devices\",\t\t\"initial_offset\": 1,\t\t\"chunk_size\": 50,\t\t\"th\": 6\t},\t\"jsonrpc\": \"2.0\",\t\"id\": 91,\t\"method\": \"query\"}And currently on the above request the issue is replacing the path parameter with the recommended path '/ncs:devices/lsa-utils:lsa/lsa-utils:dispatch-map/lsa-utils:device/lsa-utils:name'. Please note listing is fine the issue on filtering.Thanks,Demeke.Hi Demeke,We can use the following queries to get the remote / local nodes : To get the devices on remote node : \"xpath_expr\": \"device[ boolean(remote-node) ]\"} }', \"path\": \"/ncs:devices/lsa-utils:lsa/lsa-utils:dispatch-map/lsa-utils:device\", \"context_node\": \"/ncs:devices/lsa-utils:lsa/lsa-utils:dispatch-map\",To get the devices on local node : \"xpath_expr\": \"device[ boolean(local) ]\"} }', \"path\": \"/ncs:devices/lsa-utils:lsa/lsa-utils:dispatch-map/lsa-utils:device\", \"context_node\": \"/ncs:devices/lsa-utils:lsa/lsa-utils:dispatch-map\",Please find the attached file for examples.Regards,NishadHi Nishad,We want to filter devices by name and your suggestion below is not helping our usecase.However using the path and context node params from you request, \"path\": \"/ncs:devices/lsa-utils:lsa/lsa-utils:dispatch-map/lsa-utils:device\",\"context_node\": \"/ncs:devices/lsa-utils:lsa/lsa-utils:dispatch-map\" is actually working for listing and filtering. The following is how we constructed the API request and please confirm the usage, {\"params\":{\"path\":\"/ncs:devices/lsa-utils:lsa/lsa-utils:dispatch-map/lsa-utils:device\",\"selection\":,\"result_as\":\"string\",\"xpath_expr\":\"device\",\"context_node\":\"/ncs:devices/lsa-utils:lsa/lsa-utils:dispatch-map\",\"initial_offset\":1,\"chunk_size\":50,\"th\":1},\"jsonrpc\":\"2.0\",\"id\":47,\"method\":\"query\"} And also I still see the issue in the device list sending the RFS nodes in the device list.Please refer the screenshot that shows the issue in NSO UI.Thanks,Demeke.Hi Demeke,The query you mentioned doesnot filter the RFS nodes.For example , below expression needs to be changed.\"xpath_expr\":\"device\" --<del>> changed in case of </del>--> \"xpath_expr\":\"device\"Thanks,NishadHi Nishad, It seems like we need to have a quick meeting to close all the gaps.I will schedule a meeting for tomorrow please feel free to forward for anyone appropriate. Thanks,Demeke.Hi,Had a webex meeting with the submitter and agreed to provide a unified query for both LSA and non-LSA case.Provided the same over email.\"xpath_expr\": \"device\",\"path\": \"/ncs:devices/lsa-utils:lsa/lsa-utils:dispatch-map/lsa-utils:device\",\"context_node\": \"/ncs:devices/lsa-utils:lsa/lsa-utils:dispatch-map\"Thanks,NishadHi ,Provided the query parameters over the email. Submitter confirmed that the query works fine with the provided input.Email communication attached.Regards,Nishad"
    },
    {
        "title": "[RONCFPSD-64] CNC3.0:Incorrect Failed-Msg for update service over OOS node replace by Online node",
        "description": "1. Provision a failed L2VPN service with one of the service node as OOS (with commit queue async)2. Edit the service thereby to change the OOS node to a online node. 3. Perform usual commit changes4. The service would be found \"Success\" in the provisioning NSO5. But any subsequent config change always lead to Plan-failure with \"OOS Device Out-of-sync\" Error message.6. Even after OOS node synced with NSO, the error message still seen in the plan-state.Kindly verify the enclosed plan-state of the service detailing the above steps.When delete the particular service, it leads to zombie service.The error recovery steos re-deploy does not help all the time when there is an update in the service.admin@ncs> show zombies as follows, referring the node OOS.zombies service /flat-L2vpn-internal-local-site-service delete-path /flat-L2vpn-internal-local-site-service",
        "comments": " Please provide the payload used for the same. Also Please elaborate the point 3 regarding the changes done and the error recovery steps followed. You can find the error recovery procedures in the following page: Payload is enclosed. Please refer the plan status regarding the changes done. As already mentioned in the point 2. CDETs for this issue was filed: The CDETs is now resolved and fix will be released with TSDN 3.0 M7"
    },
    {
        "title": "[RONCFPSD-58] NSO Services not clearing up after sync-from",
        "description": "I am working on CNC automation and as part of the script, creating some services/policies. The steps followed are:1.Install CW cluster2.Copy day0 config to devices which is clean (does not have any pre-existing policies/services)3.Perform NSO \u2013 sync-from4.Create L2/L3 Vpn policies. 5.Perform some operations based on testcase scenarios6.NOTE: I am not deleting the services at the end of the run, as we generally want preserve the state for debugging.In successive runs , I am observing that even after steps 2 and 3, the NSO still has stale entries of services created in previous runs.As a result, creation of services are failing and blocking rest of the testcases.Expectation is that NSO should have cleaned up the entries after step 3 sync-from.When I check NSO:1.There are no zombies2.Service check-sync is red.3.However, devices showing stale service counts and check-sync is green. Not clear on this discrepancy from service check-sync.Pls let me know if I am missing some step here?NSO version: 5.5.2.3XRV version: 7.3.2.33I",
        "comments": "Scheduled meeting with submitter for 11:30amHello all,Just finished the webex meeting with Radhika and wanted to clarify the issue that was happening here. T-SDN services do not automatically remove themselves if the device configurations are cleaned up and the user does a device sync-from. The user is expected to explicitly delete T-SDN services to clean up the setup if the intent is to remove the services.Thanks,Regi"
    },
    {
        "title": "[RONCFPSD-511] NSO HA with Availability Zones in different subnet doesnt form HA",
        "description": "NSO HA with Availability Zones in different subnet doesnt form HASetup:Jump host 10.23.226.188 - root/Cwork123!NSO - 192.168.5.56 and 192.168.6.56 - nsoaz1/Cnc@1234NSO VIP - 192.168.5.66Kindly help troubleshoot further",
        "comments": "In-progress. Working with Ajitha and verifying initial HA settingsHi Ajitha. I just copied my VM and replace your old ones and I was able to establish a working L2 HA.As for setting HA from different subnets using L3 BGP HA, please follow the instrunctions from below:Thank you,AbeInitialized her testbed VMs and was able to establish L2 HA. For L3 BGP HA, instructed to follow this guide Thank you so much Abe for troubleshooting and fixing the setup. Just one thing, I could not see the VIP IP (192.168.5.66) in the ens160 interface and also i could not SSH using the VIP IP as well. Would you please help check the same and to add FQDN name with DNS - 10.23.226.187."
    },
    {
        "title": "[RONCFPSD-277] Scale - Service provisioning -- It is taking 4.5 to 5 hours to configure 1000 services ( l2vpn , L2vpn SRTE , L3vpn , L3vpn with SRTE)",
        "description": "Hi,we have TSDN 4.0.0 M6. CW 194, COE 214 , CAT 202 , SH 250 installedNSO LSA setup: 1 CFS with 2 RFS.we have 60 devices topology.working on Uni-d Scale tetsing for SH. we are in progress of creating 12k services across 48 devices. 31 devices in RFS-1 and 29 devices in RFS-2.we create the services sequentially one by one . as per the wiki, we have configured the commit-queue disabled in RFS.we had a debug session with Priyanka shanrma and as per the suggesion we had ncs config with Rollback false.we have tried as per Priyanka's suggestion to try with enabling commit-queue in RFS. in NSO RFS, with commit-queue enabled , it is taking 2 to 3 seconds to configuring one service.. but while provisioning multiple services next by next, keeping asusual delay of 3 sec is failing to configure the Services with error that another commit in progress in devices.so, obviously we have to increase the delay to a number where it has to finish the commit in devices. So, again, it ended up into the same time now. Hence I have modified the setting back to commit-queue disabled.After reducing the delay to 3 secs delay interval between the service creation, with single user, having commit-quete disabled, it was 4.5 hours to configure 1000 services. Thanks,Arun.M.G",
        "comments": "Missed to add few details in the description.Actually, it is taking average of 15 seconds to configure a single service. and we have a delay interval with 3 sec between the service creations.so, in one min , it is 3 to 4 services.In 60 mins, it is average of 180 to 240 services.So, to configure 1000 services, it take 4.5 to 5 hours.Hi Arun ,I talked to Solution test team and here scale results : For CNC 3.0 scale for l2nm service for single service it was 26 sec .In your lab CNC 4.0 we see close to 20 sec per service.As discussed earlier what you see is expected.If you want to reach higher numbers as suggested before, please do scale tests in batches .For example, 25 services then some wait time or plan to be up then next set of services .Thanks,Priyanka"
    },
    {
        "title": "[RONCFPSD-263] Not able to create ODN policy on IOS XE Device though i have dynamic mapping",
        "description": "Not able to create ODN policy on IOS XE Device though i have dynamic mappingadmin@ncs% *** ALARM commit-through-queue-failed: Commit queue item 1652886496670 has failed: RPC error towards RFS-1: operation_failed: for /cisco-sr-te-cfp-internal:sr-te/cisco-sr-te-cfp-sr-odn-internal:odn/cisco-sr-te-cfp-sr-odn-internal:odn-template: /sr-te/cisco-sr-te-cfp-sr-odn-internal:odn/odn-template: Python cb_validate error. STATUS_CODE: TSDN-SR-408REASON: Router NED not supportedCATEGORY: userSEVERITY: ERRORContext [name = Router NED not supported: cisco-ios-cli-6.77:cisco-ios-cli-6.77, message = Missing dynamic device mappingstate = {'Device': 'ASR-903.cisco.com', 'Service': 'ODN-ASR903-Original', 'Device NED ID': 'cisco-ios-cli-6.77:cisco-ios-cli-6.77'}]admin@ncs%i have dynamic mapping already:admin@ncs% show cisco-sr-te-cfp:cfp-configurationsdynamic-device-mapping cisco-ios-cli-6.77:cisco-ios-cli-6.77 {python-impl-class-name sr_te_multi_vendors.IosXE;}device also mapped to same ned:admin@ncs% show devices device ASR-903.cisco.com device-typecli {ned-id cisco-ios-cli-6.77;}show tech copied @ /ws/shbalu-sjc/M5cfp-cfs-rfs/RFS show tech: rfs/data_051822_161115.tgzCFS show tech: cfs/data_051822_161058.tgz",
        "comments": "Hello, please verify your bootstrap configuration on your RFS Node. Wiki page here has troubleshooting steps:Reporter followed wiki steps above to fix mapping issue. Reporter is using automated steps to bring up LSA. The automated steps may not be following the wiki accurately. Reporter wants to --> review the automation code vs wiki steps and get back. Closing ticket after agreement with Reporter that the wiki has clear, defined steps written in the correct order which need to be followed to bring up LSA.The automated steps being used by Reporter may not be following the wiki pages accurately. Reporter wants to --> review the automation code vs wiki steps and get back.Closing ticket after agreement with Reporter that the wiki has clear, defined steps written in the correct order which need to be followed to bring up LSA."
    },
    {
        "title": "[RONCFPSD-505] Unable to enter into config mode in NSO CFS node ",
        "description": "Issue Description: Followed the below link and tried installing NSO CFS node. After installtion when i tried to set the NACM rule, tried to login into ncs_cli -u admin mode and from there i am unable to get into the config more, I have only two options, exit and quit. Below NCS Cli response is for reference. nso1@nso1-virtual-machine:~$ ncs_cli -u adminUser admin last logged in 2023-06-13T06:50:23.737817+00:00, to nso1-virtual-machine, from 10.65.73.205 using cli-sshadmin connected from 10.65.73.205 using ssh on nso1-virtual-machineadmin@ncs> config-----------^syntax error: expecting  exit - Exit the management session quit - Exit the management sessionadmin@ncs> ",
        "comments": "Just to update: Post System reboot, the issue works fine. But before reboot we had only the below changes were done. usermod -a -G ncsadmin nso1 - this we did it during Ncs package installation itself, but to confirm this second time also we performed the same operation.Apart from the above, in the sudoers file we have the entries added that was missing earlier. <ol>\t<li>User privilege specificationroot  ALL=(ALL:ALL) ALLadmin   ALL=(ALL) NOPASSWD:ALLnso1   ALL=(ALL) NOPASSWD:ALL</li></ol>Not sure, how this is related to the issue and it fixed. Hi Krishnaraj,The user that use to install NSO must be a member of sudo group. In your case here if you use user 'nso1' to install NSO, and this user must be add in /etc/sudoers. Then this user need to logout and login for change to take in effect.Regards,LinhHi Krishnaraj,I am going to close this ticket if you don't have any question.Thanks,Linh"
    },
    {
        "title": "[RONCFPSD-539] Need to access RONCFPSD-507",
        "description": "These were decisions which we learnt it much later through .",
        "comments": "Hello, access has been granted. Please verify.Hello, please let us know if ticket maybe resolved. If no response is received, ticket will be closed EOD 8/25/2023. Given access to customer. Resolving ticket."
    },
    {
        "title": "[RONCFPSD-288] Rewrite displays only after clicking on VPN Network access Edit icon",
        "description": "While creating L2VPN EVPN ELAN/ETREE service, After giving VPN Network access- connection - dot1q, rewrite appears only after editing the same entry.This was working on 5.7.3 - M6 (rewrite automatically appears while selecting dot1q) Observed only in 5.7.4 - M6",
        "comments": "Hi Ajitha,It's always been the case where \"rewrite\" is only configurable when \"c-vlan-id\" is specified. Are you seeing the same issue on NSO UI?Thanks,RegiFaced the same observation in NSO as well. In 5.7.3 M6, rewrite appears as soon as dot1q is selected in drop down. But in 5.7.4 M6, rewrite appears only after providing c-vlan-id. Attached screenshot. Hmm, seems there was a change between NSO 5.7.3 -> 5.7.4, but seems like the behavior in 5.7.3 was a bug and how 5.7.4 is the expected behavior"
    },
    {
        "title": "[RONCFPSD-249] Load merge has a specific error:",
        "description": "I see load merge has a specific error:    admin@ncs% load merge SR-status-codes_test.xmlError: on line 2: unknown element: status-code-cfp in /cfp-common-status-codes:status-code-cfpSection : Configure Bootstrap data",
        "comments": "This is impacting our CNC NetConf validation. Please provide correct namespace url as a work around.Hi Siva,Did you do \"unhide debug\" before commiting ?ThanksPriyankaHi Siva,I am closing the ticket now.As discussed over webex you are unblocked after \"unhide debug\" .ThanksPriyankaRequest you to check documentation carefully in future.ThanksPriyanka"
    },
    {
        "title": "[RONCFPSD-275] Mapping the xpath from L3VPN-flat model to NM model",
        "description": "We need help with one of the xpath parameter: peer-vpn-addr-listRight now, we use the below xpath to get its value: \".//flat-L3vpn/endpoint[access-pe='{device}']/pe-ip-addr\" (example value: 42.42.42.0/30 or 32.32.32.0/30 \u2013 with address and mask-length) In case, if the flat model is removed, we couldnt find the concrete way to get the path for this param as there are different variations I can see as shown below:(Few examples):devices/device[key={device}]/config/interface/Loopback/ip/address/primary/address (example: <address>24.24.71.1</address>)        devices/device[key={device}]/config/interface/Loopback/ip/address/primary/mask (example: <mask>255.255.255.252</mask>) devices/device[key={device}]/config/interface/ Loopback/ipv4/address/ip (example: <ip>32.32.32.1</ip>)                devices/device[key={device}]/config/interface/ Loopback/ipv4/address/mask (example: <mask>255.255.255.252</mask>) 3)   devices/device[key={device}]/config/interface-configurations/ interface-configuration/ipv4-network/addresses/primary/address (example: <address>108.108.71.1</address>)       devices/device[key={device}]/config/interface-configurations/ interface-configuration/ipv4-network/addresses/primary/netmask (example: <netmask>255.255.255.252</netmask>)    4)    devices/device[key={device}]/config/interface/ GigabitEthernet-subinterface/ GigabitEthernet/ ipv4/ address/ip (example: <ip>10.0.115.1</ip>)          devices/device[key={device}]/config/interface/ GigabitEthernet-subinterface/ GigabitEthernet/ ipv4/ address/mask (example: <mask>255.255.255.0</mask>)Could you please help us in getting the concrete path?Thanks,",
        "comments": "Hi Jason, You would be able to get the pe-ip-addr from below xpath w.r.t to L3NM model./l3vpn-ntw/vpn-services/vpn-service/vpn-nodes/vpn-node/vpn-network-accesses/vpn-network-access/ip-connection/ipv4/static-addresses/address/provider-address 120.120.120.1/l3vpn-ntw/vpn-services/vpn-service/vpn-nodes/vpn-node/vpn-network-accesses/vpn-network-access/ip-connection/ipv4/static-addresses/address/prefix-length 24Let me know if you would want the info only from the device path?ThanksSahithi"
    },
    {
        "title": "[RONCFPSD-513] DLM FP is not listed in the packages version",
        "description": "NSO details:172.28.174.218(admin/Ovatest123@)Packages :DLM_SERVICE_PACK=CNC_NSO_FP_VERSION=NCS_VERSION=Steps to reproduce:1.sudo user login2.wget 3.cp cw-dlm-fp-nso-6.1.20230706.aaffaf5b.tar.gz /opt/ncs/packages/.4.cp cw-dlm-fp-nso-6.1.20230706.aaffaf5b.tar.gz /var/opt/ncs/packages/.5.exit the sudo user mode.6. ncs_cli -u admin7.request packages reload8.show packages package package-version",
        "comments": " Hello, Please update the symlink for dlm under /var/opt/ncs/packages/ and reload packages (Sreenshot attached showing missing symlink)Please refer to wiki step -> Please let us know if this helps.Regards,Janaki DuggiralaActions taken in this ticket:1. Copy over package cw-dlm-fp-nso-6.1.20230706.aaffaf5b.tar.gz under /home/admin to /opt/ncs/packages 2. Create Softlinks using commandsudo ln -sf /opt/ncs/packages/cw-dlm-fp-nso-6.1.20230706.aaffaf5b.tar.gz /var/opt/ncs/packages/cw-dlm-fp-nso-6.1.20230706.aaffaf5b.tar.gz3. Run command for NSO restart and package reload as belowadmin@ubuntu2004:~$ sudo NCS_RELOAD_PACKAGES=force /etc/init.d/ncs restart4. DLM Package did not come up in NSO5. Untar the package cw-dlm-fp-nso-6.1.20230706.aaffaf5b.tar.gz6. The package dlm-svc is created under folder standalone/packages - This is incorrect. The dlm-svc must be tar balled properly.7. I have re-created the tar ball correctly and redone steps 1-3. NSO now has DLM package but it is in Error State.packages package cw-dlm-fp oper-status program-code-error oper-status error-info [ LOAD_PACKAGE ]DLM package needs fixing.DLM_SERVICE_PACK=is incomplete package, we are creating a new DLM service packSTEPS Taken<ol>\t<li>Download the latest DLM_SERVICE_PACK with CNC 6.0 and NSO 6.1.2</li>\t<li></li>\t<li>Untar the package</li>\t<li>The package ncs-6.1.2-dlm-svc-6.0.0-41.tar.gz is created under folder standalone/packages</li>\t<li>Copyncs-6.1.2-dlm-svc-6.0.0-41.tar.gz to/opt/ncs/packages</li>\t<li>sudo mkdir backups</li>\t<li>sudo mv cw-dlm-fp-nso-6.1.20230706.aaffaf5b.tar.gz ../backups/</li>\t<li>sudo rm /var/opt/ncs/packages/cw-dlm-fp-nso-6.1.20230706.aaffaf5b.tar.gz</li>\t<li>sudo ln -sf /opt/ncs/packages/ncs-6.1.2-dlm-svc-6.0.0-41.tar.gz /var/opt/ncs/packages/ncs-6.1.2-dlm-svc-6.0.0-41.tar.gz</li>\t<li>sudo NCS_RELOAD_PACKAGES=force /etc/init.d/ncs restart 2054</li>\t<li>ncs_cli -C -u admin</li>\t<li>show packages package oper-status</li>\t<li>packages package dlm-svc oper-status up</li></ol>dlm-svc version is showing in NSO host 172.29.104.187Thanks satya we were using below mentioned because of it is updated in Crosswork status file we used it. Thanks for information. DLM_SERVICE_PACK= We will use the package which you have mentioned and checked the nso dlm was reflected .Thanks you can close the case. one correction new service pack is"
    },
    {
        "title": "[RONCFPSD-507] Unable to update slice template",
        "description": "Hi,While updating the slice template, getting below error in NSO UI.Error:[{\"Context\":\"[name = Invalid update, message = 'slo-sle-template' cannot be updated state = {'Keypath': '/ietf-nss:network-slice-services/slo-sle-templates/slo-sle-template{Test-FwdPP-2}'}]\",\"Category\":\" validation\",\"Message\":\" STATUS_CODE: TSDN-IETF-NSS-418\",\"Severity\":\" ERROR\",\"StatusCode\":\"Python cb_pre_modification error. TSDN-IETF-NSS-418\",\"Reason\":\" The update of this element is not supported\"}]",
        "comments": "Hi Magnesh,As you see from error message,the slo-sle-template is not allowed to update. It is by design.If you like to change parameters for slo-sle-template, you need to delete it and create it again.Regards,LinhHi Linh,Update on slice template was working in earlier versions. Is this a restriction introduced in this release?Regards,MageshThis is added later after 5.0 M7.-Linh"
    },
    {
        "title": "[RONCFPSD-261] Upgrade from TSDN 3.0 to TSDN 4.0 fails",
        "description": "We have an NSO 5.5.2.9 with TSDN 3.0 RC CFP. It is scale setup with 200K flat L2VPN, flat L3VPN. We are upgrading this to NCS 5.7.3 with M6. We followed step 2b as per the wiki. In step no 2b, i lost connectivity to NSO.Setup : 172.20.63.190 - cnctest/Ovatest123@I can see following error message in devel.log<INFO> 17-May-2022::23:58:12.861 cnc-scale-nso-190 ncs: devel-cdb upgrade: revision: cisco-flat-L2vpn-fp@2021-09-28<INFO> 18-May-2022::00:06:17.284 cnc-scale-nso-190 ncs: devel-cdb position before/at failure: undefinedHelp us in upgrading the setup to CNC 4.0",
        "comments": "Hello Ramakrishna, the Redeploy is expected to take 40-50 mins with no connectivity to NSO during that time since upgrade is taking place. Please let us if any other errors observed during the reload (step 2B). When I logged into your setup I see all the packages up and running successfully.I moved on to step 5 in the wiki - Installed 5.7.3. This is a scale setup with 200K L2VPN/L3VPN services. NCS did not start within timeout. I could not start it again, since 4569 port is already in use. How to move forward, Is the NSO starting up or not. i see following error message in ncs.log<ERR> 19-May-2022::04:29:34.423 cnc-scale-nso-190 ncs: - The dependency node '/ncs:devices/device/config/Cisco-IOS-XR-hw-module-cfg:hw-module/nodes/node/config/attention-led' for node '/ncs:devices/device/config/Cisco-IOS-XR-hw-module-cfg:hw-module/nodes/node/config' in module 'tailf-ncs' does not exist<ERR> 19-May-2022::04:29:34.424 cnc-scale-nso-190 ncs: - The dependency node '/ncs:devices/device/config/Cisco-IOS-XR-hw-module-cfg:hw-module/nodes/node/config/auto-reset-disable' for node '/ncs:devices/device/config/Cisco-IOS-XR-hw-module-cfg:hw-module/nodes/node/config' in module 'tailf-ncs' does not exist<ERR> 19-May-2022::04:29:34.464 cnc-scale-nso-190 ncs: - The dependency node '/ncs:devices/device/config/Cisco-IOS-XR-hw-module-cfg:hw-module/nodes/node/config/attention-led' for node '/ncs:devices/device/config/Cisco-IOS-XR-hw-module-cfg:hw-module/nodes/node/config' in module 'tailf-ncs' does not exist<ERR> 19-May-2022::04:29:34.464 cnc-scale-nso-190 ncs: - The dependency node '/ncs:devices/device/config/Cisco-IOS-XR-hw-module-cfg:hw-module/nodes/node/config/auto-reset-disable' for node '/ncs:devices/device/config/Cisco-IOS-XR-hw-module-cfg:hw-module/nodes/node/config' in module 'tailf-ncs' does not existHi Ramakrishnan, $ cat /etc/systemd/system/ncs.service.d/startup-timeout.confTimeoutStartSec=4800$ sudo systemctl daemon-reload$ sudo systemctl show ncs | grep ^Timeout. > it was 5 min .TimeoutStopUSec=5minThe ncs is up on your set up after upgrade.But packages are not coming up as you have not followed NCS installation prerequisites.I have updated python3 on your lab to make packages up, These are basic CNC prerequisites.Your lab is successfully upgraded.Please read the documentation carefully in the future for right python version.ThanksPriyankaHi Priyanka,Thanks for fixing. So currently 172.20.63.190 is in proper state to use for testing ? I tried logging into its UI () but it's not accepting previous password (cnctest/Ovatest123@). For CLI login, it's working. It was same NSO which you have recommended 20 min startup time during CNC2.0 scale testing. Then during upgrade to RC 3.0 last release, we have made this to 3hr to make NCS come up. So 1hr 20 min is recommended standard setting for scale we should follow ? Now to upgrade this to M6, Ramakrishna followed the steps as mentioned in \"M6 - CFP Upgrade from 3.0 to 4.0\" wiki (some steps have changed in this wiki 1 or 2 days back after he attempted). During the process of upgrade, some of these settings are coming back to default. We may need to mention these notes/pre-requisites (including linking right python version) in Upgrade steps as well. I think it may be good to have links/pointers added here as well for troubleshooting common failures during upgrade as a reference.Thank You !!-Sreedhar.Hi Sreedhar,The following setting in ncs.conf will fix the UI login issue. <pam>   <enabled>true</enabled>   <service>system-auth</service>  </pam>I have restarted ncs after above change The reason for increased time in your NSO as during CNC 2.0 time your cdb was not this huge .This time it was 23 GB as these numbers are not fixed, I increased it incrementally to make it work .for now, this is 1 hr 20 min and is working fine.Also one more thing - if it's your scale lab - I wonder why all debugging is turned on, that's also one reason it was taking too long to start. Sure, will add these points to the wiki. Also, make sure wiki is read by the team as even those pointers like pre requisites which are documented are also not been read and JSD has been opened for similar issues multiple times.Appreciate it if everyone does their part diligently.ThanksPriyankaWorking UI Screenshot Working UI screenshot added and also troubleshooting section added :Hi Priyanka,Great !! Highly Appreciate your support (Right from CNC 2.0, You have helped us change many settings on this machine as per the requirements of growing scale. Without that could not have reached this scale) and help in bringing up this NSO with large scale of 300K VPN services. Yes agreed definitely we (COE folks) are lacking in knowledge on NSO (especially upgrades) due to limited use. Sure, we will check the updated wiki's. Purposefully with our knowledge, no debugs are enabled. May be as part of troubleshooting, it may be added after case was raised. I hope these debugs are stopped now to avoid any future restart issues.Thanks Again !!-Sreedhar.One quick question. How do I disable 'Debug' messages in this setup."
    },
    {
        "title": "[RONCFPSD-66] Does RSVP TE Tunnel supports IPv6 address?",
        "description": "My CW is an IPv6 deployment with IPv6 devices onboarded. While creating RSVP Tunnel from UI, the source, destination node ID and node-id under numbered-node-hop takes IPv4 address but not IPv6. So I entered IPv4 addresses and commit. The tunnel is created. Shouldnt we accept IPv6 address as well since this is an IPv6 setup?Here is the reply from our CNC DE:I think we are limited to IPv4 MPLS tunnels only when it comes to RSVP TE tunnels - you may want to double check with the COE and NSO CFP experts.From the rsvp-te/ietf-te service model point of view which is a standard ietf model that NSO CFP examples package implements,  the schema only allows IPv4 addresses (type yang:dotted-quad )For IPv6 usecase, I think usecase might be to support \"MPLS Traffic Engineering Static IPv6 Routes over MPLS TE IPv4 Tunnels\" as described here - again this we need to confirm with our domain experts.BTW, on RSVP-TE, it is still same CNC 2.0 functionality as far as the NSO CFP/CAT is concern. ",
        "comments": "Hi Crystal,CFP has done the standard IETF-TE implementation for the RSVP-TE use-case. There were no new requirements from CNC 2.0 to 3.0 for RSVP-TE use-case. Please work with PLMs on use-cases where IPv6 support is required and we can plan for it in 4.0.--Raghavi.PermalinkEditDeleteHi Crystal,CFP has done the standard IETF-TE implementation for the RSVP-TE use-case. There were no new requirements from CNC 2.0 to 3.0 for RSVP-TE use-case. Please work with PLMs on use-cases where IPv6 support is required and we can plan for it in 4.0.--Raghavi."
    },
    {
        "title": "[RONCFPSD-72] frame size config in Y1731 profile ",
        "description": "we have <frame-size>2000</frame-size> config in y1731-profile.Even though , if we dont give this tagging , it is always pushing the packet size 2000 config to device.it is not able to unconfigure the packet size. how to delete this packet size using payload. removing the frame size tag doesnt help.attached payload. ethernet sla profile loss type cfm-synthetic-loss-measurement probe  send burst every 60 seconds packet count 60 interval 1000 milliseconds  priority 2  packet size 2000",
        "comments": " Hi Arun,Please provide the given ned-id's to the devices referred in the payload.--Raghavi.The devices are managed with 7.3.1 and it is CLI NED : cisco-iosxr-cli-7.33 Hi Arun,From the yangs we have default value as 1000 for type synthetic-loss and delay. so even if you remove frame-size from your payload its going to configure the default value which is 1000. Its not possible to un-configure packet size when you choose type as synthetic-loss or delay, when type is loss it wont configure the packet size.But in your case why packet size is 2000 even after frame-size is removed from the payload. Let me know the best time we can go over the issue on your setup.--Raghavi."
    },
    {
        "title": "[RONCFPSD-99] Hostname changed in nso - Dispatch map not updated",
        "description": "Steps performed for the observation:Added a device (ron-8201-1) with incorrect hostname(name: NODE_IP).Deleted the device.Added the same device(ron-8201-1) with correct hostname.Performed device SSH Fetch-host keys, Sync-from, check-sync and request cfp-common-actions sync-dispatch-map.Now tried to provision a service from CNC UI: But receiving error message \" Enter a valid device name present in the core-fp-common:dispatch-map.Tried the same service provisioning from NSO, service created successfully. Kindly help to confirm how cnc gets the disptach-map update, so as to avoid the dispatch-map error",
        "comments": " Hi Ajitha,I assume the screenshot is taken after you updated the device (both NSO device tree and the value you entered on UI for RoN service). If so, according to the error message, it seems CNC UI is still trying to push the ron-ml service payload with the old device/endpoint name (NODE_IP), which doesn't exist in the dispatch-map, and hence it seems a bug on the UI. Please let me know if my assumption is not correct and if you would like a webex to debug more.Please check above comment.Not a CFP issue."
    },
    {
        "title": "[RONCFPSD-103] Import L3vpn service with SRv6 routing protocol failed with M7 CFP",
        "description": "In CFP M7, it adds a few config to support L3VPN over SRv6 TE. By adding the extra config in the .xml file. It failed to import with following error. Can you help to take a look?Payload attached.NSO version: 5.5.2.9TSDN FP: 3.0.0 M7",
        "comments": " Hi Crystal,It looks like you use a wrong xml tag for srv6. Please fix your payload by comparing it with this linkThanks,LinhThanks Linh for sharing the link. After replacing <ietf-l3vpn-ntw-cisco-augmentations_srv6> ; </ietf-l3vpn-ntw-cisco-augmentations_srv6> with <srv6 xmlns=\"http://cisco.com/ns/nso/fp/examples/ietf-l3vpn-ntw-cisco-augmentations\"> ; </srv6>The .xml file is imported and provisioned successfully.One more question. I did a \"Config View\" from CAT UI and from there I can copy the payload which is in json format. I converted the json to xml and that's how I get to use <ietf-l3vpn-ntw-cisco-augmentations_srv6> in the .xml file. Should the \"Config View\" generate a correct name space, to make it easier for the user? Not sure is it NSO or CNC should take care of that part?Thanks.Hi Crystal,You could get json payload by following these steps1. Load merge XML payload and commit2. From nso configuration mode enter this command   show l3vpn-ntw vpn-services vpn-service <service-name> | display jsonYou could save json payload to a file if you want  show l3vpn-ntw vpn-services vpn-service <service-name> | display json | save <filename>Hope that is what you look for-LinhIt is the issue on CAT UI in convert the payload from JSON to XML format"
    },
    {
        "title": "[RONCFPSD-117] import tailf-ncs { prefix ncs; } missing from l2nm and l3nm deviations yang model changes resulting in the java binding compilation failure - this need a fix on yang files",
        "description": "import tailf-ncs { prefix ncs; } missing from l2nm and l3nm deviations yang model changes resulting in the java binding compilation failure - this need a fix on yang files: 1. ietf-l3vpn-ntw-deviations.yang 2. ietf-l2vpn-ntw-deviations.yang+\u00a0 import tailf-ncs { prefix ncs; }",
        "comments": "the TSDN 4.0 - 1.0 was used thus the ticket is under \"\" please help to correct it to CNCCFP Thank you for bringing this up, it does seem like we are missing import statements for tailf-ncs when we brought in new lsa-utils package integration.This will be fixed for TSDN 4.0 M2Resolved in M2, closing ticket."
    },
    {
        "title": "[RONCFPSD-498] Route-policy PASS_ALL gets added by default for L3VPN service",
        "description": "During testing observed that route-policy PASS_ALL gets added by default for L3VPN service.Please find attached the payload, native configs, device configs for reference.route-policy PASS_ALL is not included as part of payload and does not exist on device configs as well. But still it gets added during provisioning of L3VPN service.I have collected logs on cfs and rfs VMs at ",
        "comments": "  Found out that this seems to be existing behavior in CFP for L3VPN service. Opened sev6/enhancement cdets as per the discussion with Sahithi.This is an existing behaviour in CFP for L3VPN service. Below sev6 CDET has been opened for the enhancement."
    },
    {
        "title": "[RONCFPSD-329] TSDN 5.0.0 - M2 - wiki has wrong info for IETF TE ",
        "description": "1. Under - the yang file should not be cisco-flat-L2vpn-fp.yang.2. Under - please correct the version of draft used ",
        "comments": "Hi Quy,I have updated the mentioned changes in the Wiki. Let us know if anything else is required or we may close the ticket.Thanks,NikhilHi Nikhil,Thanks for fixing the wiki on M2 - please close the ticket.Regards,-QuyUpdated the wiki as requested by the user."
    },
    {
        "title": "[RONCFPSD-301] L2VPN service deletion struck in \"in-progress\" state for last 1 hour for Servcie: L2VPN-ASR9901-1-4-t-ldp-Vlan3154",
        "description": "I see L2VPN service deletion struck in \"in-progress\" state for last 1 hour for Servcie: L2VPN-ASR9901-1-4-t-ldp-Vlan3154 (deletion of other L2VPN services are going fine), can someone have a look as it is blocking me to move to M8?\u00a0admin@ncs> show l2vpn-ntw vpn-services vpn-service-plan L2VPN-ASR9901-1-4-t-ldp-Vlan3154 planplan component self selfstate initstatus not-reachedstate readystatus not-reachedback-track trueplan component ietf-l2vpn-ntw-nano-services:vpn-node ASR9901-1state initstatus reachedwhen \u00a0 2022-07-08T00:40:08state ietf-l2vpn-ntw-nano-services:config-applystatus not-reachedstate readystatus not-reachedback-track trueplan component ietf-l2vpn-ntw-nano-services:vpn-node ASR9901-4state initstatus reachedwhen \u00a0 2022-07-08T00:40:08state ietf-l2vpn-ntw-nano-services:config-applystatus not-reachedstate readystatus not-reachedback-track trueadmin@ncs>",
        "comments": "Connected with user and helped him delete the services"
    },
    {
        "title": "[RONCFPSD-467] NetSim Devices onboard",
        "description": "I am trying to use netsim. I made some progress. But, was wondering if you can help me get a little further.When I use netsim to create network and generate a XML file out of it, the IP addresses assigned are 127.0.0.1Can I ssh to these dummy devices that are generated?If I can do that, then I can somehow try to onboard them to CNC too.These are the steps that I am following:Create Authgroup1. ncs_cli -u admin2. configure3. set devices authgroups group default default-map remote-name admin4. set devices authgroups group default default-map remote-passwordCreate netsim network1. source /opt/ncs/ncs-6.1_230206.110843541.f67ad1e6cc9d/ncsrc2. ncs-netsim create-network ../packages/ncs-6.0.2-cisco-iosxr-7.44.3.tar.gz 2 cp03. ncs-netsim ncs-xml-init > devices.xml4. ncs_load -l -m devices.xml ",
        "comments": "When you create the netsims network, it will generate \"netsim/README.netsim\" which contains a list of devices and associated ports.As an example, I have an entry for PIOSXR-0:<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>name=PIOSXR-0 netconf=12022 snmp=11022 ipc=5010 cli=10022 dir=/home/rechand/Repos/T-SDN/running/tsdn-lsa-test/netsim/PIOSXR-/PIOSXR-0</pre></div></div>you can ssh directly into the device using the device locally via:<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>ssh admin@127.0.0.1 -p 10023</pre></div></div>Thanks,Regi"
    },
    {
        "title": "[RONCFPSD-473] Intermittent issue - NSO throws NEDCOM Connect socket closed issue",
        "description": "Setup - 10.195.165.90- xrd1/xrd1Tried to Delete 2 Circuit style policy from CNC UI one after the other (tried second delete after first commit succeeded). Received attached error message \"NEDCOM Connect socket closed issue\".The issue is intermittent.",
        "comments": "Seem like the device was unreachable at the time of service deletion. I checked your setup but I no longer see the service \"CS413\", were you able to delete the service?Thanks,RegiHello, please let us know if this issue is still valid.If no response is received, ticket will be resolved EOD Sept 2nd.Thank you.Initial RCA was done. No further response from customer. Closing ticket."
    },
    {
        "title": "[RONCFPSD-315] NSO CFP - 5.0 - M1 yang files changed without revision dates.",
        "description": "Create this ticket to track a list of changed yang files from NSO 5.0 - M1 release without revision added.[ Notes: Email was sent to Sahithi/Van/Nipa regarding the same]cisco-sr-te-cfp-sr-odn.yangcisco-sr-te-cfp-sr-policies.yangcisco-sr-te-cfp-sr-common.yangcisco-sr-te-cfp-sr-policies-internal.yangcisco-sr-te-cfp-sr-odn-internal.yangcisco-sr-te-cfp-sr-common-internal.yangietf-l2vpn-ntw.yangcisco-flat-L2vpn-fp.yang",
        "comments": "Hi Quy,We have updated the wiki to reflect the changes are part of M1 docs: . We will update the revisions on the yang models itself for M2 release.Thanks,RegiThanks Regi for the updates, will check the revision on M2 once released.Notes: did not see any updates regarding the cisco-sr-te-cfp-sr-odn.yang and cisco-sr-te-cfp-sr-odn-internal.yang from the wiki for Model and Payloads changes.Regards,-Quy"
    },
    {
        "title": "[RONCFPSD-472] NSO HA function observations",
        "description": "I am working on Crosswork SH 5.0 FT. During my SH testing with NSO HA setup I observed some issues. I am following the below guide for NSO HA setup and testing.My Testbed versionCW: 284cw-na-cat-5.0.0-291cw-na-aa-5.0.0-327cw-na-fp-tmtc-5.0.0-270NSO : ncs-6.1_230124.150846953.5043401bc5beHA : ncs-6.1_230202.150846214.1e784fae5f6b-tailf-hcc-6.0.0.tar.gzObservation 1: If I stop the NSO service on Master node, slave become master, but it is working in read-only mode. So that I am not able to perform any action in NSO. Also, the provisioning option in CW is not showing.If I bring up the nso service in master node then read-only mode changed as false in standby(working as master). Also, I can be able to see the all the option in CW service. Please share your feedback on my observation. Shall I raise CDET if my observation is valid ?Query 2:Do we have to DB sync up manually if the original master node comes up after some time? if yes, please share the procedure for the same.",
        "comments": " Hey Karthikeyan,Can you please setup details?Thanks,RegiReporter shared the setup details:<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>172.28.174.203 --> NSO1 (master)172.28.174.205 --> NSO2 (Slave)172.28.174.254 --> VIPadmin / Ovatest123@</pre></div></div>So, with your NSO installation file there should be docs located in: `/opt/ncs/current/doc/pdf/nso_admin_guide-6.1_230124.pdf`To outline related HA details for your queries:<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>To prevent split-brain to occur, NSO 5.7 or later comes with a rule-based algorithm. The algorithm is enabled by default, it can be disabled or changed from the parameters:\u2022 /high-availability/settings/consensus/enabled [true]\u2022 /high-availability/settings/consensus/algorithm [ncs:rule-based]The rule-based algorithm can be used in either of the two HA constellations:\u2022 Two nodes: one nominal primary and one nominal secondary configured as failover-primary.\u2022 Three nodes: one nominal primary, one nominal secondary configured as failover-primary and one perpetual secondary.On failover:\u2022 Failover-primary: become primary but enable read-only mode. Once the secondary joins, disable read-only.\u2022 Nominal primary: on loss of all secondaries, change role to none. If one secondary node is connected, stay primary.Note: In certain cases the rule-based consensus algorithm results in nodes being disconnected and will not automatically re-join the HA cluster, such as in the example above when the nominal primary becomes none on loss of all secondaries.To restore the HA cluster one may need to manually invoke the /high-availability/be-secondary-to action.Note #2: In the case where the failover-primary takes over as primary, it will enable read-only mode, if no secondary connects it will remain read-only. This is done to guarantee consistency.Read-write mode can manually be enabled from the the /high-availability/read-only action with the parameter mode passed with value false.</pre></div></div>Let me know if you have anymore questions.Thanks,RegiHello, please let us know if this issue is still valid.If no response is received, ticket will be resolved EOD Sept 2nd.Thank you.Customer was provided information. No further response from customer. Closing ticket."
    },
    {
        "title": "[RONCFPSD-7] Unable to bring up NSO RON FP due to Python validate error",
        "description": "Unable to bring up NSO RON FP due to Python validate error during load merge.Setup: 10.194.57.249 - nso249/nso249Kindly help.nso249@ncs% load merge nso-5.4.2-ron-mvp-0.5.0-RC/init_data/xml/config/RON-status-codes.xmlnso249@ncs% commitAborted: 'status-codes core-function-pack RON': Python cb_validate error. namedtuple() got an unexpected keyword argument 'defaults'nso249@ncs%",
        "comments": "Hi Ajitha,What RON build did you download? Please use our RC build, which you can find at - Then follow installation steps listed inPlease note the basic system requirements are:<ul>\t<li>Java: OpenJDK 11.2 or later</li>\t<li>Python: 3.8 or later</li>\t<li>Python Module \"Paramiko\" (Installed root level)</li>\t<li>xmllint (latest package)</li></ul>Thanks,VanHi Ajitha,Were you able to complete RON CFP bring up? Please let me know whether this case can be closed.Thanks,VanHi Ajitha,Please let us know if the issue was resolved and this case can be closed.Thanks,VanConfirmed with Ajitha that the original issue with Python was resolved and she agreed to close the case."
    },
    {
        "title": "[RONCFPSD-314] Configure CS-SR-TE policy failed under 'reserve-path segment-list",
        "description": "Configure CS SR-TE Static Path + Explicit SID failed with the following error msg: Method failed : External error in the NED implementationfor device TB3-PE-C: command:RP/0/RPO/CPUO:TB3-PE-C(config-sr-te-pp-info)#reverse-path segment-listc_11000_ep_100.100.100.6_to_ep_100.100.100.7_restore_CS.% Invalid input detected at '^' marker.From the M1 wiki, could not find which supported version of IOSXR we need to use for this feature.Could someone take a look at our setup and let us know.NSO: 10.194.63.180 (nso/Vtsisco@123!)Dry run is also attached.",
        "comments": " Can you please let us know the Cisco IOS XR version used to test this feature?hi Sahithi,the devices are with 7.5.2.19Iplease let us know which version we should use and please also add this info to the wiki for CS-SR-TE for reference. hi NSO CFP team,Any update on this case?We need to know which supported version recommended by your team to update our devices for CS-SR-TE.Thanks!Details present in wiki:"
    },
    {
        "title": "[RONCFPSD-300] [Vodafone] TSDN 2.0 Customisation Development Support",
        "description": "Hi Experts,We are in the process of doing customization for the L2NM/Flat-L2vpn packages of TSDN 2.0 for Vodafone and we are facing some blockers in the process. We seek some help regarding commit queues and the interconnect between L2NM/Flat-L2VPN packages and the core-fp-plan-notif-generator and core-fp-delete-tag-service packages.Would be good to have a Webex session with someone from the BU to clarify these topics in order to unblock the development. Please do let us know your availability and we can set up a Webex with the developers of the customization.Thanks ; Best Regards,F\u00e1bio Gameiro",
        "comments": "Discussed with Fabio and he'll be setting up a call to discuss on the clarifications required.Hi FabioHad a call with the team and helped them with the doubts they had.Thanks,NikhilClosing the ticket as the required assistance was provided. Please open a new ticket in case of any more issues."
    },
    {
        "title": "[RONCFPSD-466] TSDN 5.0.0 - M6 Patch 1 - wiki does not have sample payload changed",
        "description": "Please add sample payloads for IETF-L3, IETF-L2 and IETF-NSS changes.",
        "comments": "Hi Quy,The changes as part of this TSDN 5.0.0 - M6 Patch 1 Release are mostly validations and there are no payload changes.We can use the existing payloads.Thanks And Regards,Nishad Subair.Closing this ticket as there are no model changes which attribute a need for payloads.Thanks,Regi"
    },
    {
        "title": "[RONCFPSD-328] L2VPN auto route target configuration",
        "description": "Hi,I tried to configure an L2VPN service with auto route using the following syntax:<vpn-target xmlns=>          <auto-hub-rt/>        </vpn-target>But I keep getting the following error message:<error>    <error-type>application</error-type>    <error-tag>malformed-message</error-tag>    <error-path></error-path>    <error-message>/l2vpn-ntw/vpn-services/vpn-service{L2VPN_NM-ELAN-MH-341}/l2vpn-ntw-cisco:vpn-target/auto-hub-rt: the 'when' expression \"/ralloc:resource-pools/idalloc:id-pool\" failed</error-message></error>I am using NSO server credentials: nso576 / Public1234!Can you please explain how should the rt-pool be defined, how should it be configured in the L2 function pack and how can the values be fetched after successful allocation?Shlomi",
        "comments": "Hello,Regarding,Can you please explain how should the rt-pool be defined, how should it be configured in the L2 function pack<ul>\t<li>Please use sample config below to define the rt-pool</li></ul><config xmlns=\"http://tail-f.com/ns/config/1.0\"> <resource-pools xmlns=\"http://tail-f.com/pkg/resource-allocator\"> <id-pool xmlns=\"http://tail-f.com/pkg/id-allocator\">  <name>evi-id-pool</name>  <range>  <start>1</start>  <end>4000</end>  </range> </id-pool> <id-pool xmlns=\"http://tail-f.com/pkg/id-allocator\">  <name>evi-source-target-pool</name>  <range>  <start>1</start>  <end>400</end>  </range> </id-pool> <id-pool xmlns=\"http://tail-f.com/pkg/id-allocator\">  <name>rt-id-pool</name>  <range>  <start>1</start>  <end>65535</end>  </range> </id-pool> </resource-pools> <l2vpn-ntw xmlns=\"urn:ietf:params:xml:ns:yang:ietf-l2vpn-ntw\"> <id-pools xmlns=\"http://cisco.com/ns/nso/fp/examples/ietf-l2vpn-ntw-cisco\">  <evi-id-pool-name>evi-id-pool</evi-id-pool-name>  <evi-source-target-pool-name>evi-source-target-pool</evi-source-target-pool-name>  <rt-pool-name>rt-id-pool</rt-pool-name> </id-pools> </l2vpn-ntw></config> More Sample payloads can also be viewed here -Regarding,how can the values be fetched after successful allocation?You can run the below command for evi-alloc-data: run show l2vpn-ntw vpn-services vpn-service-plan l2nm-evpn plan evi-allocation-data | display keypath | nomoreAll the allocations can be seen under the plan too -admin@ncs% run show l2vpn-ntw vpn-services vpn-service-planLet me know if this helps.Regards, Janaki DuggiralaCustomer requested information to configure route policy. Information was provided. Closing ticket."
    },
    {
        "title": "[RONCFPSD-499] CNC/CW support of SRv6 with emphasis on L2VPN",
        "description": "From TSDN 4.1.1 FCS Release Notes and from TSDN 5.0.0 FCS Release Notes, it is mentioned that SRv6 is supported on XR 7.3.2 and on 7.5.1 and above.However, the phrasing there did leave some room for doubt, as it referred to \"this feature\", where it could also been interpreted that there are other versions of XR which are also supported, or partially support some features.Please assist to clarify if support for all SRv6 features is limited to the versions in the above comment.",
        "comments": "As mentioned in the wiki, SRv6 is supported only on XR version 7.3.2, 7.5.1 and above.To expand on the versions supported:\u201c7.5.1 and above\u201d would mean, all the versions released after 7.5.1 including itself.XR versions supported for Srv6 are 7.3.2, 7.5.1,7.5.2,7.6.1, 7.6.2, 7.7.1, etc.."
    },
    {
        "title": "[RONCFPSD-116] Re: NSO HW requirement TSDN 4.0.0 for CNC 4.0 and CAA 4.0",
        "description": "Hi,We would need to know if there is any changes in the NSO HW requirement ( standalone and NSO LSA) for CNC 4.0 and CAA 4.0 ?For CAA 3.0, we had below profile. Please let me know if we can continue the same or any changes required.Functional Setup: 8 Core CPU and 64 GB RAM and 250GB HD ( 20 devices and 100 services) Scale Setup: 24 Cores, 132 GB of RAM, and 1TB of HD ( 80 devices and 5k services)Thanks,Arun.M.G",
        "comments": "Hi Arun,There is no change in HW requirement as of now.You can continue with existing specifications .Although CPU can be brought down to 8 from 24 for scale set up .(should not impact with a smaller number of CPUs.)As the cdb size grows during scale just make sure memory is at least twice or thrice the cdb size for best performance .I hope this answers your question .Thanks,PriyankaHi Arun,I had some discussion within our team and we decided let's stick with 16vCPU for scale lab .Also keep 256GB swap mem.ThanksPriyankaHi Priyanka,Thanks . Sure. is that swap mem is seperate than the RAM and Disk?Hi Arun,Yes Swap mem is separate.ThanksPriyanka"
    },
    {
        "title": "[RONCFPSD-102] Discrepency in L2VPN and L3VPN modify messages when device is in Out of Sync",
        "description": "Query is mentioned in the document attached",
        "comments": " 1)\tFrom device, make a interface shutdown and in NSO don\u2019t sync the device.2)\tNow from CNC, we tried to edit the service of L3VPN and L2VPN with CVLAN ID for L3VPN and L2VPN (even MEPID)3)\tNow we got valid error in the CNC UI, that device is not in Sync with NSO. In Kafka logs we got some discrepancy for L2VPN and L3VPN, Please check below4)\tSo we need to know why L2VPN is not having error message and L3VPN is having error message. 5)\tDue to this, AA is performing differently, For l3VPN it is Showing provisioning state as Failed and For L2VPN, it is showing as Success.Please provide the details as mentioned in the release notes:1) NSO Version: 5.5.2.72) CFP - M63) Device version used: 7.4.1 and 7.0.24) Steps followed are explained in the below comments5) used two services: L2VPN (7.4.1 device with srte and other device 7.0.2 without SR), L3VPN plain6) Plan messages are mentioned in the doc attached7) This issue is related to the plan messages difference that we see between l2vpn and l3vpn, Let me know if you need separate logs for this ?When the device is out-of-sync and user tries to commit any more changes to the service (with commit queue disabled), the commit itself is aborted. Hence, in this case, none of the plan components would fail and no notifiations would be generated.The behavior for L2NM and L3NM is the same in this case. Please let us know if your steps were different. Also share the service state notifications for the case you mentioned and complete NSO logs.If needed, we can have a webex session to debug further.Let me know your feasible time Nishad. we can meet and discussHi Nishad, we have tried this same scenario in 5.5.2.9 M7. we dont see this isssue is reproducible.we see NSO notification for Monitoring state with error info for both l2vpn and l3vpn.issue not seen in M7. attached logs.Thanks,Arun.M.G Hi Arun,Thank you for the update.As verified by the submitter , working fine in 5.5.2.9 M7."
    },
    {
        "title": "[RONCFPSD-98] Get DRY-RUN/Commit ERROR  \"validation failed : '_ncs_XmlTag' object is not subscriptable : undefined\" after changing HOP-TYPE from strict to loose for a RSVP-TE with explicit path",
        "description": "1. Use CNC provisioning UI to successfully create a PCC-init RSVP-TE. The headend is a XE device (ASR-907) and tailend is a XRV9K 7.3.2 device. The RSVP-TE is created with explicit path with numbered-node-hop and hop-type is 'strict'2. Go back to CNC provisioning UI to edit the same RSVP-TE. Change hop-type from 'strict' to 'loose' and try to do dry-run and commit.3. Either doing Dry-Run or Commit, it ends up with popup error - \"validation failed : '_ncs_XmlTag' object is not subscriptable : undefined\" 4. Below is the RSVP-TE payload that's successfully provisioned { \"ietf-te:tunnel\": {  \"name\": \"RSVP-907-112\",  \"source\": \"41.41.41.41\",  \"head-end\": \"JSS-ASR-907\",  \"tail-end\": \"xrv9k-732-112\",  \"identifier\": 4112,  \"description\": \"XE41 to XR112\",  \"destination\": \"112.112.112.112\",  \"hold-priority\": 3,  \"setup-priority\": 3,  \"traffic-steering\": {   \"autoroute\": {    \"announce\": {     \"metric\": {      \"constant\": 2147483647     }    },    \"destination\": [     {      \"address\": \"111.111.111.111\"     }    ]   }  },  \"p2p-primary-paths\": {   \"p2p-primary-path\": [    {     \"name\": \"path-explicit-41-112\",     \"path-computation-method\": \"ietf-te-types:path-explicitly-defined\",     \"explicit-route-objects-always\": {      \"route-object-include-exclude\": [       {        \"index\": 1,        \"numbered-node-hop\": {         \"node-id\": \"115.115.115.115\",         \"hop-type\": \"strict\"        }       },       {        \"index\": 2,        \"numbered-node-hop\": {         \"node-id\": \"116.116.116.116\",         \"hop-type\": \"strict\"        }       },       {        \"index\": 3,        \"numbered-node-hop\": {         \"node-id\": \"114.114.114.114\",         \"hop-type\": \"strict\"        }       },       {        \"index\": 4,        \"numbered-node-hop\": {         \"node-id\": \"112.112.112.112\",         \"hop-type\": \"strict\"        }       }      ]     }    }   ]  } }}",
        "comments": "Hi Jen-Shue, Was able to reproduce the issue. Please file a CDETs.Thanks,RegiIssue is being tracked by CDETs: "
    },
    {
        "title": "[RONCFPSD-73] Does CLI NED cisco-iosxr-cli-7.33 suports for 7.3.2 and 7.4.1 ?",
        "description": "From CNC 3.0 NSO SFS, it says there is only NETCONF NED support for 7.3.2 and 7.4.1 .Is CLI NED cisco-iosxr-cli-7.33 suports for 7.3.2 and 7.4.1 ? ",
        "comments": "Hi Arun,Here is the wiki with supported ned versions.This is the iosxr-cli version supported by M5 release.IOSXR CLI NED - 7.33.12Let me know if you have any questions.--RaghaviHi Raghavi,thanks for responding.My question was different. Does the CLI NED cisco-iosxr-cli-7.33 is supported for XR device versions 7.3.2 and 7.4.1 ?or is that only NETCONF NED support for those device version?Hi Arun,CLI NED 7.33 supports all image versions with CLI.--Thanks."
    },
    {
        "title": "[RONCFPSD-67] config difference on NSO Native Config and ASR920",
        "description": "provision an L3VPN with no policy. one node it ASR9K and the other node is ASR920. No SR policy associated in the service.Compare the \"Native config\" and config on ASR920, observe the following. Can you confirm if this is expected?service payload attached.ASR920 IOS: 17.6.1ASR9K IOS: 6.7.2Config 1:On NSO Native Config:=================interface Loopback8 ip redirects vrf forwarding L3VPN_NM-IGP-IPV4-80 ip address 80.80.11.1 255.255.255.252 no shutdownOn ASR920:============interface Loopback8 vrf forwarding L3VPN_NM-IGP-IPV4-80 ip address 80.80.11.1 255.255.255.252 no shutdownDelta:=====ip redirects <--- do not see this line on ASR920Config 2: Under router bgpOn NSO Native Config:=================address-family vpnv4 unicast neighbor 80.80.11.2 activate    exit-address-familyON ASR920:=========address-family vpnv4 unicast neighbor 80.80.11.2 activate neighbor 80.80.11.2 send-community extended exit-address-familyDelta:====See extra line on ASR920, \"neighbor 80.80.11.2 send-community extended\"",
        "comments": " HI Crystal,We are working on getting the device access.--RaghaviThe original payload is not the correct one. Attached the right one here. Sorry for the confusion. Hi Crystal,This is the expected behavior. The NED translates activate into the two commands you have mentioned. Even on the device, if you set only \u2018activate\u2019, it automatically also configures the send-community extended. So we see only activate in NSO native config which internally configure send-community on the device.I would suggest if you see similar issues in future try to set directly on the device and see the behavior.--Raghavi."
    },
    {
        "title": "[RONCFPSD-506] L2 Provision Slice Creation Issue",
        "description": "Hi,While creating L2 slice, i'm getting below error:\"/resource-pools/idalloc:id-pool{None}/range/start is not configured\".Attached the payload and resource pool configurations as screenshot",
        "comments": " Hi Magesh,Please share your setup details and payloads. It would take a look after having these info.Regards,LinhHi Linh,Attaching the payload.Setup: UserId: ubuntudocpwd: ubuntudocRegards,Magesh Hi Magesh,After looking at your NSO, I don't see you define any id-pool for l2nm service. Please the attached screenshotPlease follow this link to define id-pool for l2nmThanks,LinhHi Linh,Thanks for the solution. That issue got solved. Now i get this,[{\"Message\":\"External error in the NED implementation for device xrv9k-12: Mon Jul 10 22:18:35.821 PDT\\r\",\"nsoResponse\":\"External error in the NED implementation for device xrv9k-12: Mon Jul 10 22:18:35.821 PDT\\r\\n\\r\\n% Failed to commit one or more configuration items during a pseudo-atomic operation. All changes made have been reverted.\\r\\n !! SEMANTIC ERRORS: This configuration was rejected by \\r\\n!! the system due to semantic errors. The individual \\r\\n!! errors with each failed configuration command can be \\r\\n!! found below.\\r\\n\\r\\n\\r\\nl2vpn\\r\\n bridge group UIT-Test-L2\\r\\n bridge-domain UIT-Test-L2_evi_1\\r\\n interface GigabitEthernet0/0/0/1.122\\r\\n!!% Invalid argument: VPLS Bridge domains not supported on this platform\\r\\n !\\r\\n !\\r\\n !\\r\\n!\\r\\nend\"}]Same setup.Regards,MageshHi Magesh,Oh! XRv9K does not support VPLS Bridge domains. Please use ASR9K/NCS5000 platform to test this feature.Regards,Linh"
    },
    {
        "title": "[RONCFPSD-260] NSO LSA mode RFS node install error",
        "description": "Hi,Am trying to install NSO LSA mode RFS node. But post install of TSDN 4.0.0 M6, noticed that not all the packages are installed. I see the same output in another RFS node also. Could you please help resolve this issue. admin@ncs> show packages package package-version | select build-info ncs version | select build-info file | select build-info package sha1 | select oper-status error-info | select oper-status up | tab               PACKAGE                                            ERRORNAME             VERSION FILE                             SHA1    VERSION UP INFO-----------------------------------------------------------------------------------------------------------------------------------cisco-flat-L2vpn-fp-internal 4.0.0  ncs-5.7.3-cisco-flat-L2vpn-fp-internal-EXAMPLE-4.0.0.tar.gz 12d4bb99  5.7.3  -  -cisco-flat-L3vpn-fp-internal 4.0.0  ncs-5.7.3-cisco-flat-L3vpn-fp-internal-EXAMPLE-4.0.0.tar.gz 12d4bb99  5.7.3  -  -cisco-ios-cli-6.77      6.77.9  ncs-5.7-cisco-ios-6.77.9.tar.gz               5a04c3bd6 5.7   X  -cisco-iosxr-cli-7.39     7.39.5  ncs-5.7.3-cisco-iosxr-7.39.5.tar.gz             f317f940  5.7.3  X  -cisco-iosxr-nc-7.3      7.3.2  ncs-5.7-cisco-iosxr-7.3.2.tar.gz               b1e6ce2b  5.7   X  -cisco-iosxr-nc-7.315     7.315  ncs-5.7-cisco-iosxr-7.315.tar.gz               c81c8124  5.7   X  -cisco-iosxr-nc-7.4      7.4.2  ncs-5.7.2-cisco-iosxr-7.4.2.tar.gz              2d6642fb  5.7.2  X  -cisco-iosxr-nc-7.5      7.5   ncs-5.7.2.1-cisco-iosxr-nc-7.5-efd16e5-2022-04-22.tar.gz   efd16e5  5.7.2.1 X  -cisco-iosxr-nc-7.6      7.6.1  ncs-5.7.3-cisco-iosxr-7.6.1.tar.gz              87fec449  5.7.3  X  -cisco-iosxr-nc-7.7      7.7   -                              -     -    X  -cisco-rsvp-te-fp       4.0.0  ncs-5.7.3-cisco-rsvp-te-fp-EXAMPLE-4.0.0.tar.gz       12d4bb99  5.7.3  -  -cisco-sr-te-cfp-internal   4.0.0  ncs-5.7.3-cisco-sr-te-cfp-internal-4.0.0.tar.gz       12d4bb99  5.7.3  -  -cisco-tsdn-core-fp-common   4.0.0  ncs-5.7.3-cisco-tsdn-core-fp-common-4.0.0.tar.gz       12d4bb99  5.7.3  -  -core-fp-common        1.30.0  ncs-5.7-core-fp-common-1.30.0.tar.gz             82b8637  5.7   -  -core-fp-delete-tag-service  1.0.5  ncs-5.7-core-fp-delete-tag-service-1.0.5.tar.gz       843f7ea  5.7   -  -core-fp-plan-notif-generator 1.0.6  ncs-5.7-core-fp-plan-notif-generator-1.0.6.tar.gz      9256a63  5.7   -  -custom-template-utils     2.0.9  ncs-5.7.2-custom-template-utils-2.0.9.tar.gz         1884026  5.7.2  -  -flat-l2vpn-multi-vendors   4.0.0  ncs-5.7.3-flat-l2vpn-multi-vendors-EXAMPLE-4.0.0.tar.gz   12d4bb99  5.7.3  -  -flat-l3vpn-multi-vendors   4.0.0  ncs-5.7.3-flat-l3vpn-multi-vendors-EXAMPLE-4.0.0.tar.gz   12d4bb99  5.7.3  -  -lsa-utils           1.0.1  ncs-5.7.2.1-lsa-utils-1.0.1.tar.gz              d23c015  5.7.2.1 -  -rsvp-te-multi-vendors     4.0.0  ncs-5.7.3-rsvp-te-multi-vendors-EXAMPLE-4.0.0.tar.gz     12d4bb99  5.7.3  -  -sr-te-multi-vendors      4.0.0  ncs-5.7.3-sr-te-multi-vendors-4.0.0.tar.gz          12d4bb99  5.7.3  -  -admin@ncs> show packages package oper-status | tab                                                                                                              PACKAGE                 PROGRAM                                    META   FILE                 CODE   JAVA      PYTHON     BAD NCS PACKAGE PACKAGE CIRCULAR  DATA   LOAD  ERRORNAME             UP ERROR  UNINITIALIZED UNINITIALIZED VERSION NAME   VERSION DEPENDENCY ERROR  ERROR INFO---------------------------------------------------------------------------------------------------------------------------------------cisco-flat-L2vpn-fp-internal -  -    -       X       -    -    -    -      -    -   -cisco-flat-L3vpn-fp-internal -  -    -       X       -    -    -    -      -    -   -cisco-ios-cli-6.77      X  -    -       -       -    -    -    -      -    -   -cisco-iosxr-cli-7.39     X  -    -       -       -    -    -    -      -    -   -cisco-iosxr-nc-7.3      X  -    -       -       -    -    -    -      -    -   -cisco-iosxr-nc-7.315     X  -    -       -       -    -    -    -      -    -   -cisco-iosxr-nc-7.4      X  -    -       -       -    -    -    -      -    -   -cisco-iosxr-nc-7.5      X  -    -       -       -    -    -    -      -    -   -cisco-iosxr-nc-7.6      X  -    -       -       -    -    -    -      -    -   -cisco-iosxr-nc-7.7      X  -    -       -       -    -    -    -      -    -   -cisco-rsvp-te-fp       -  -    -       X       -    -    -    -      -    -   -cisco-sr-te-cfp-internal   -  -    -       X       -    -    -    -      -    -   -cisco-tsdn-core-fp-common   -  -    -       X       -    -    -    -      -    -   -core-fp-common        -  -    -       X       -    -    -    -      -    -   -core-fp-delete-tag-service  -  -    -       X       -    -    -    -      -    -   -core-fp-plan-notif-generator -  -    -       X       -    -    -    -      -    -   -custom-template-utils     -  -    -       X       -    -    -    -      -    -   -flat-l2vpn-multi-vendors   -  -    -       X       -    -    -    -      -    -   -flat-l3vpn-multi-vendors   -  -    -       X       -    -    -    -      -    -   -lsa-utils           -  -    -       X       -    -    -    -      -    -   -rsvp-te-multi-vendors     -  -    -       X       -    -    -    -      -    -   -sr-te-multi-vendors      -  -    -       X       -    -    -    -      -    -   -Below are login details of both RFS nodes :-172.20.63.144 (cnctest/Ovatest123@)172.20.63.145 (cnctest/Ovatest123@)",
        "comments": "This is of high priority and am awaiting for your inputs. Could you please help prioritize this.Hi SreedharPlease check the pre-requisites required when CFP is installed. This is not a NSO issue but a setup issue.I have upgraded python version on your setup. The python3 version was pointing to python3.6 and hence the packages were not getting loaded properly. I have linked the python3 to 3.8 on both the rfs nodes and the packages are loading properly now.Let me know if we can close the ticket.cnctest@ncs> show packages package oper-status | tab                            PACKAGE             PROGRAM                  META  FILE           CODE  JAVA   PYTHON   BAD NCS PACKAGE PACKAGE CIRCULAR DATA  LOAD ERROR NAME       UP ERROR UNINITIALIZED UNINITIALIZED VERSION NAME  VERSION DEPENDENCY ERROR ERROR INFO ---------------------------------------------------------------------------------------------------------------------------------------cisco-flat-L2vpn-fp-internal X -  -    -    -  -  -  -   -  -  -  cisco-flat-L3vpn-fp-internal X -  -    -    -  -  -  -   -  -  -  cisco-ios-cli-6.77   X -  -    -    -  -  -  -   -  -  -  cisco-iosxr-cli-7.39   X -  -    -    -  -  -  -   -  -  -  cisco-iosxr-nc-7.3   X -  -    -    -  -  -  -   -  -  -  cisco-iosxr-nc-7.315   X -  -    -    -  -  -  -   -  -  -  cisco-iosxr-nc-7.4   X -  -    -    -  -  -  -   -  -  -  cisco-iosxr-nc-7.5   X -  -    -    -  -  -  -   -  -  -  cisco-iosxr-nc-7.6   X -  -    -    -  -  -  -   -  -  -  cisco-iosxr-nc-7.7   X -  -    -    -  -  -  -   -  -  -  cisco-rsvp-te-fp    X -  -    -    -  -  -  -   -  -  -  cisco-sr-te-cfp-internal  X -  -    -    -  -  -  -   -  -  -  cisco-tsdn-core-fp-common  X -  -    -    -  -  -  -   -  -  -  core-fp-common    X -  -    -    -  -  -  -   -  -  -  core-fp-delete-tag-service X -  -    -    -  -  -  -   -  -  -  core-fp-plan-notif-generator X -  -    -    -  -  -  -   -  -  -  custom-template-utils   X -  -    -    -  -  -  -   -  -  -  flat-l2vpn-multi-vendors  X -  -    -    -  -  -  -   -  -  -  flat-l3vpn-multi-vendors  X -  -    -    -  -  -  -   -  -  -  lsa-utils      X -  -    -    -  -  -  -   -  -  -  rsvp-te-multi-vendors   X -  -    -    -  -  -  -   -  -  -  sr-te-multi-vendors   X -  -    -    -  -  -  -   -  -  - Thanks,NikhilHi Nikhil, Great !!  Thanks for fixing both the nodes. Yes, please go ahead resolving the case.Thanks,Sreedhar.Issue was fixed, hence closing the ticket.Hi Nikhil,Could you please let me know what are steps/commands used to fix this ? That will be helpful incase if hit this issue again.Thanks,Sreedhar."
    },
    {
        "title": "[RONCFPSD-274] how/where do I configure restconf keep-alive?",
        "description": "I added flag of keepalive=true in ncs.conf (like described here - )but getting error \"keepalive cannot occur here as a child to 'ncs-config'.\"under which leaf I should add this flag? couldn't find example in NSO documentation. Thanks",
        "comments": "Hi Idan,Please double check where you put this flag in ncs.conf. It should be under <webui> like this sample <webui>  <enabled>true</enabled>  <transport>   <tcp>    <enabled>true</enabled>    <ip>0.0.0.0</ip>    <port>8080</port>    <keepalive>true</keepalive>    <keepalive-timeout>30</keepalive-timeout>   </tcp>   <ssl>    <enabled>false</enabled>    <ip>0.0.0.0</ip>    <port>8888</port>    <keepalive>true</keepalive>    <keepalive-timeout>30</keepalive-timeout>    <key-file>${NCS_CONFIG_DIR}/ssl/cert/host.key</key-file>    <cert-file>${NCS_CONFIG_DIR}/ssl/cert/host.cert</cert-file>   </ssl>  </transport>  <cgi>   <enabled>true</enabled>   <php>    <enabled>false</enabled>   </php>  </cgi> </webui>Regards,LinhKeep-alive works by follow x-path structure"
    },
    {
        "title": "[RONCFPSD-512] NSO write operations failed due to some lock",
        "description": "Installed CNC6.0 203 build. Onboard NSO provider and devices. On CNC UI NSO state shows empty value. Our dlm dev took a look and the finding is \"the write operations are failing on NSO due to some lock.\" Please see attached email for more details.Do we know how does NSO get to lock mode? Is there a workaround to unlock?Here is the NSO VM info:IP: 2001:420:284:2004:4:112:219:4024id/pw: root/Vtsisco@123!",
        "comments": " Hello, On logging in to VM we have noticed commits going through with no errors (screenshot attached)Please provide any additional information/specific steps to reproduce the lock issue so we may troubleshoot further.Regards,Janaki DuggiralaUser has done following: delete the devices and providers from CNC and on board both of them again Confirmed it works now.In such cases restarting NSO will also unlock the commits."
    },
    {
        "title": "[RONCFPSD-248] CSCwb77036 - Device username and NSO username are same - Umap is throwing an error",
        "description": "From: Mirel Sprung (msprung) <msprung@cisco.com>Date: Wednesday, May 4, 2022 at 3:22 PMSubject: RE: CSCwb77036 - Device username and NSO username are same - Umap is throwing an errorHi Hemant, Nipa, This bug was opened on NCA, and were trying to figure out how to address it.Is this a known issue that is documented in our official guides?I found this wiki that talks about adding usermap (umap) to NSO authgroup: .Thanks,Mirel.",
        "comments": "I tried adding umap username in authgroup and it worked fine.Umap works fine as expected.Here is the screenshot :Screenshot is attached .ThanksPriyankaWaiting for Joby to provide details and issue reproduction.ThanksPriyankaHad chat with Joby ,he is okay to close cdet and jsd."
    },
    {
        "title": "[RONCFPSD-213] L2vpn over SRv6 with ODN attached - not supported?",
        "description": "My understanding in this release L2VPN over SRv6 does not support attaching SRv6-TE policy or ODN template. But I am able to provision an L2VPN over SRv6 with ODN template attached. Both Dry-Run and Commit went through. Can you confirm if this is supported. If it is not, should there be validation and fail the Dry-run or Commit?Thanks.",
        "comments": "Payload attached. Hi Crystal,Will look into this and get back to you.Thanks,RegiHi Crystal,SRv6 is not supported with ODN or TE policy. If you do see an issue with validation. Please go ahead and file a CDETs. I'll go ahead and close this ticket, since the query has been answered.Thanks,Regi"
    },
    {
        "title": "[RONCFPSD-575] Devices in out of sync state when there is no changes in config in EC2 setup",
        "description": "Devices are in out of sync state in NSO even when there is no config changes. Issue seen in EC2 setup. Instances are powered off on daily basis and powered on next day for testing. Once all the instances are up when validating the device status found devices are in out of sync state.EC2 Setup detail will be shared in person",
        "comments": "Had a call with customer. Investigating issue.Enabled trace logging on NSO as shown below to obtain additional data.admin@ncs% show devices global-settings tracetrace false;admin@ncs% set devices global-settings trace rawadmin@ncs% commiCommit complete.admin@ncs% show devices global-settings tracetrace raw;Created Internal TSDN ticket - Raised CDETS with IOSXR team - Awaiting information from IOSXR team."
    },
    {
        "title": "[RONCFPSD-561] NSO LSA standalone with services converting to NSO LSA HA support",
        "description": "Hi team,Clarification please.If converting NSO standalone/NSO LSA standalone (with services and Devices) to NSO HA/NSO LSA HA is supported scenario (or) is it mandatory to setup HA first before any service creation/Device addition.Kindly suggest.",
        "comments": "Hello,It is recommended to first setup HA before adding any devices/services.The ansible script has this usecase (install LSA-HA) as one of the options.Regarding support, We support the following casesStandalone -> Standalone + HA (supported)Standalone -> LSA (supported)LSA -> LSA + HA (supported)Please let us know of this helps.Regards,Janaki DuggiralaAbe helped Ajitha with the setup."
    },
    {
        "title": "[RONCFPSD-207] Route-policy name and the attached parent route-policy names are different",
        "description": "Route-policy name and the attached parent route-policy names are different in EVPN-TREE provisioning.route-policy SET_COLOR_EVPN_MP_service_RP-L2NM-ODN-xrd-1-350 if rd in (100.100.100.112:350) then   set extcommunity color COLOR_350  endifend-policy!route-policy bgp_in apply SET_COLORv4_service_RP-L2NM-ODN-xrd-1-350 apply SET_COLORv4_service_RP-L2NM-ODN-xrd-1-450 passend-policy",
        "comments": " Hi Ragesh,From what you have described, it seems like a bug that was fixed for M5. You can find the CDETs here : Did you face any device errors when pushing this service?Thanks,Isaac KimHi Issac,Yes, Since the route-policy name ; attched parent route-policy names are different it's not able to attach the parent route-policy to the bgp neighbor.Attached the sreenshotHi Isaac,Thanks for letting us know about the cdets, but from the cdets below, there was a reference to  - i'm unable to view the ticket. Could you please allow the access for read only to get more information?Thanks and regards,-QuyHi Quy, I have tried to share the ticket with you.Also, please let me know if you are still facing this issue on M5+ build.Thanks,Isaac KimPlease open new JSD if encountered again. Thanks!"
    },
    {
        "title": "[RONCFPSD-549] NSO LSA L3 HA stuck after Switchover",
        "description": "NSO LSA L3 HA not responding to any configuration or request after switchover from LHS to RHS. Kindly help troubleshoot furtherSetup:NSO LSA L3 HA - CFS - 192.168.5.67 , 192.168.6.67 \u2013 VIP \u2013 3.3.3.7 - nsoaz1/Cnc@1234\u00a0\u00a0NSO LSA L3 HA - RFS1 - 192.168.5.68 , 192.168.6.68 \u2013 VIP \u2013 4.4.4.7 - nsoaz1/Cnc@1234\u00a0\u00a0NSO LSA L3 HA - RFS2 - 192.168.5.69 , 192.168.6.69 \u2013 VIP \u2013 5.5.5.7 - nsoaz1/Cnc@1234\u00a0\u00a0",
        "comments": "RFS-1 HA setup was not completely working due to token-mismatch. Updated ncs.crypto file on both nodes."
    },
    {
        "title": "[RONCFPSD-14] RPC error towards hfayerst-esxi: operation_failed: Exception in callback: Circuit [UID = fcb95d75-4221-3583-8c15-02c4f2a16d76] Provisioning failed. PCE Find Channel Failed[PCE-PR00018] - Optical validation failed: ZONE_RED worse than ZONE_GREEN",
        "description": " nso552/Public1234!Local Installation: /home/nso552/.0.0",
        "comments": "For now close this issue, irrelevant The error is from ONC, advising something is wrong with the selected end-points.I will close the casePlease check with ONC."
    },
    {
        "title": "[RONCFPSD-165] L2VPN-ELAN provisioning throws an error message.",
        "description": "L2VPN-ELAN provisioning throws an error message, please let me know is there any pre-requisite for provisioning the ELAN service. Screenshot attached.",
        "comments": "Hi RageshCan you please let us know which platform are you using?Thankshi Nikhil, i'm replying for Ragesh as he is in IST zone. We were using cisco-iosxr-nc-7.5 (Version: 7.5.2.19I). Hope this is what you are looking for.RegardsHi Ragesh ,Looking at the error it clearly looks like a payload issue.Did you try payloads from :Please try using correct payloads and there is no pre-requisite as such from device. bridge-domain must be defined in payload.Thanks,PriyankaHi Priyanka,Tried after adding the bridge-domain payload, looks the XRV9K platform is not supported for bridge-domain config. Screenshot attachedXRv9K does not support VPLS bridge domain. Please try ASR9Kv.Thanks,RegiHi Regi,ASR9K is the physical device right, Do we have any virtual platform for ASR9K?You can use ASR9Kv.Thanks.Hi Nikhil,Could you please share the path to download the ASR9Kv image for the testing.Hi RageshPlease refer the below wiki page for ASR9Kv image:Hi RageshPlease let us know if anything else is needed or we may close the ticket.Thanks,NikhilClosing the ticket as the required information has been provided.Hi Nikhil,Please close the ticket."
    },
    {
        "title": "[RONCFPSD-171] ESI value are not applied to the devices",
        "description": "ESI value that specified in the payload is not flushed to the devices ",
        "comments": "Hi YevgenyWe couldn't reproduce the issue on our system. We see the esi-value being propagated to the device.Can you please provide us with the system details where you are facing this issue.Thanks.NSO UI: ============= admin/Public12345!Devices:=============Access to devices: ssh: 10.56.58.145 nso5721/Public1234!From that VM SSH: admin/Public1234!192.168.122.204 PE-A192.168.122.143 PE-B192.168.122.240 PE-CService For example=============Hi YevgeniWe checked your setup and could see that there are multiple services pushing the esi-value on the same interface(PE-B). Below are those services and esi-values:L2VPN_NM-PBB-CUSTOM-SRTE-ODN-430 (esi-value 00.01.00.ac.ce.55.00.04.30)L2VPN_NM-ELAN-MH-340 (esi-value 00.01.00.ac.ce.77.00.0a.11)L2VPN_NM-PBB-CUSTOM-390 (esi-value 00.01.00.ac.ce.55.00.03.90)L2VPN_NM-ETREE-MH-380 (esi-value 00.01.00.ac.ce.55.00.0a.00)The device PE-B is having the esi-value 0 00.01.00.ac.ce.55.00.04.30 present which is posted through the L2VPN_NM-PBB-CUSTOM-SRTE-ODN-430 service.These multiple services are shifting the esi-value on the device and hence you are not able to see the required value.Thanks,NikhilPlease clean up extra services and re-deploy the service you want to useThis is not 100% accurate. Each service is using its own dedicated sub interface Hi Yevgeny,You mentioned XR supported sub-ifs for ethernet-segments, but was not able to get passed the following error:<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>RP/0/RSP0/CPU0:PE2(config-evpn-ac-es)#show configuration failedWed Mar 23 23:49:43.368 UTC!! SEMANTIC ERRORS: This configuration was rejected by!! the system due to semantic errors. The individual!! errors with each failed configuration command can be!! found below.evpn interface HundredGigE0/0/0/7.200!!% Invalid argument: Subinterface not supported: mainports only ethernet-segment!!% Invalid argument: Cannot find Ethernet-Segment by name  identifier type 0 00.01.00.ac.ce.55.00.0a.01!!% Invalid argument: Cannot find Ethernet-Segment by name ! ! interface HundredGigE0/0/0/7.300!!% Invalid argument: Subinterface not supported: mainports only ethernet-segment!!% Invalid argument: Cannot find Ethernet-Segment by name  identifier type 0 00.01.00.ac.ce.55.00.0a.01!!% Invalid argument: Cannot find Ethernet-Segment by name ! !!end</pre></div></div>Can you please provide sample device configuration on how to create \"evpn / interface / ethernet-segment\" for sub-ifs?Thanks,RegiI did not know that . !!% Invalid argument: Subinterface not supported: mainports only ethernet-segmentThis means that we dont have an issue Closing ticket, since submitters request is not supported by XR device"
    },
    {
        "title": "[RONCFPSD-159] ELAN + ODN not working",
        "description": "When adding te-mapping/odn to ELAN we hit this error: <errors xmlns=\"urn:ietf:params:xml:ns:yang:ietf-restconf\"><error><error-type>application</error-type><error-tag>malformed-message</error-tag><error-path></error-path><error-message>RPC error towards PE-A: operation_failed: for ns1:routing-policy/ns1:route-policies/ns1:route-policy/ns1:rpl-route-policy: 'YANG framework' detected the 'fatal' condition 'Operation failed'</error-message></error></errors>",
        "comments": "added the config we used we notice that if we use \"route-type\" in the policy, we are able to attach it to the service - is it possible rd policies is not supported for ELAN?It should be support. The service should be sending the following for the route-policy for your payload\"route-policy SET_COLOR_EVPN_MP_service_L2VPN_NM-ELAN-SRTE-ODN-PE-A-290\\n if rd in (100.100.100.7:1) then\\r\\n set extcommunity color COLOR_250\\r\\n endif\\r\\n\\n\\nend-policy\"Can you please let me know which NED, device version and device platform you are using?we use NED cisco-iosxr-nc-7.5:cisco-iosxr-nc-7.5. If you want you can look on the server (admin/Public1234!)Thanks, but NSO won't show the device version and device platform. I'm assuming the device version is 7.5? Can you double check as well as the platform?Also, NSO GUI seems to slow. Can I get the credentials for ssh to use CLI?Hi Idan,.I was able to reproduce the issue. This seems to be a bug. Please go ahead and file a CDETs.Thanks,RegiHi Idan,Just a reminder but please file a CDETs and close the case.Thanks,Regihi, how do I close this case? Idan filed CDETs: Issue was fixed and released as part of TSDN 4.0 M3Hi,As per meeting, there seems to be more issues other than the original error. I have gone through created an internal ticket at well as updated the CDETs.Thanks,RegiFixed as part of M5"
    },
    {
        "title": "[RONCFPSD-398] Issue on getSchema API for L2VPN service",
        "description": "Issue on getSchema API for L2VPN service. In CNC provisioning UI for some fields after a successful set_value calls the subsequent get_schema API call does not bring newly added value to the fields.  The following are examples of the fields with the path \"/l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service{aaa}/vpn-nodes/vpn-node{xrv9k-22}/te-service-mapping/te-mapping/sr-policy/policy-type\" \"/l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service{aaa}/vpn-nodes/vpn-node{xrv9k-22}/te-service-mapping/te-mapping/sr-policy/fallback\" \"/l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service{aaa}/vpn-nodes/vpn-node{xrv9k-22}/te-service-mapping/te-mapping/odn/attach-point/parent-rr-route-policy\"",
        "comments": "Hi Demeke,Please provide us with the set_value and get_schema request where you are seeing the issue.Also, please provide with the CNC setup details.Thanks,NikhilHi Demeke,This issue is happening because the get_schema call is having insert_values = false. This is the reason the values are not returned in the get_schema response.I tried the same call with insert_values = true and was able to see the values being returned in the response.Thanks,NikhilHi,The suggestion given to use get_elem API is not working for our use case our Prov-UI editor is relay on the get_schema api. And the workaround is not helping.This is the original ticket related to this issueThanks,Demeke.Hi Demeke,The original ticket related to this issue is fixed The below RT raised for the original issue with NSO team has been fixed:The change will be included in thebelow and later versions:<ul>\t<li>nso-5.5.9 (31-Jan-2023)</li>\t<li>nso-5.6.11</li>\t<li>nso-5.7.9 (24-Jan-2023)</li>\t<li>nso-5.8.7</li>\t<li>nso-6.0.1.1</li>\t<li>nso-6.0.2 (17-Jan-2023)</li>\t<li>nso-6.1 (13-Apr-2023)</li></ul>Thanks,NikhilBelow Original ticket related to this issue was fixedHence using insert_value=true would give the required response now."
    },
    {
        "title": "[RONCFPSD-367] Provision Slice Service Issue",
        "description": "Hi,While provisioning a slice service i'm getting a validation error.Error Response:------------------{  \"ietf-restconf:errors\": {    \"error\": [      {        \"error-type\": \"application\",        \"error-tag\": \"malformed-message\",        \"error-path\": \"/ietf-network-slice-service:network-slice-services/slice-service\",        \"error-message\": \"/network-slice-services/slice-service{Dedic-500}: Python cb_validate error. STATUS_CODE: TSDN-IETF-NSS-400REASON: NoneCATEGORY: NoneSEVERITY: NoneContext [name = Status Code, message = Missing IETF NSS status code mapping state = {'Keypath': '/ietf-nss:network-slice-services/slice-service{Dedic-500}'}]\"      }    ]  }}Attaching the input payload also.",
        "comments": " Hi Magesh,Please check if the bootstrap data is loaded correctly.IETF-NSS-status-codes.xmlRegards,Nishad Subair.Hi Nishad,I tried the steps for loading the xml as mentioned in the link,After that i restarted the ncs.But still facing the same issue"
    },
    {
        "title": "[RONCFPSD-401] Unable to compile after updating the yang model",
        "description": "Hi,I have added descriptions and added tailf:hidden to l2-vpn yang model to test couple of scenarios. After changing the yang and when I tried to do \"make clean all\" to compile my changes from src folder. It resulted in below error.ubuntudoc@ubuntudoc:~/nso-5.7.6-tsdn-5.0.0-M4/tsdn/example-packages/ietf-l2vpn-nm/src$ make clean allmake: *** No rule to make target 'clean'. Stop. Kindly let me know.",
        "comments": "Hello, I would recommend checking the Makefile underpackages/ietf-l2vpn-nm/src for the clean target:It should look like below:clean:     rm -rf $(DIRS)Please confirm to us how the Makefile looks.Regards,Janaki DuggiralaHi Naveen,Which build have you been using to change the yang files?We do not include make files in our release build.ThanksSahithiHi Sahiti,The steps which I did is as follows,1. Downloaded 2. tar -xvf nso-5.7.6-tsdn-5.0.0-M4.tar.gz3. tar -xvf nso-5.7.6-tsdn-5.0.0-M4/tsdn/example-packages/ncs-5.7.6-ietf-l2vpn-nm-EXAMPLE-5.0.0.tar.gz4. Updated yang file in nso-5.7.6-tsdn-5.0.0-M4/tsdn/example-packages/ietf-l2vpn-nm/src/yang/cisco-l2vpn-ntw.yang5. make clean all Yes , I don't see make file in the location.Kindly let me knowHi Naveen,You need to have build with source code to compile the changes.The build with source code is present in our release wiki. Please download that and compile them.ThanksSahithiReceived confirmation from customer that issue is resolved. Closing ticket.Customer was provided with following info:\"\"\"You need to have build with source code to compile the changes.The build with source code is present in our release wiki.Please download that and compile them.\"\"\"Customer confirmed that issue is resolved. Closing ticket."
    },
    {
        "title": "[RONCFPSD-415] L3VPN MVPN static tree-sid policy creation failing from CNC (prov-ui)",
        "description": "L3VPN MVPN static tree-sid policy creation failing from CNC -UI giving these errors at different time please find attached Payload json file ",
        "comments": " Hello, Can you please let us know:If there is a BGP device already present?If yes, what is BGP AS number?Regards,Janaki DuggiralaHi Janaki,The BGP AS number in our devices are 100.router bgp 100Thanks,NaveenHello Naveen, in that case we recommend the payload should be changed from 1 to 100 for the local-as.please let us know if this helps.Updated the Payload local-as form 1 to 100 its still throwing this error Please provide setup info.NSO setup : nso/Vtsisco@123!Hello, we restarted NSO on your VM using command below:nso@nso-virtual-machine:~$ sudo service ncs restartThe error is no longer being seen.Please proceed with your testing.Regards,Janaki Duggiralawhat is the reason for the error ? and do we need to restart NSO each time ?thanks Janaki , the previous error not coming now be device Sync error are coming frequently even after doing check-sync what is the reason for the error ? the python VM seemed to be not running properly.and do we need to restart NSO each time ?if you see this specific error, we would recommend restarting the NSOWith the sync-from issue, can you check device connectivity on your end? is the device info on NSO correct? you can perform fetch-host-keys again as well..Hello, Please confirm if all issues are addressed and if we may close this ticket?Regards,Janaki DuggiralaClosing ticket since no further response has been received from customer.To assist with this issue,we restarted NSO on the VM using command below: nso@nso-virtual-machine:~$ sudo service ncs restart"
    },
    {
        "title": "[RONCFPSD-373] Error deploy l3vpn route policy",
        "description": "on our NSO ( nso576/Public1234!)when we try to associate l3vpn-routing-policy to a service, we get following error: <errors xmlns=\"urn:ietf:params:xml:ns:yang:ietf-restconf\">  <error>    <error-type>application</error-type>    <error-tag>operation-failed</error-tag>    <error-path></error-path>    <error-message>External error in the NED implementation for device PE-A: command: endif&#13;: ^&#13;% Invalid input detected at '^' marker. [ route-policy L3VPN_NM-SRTE-ODN-PE-A-40 / ]</error-message>  </error></errors>ned version is cli 7.42attach the payload we use. ",
        "comments": " Hi Idan,We are able to create the service with the payload you provided.Please provide the restconf request sent from your side , so that it will be helpful in debugging the issue.Regards,Nishad Subair.What do you mean by \"restconf request sent from your side\", how is it different from the attached payload?Were you able to provision this service using our NSO? (attached below)If not, can you check if our NSO is configured correctly or missing anything?Hi Shlomi,The route-policy is not configured correctly. Please refer the following -In the route-policy, you are using multicast-action which should only be used for mvpn use-case. Please instead use Bgp-actions/set-ext-community. Please see sample payload for more details -> sample payload L3NM-RP.xmlThanks And Regards,Nishad Subair.Hi Nishad,After adapting payload as instructed, services are successfully deployed.Thanks.Hi Shlomi,Thank you for the update.Regards,Nishad Subair."
    },
    {
        "title": "[RONCFPSD-429] IPv6 route target  in L3VPN service is not pushed to device",
        "description": "I am using NSO 6.1 TSDN 5.0.0 M5+Use CNC create an L3 slice with advance settings.  Connectivity Route Target = Auto  SDP advanced settings for route targets  PE-A: import: 0:111:111  Export: 0:112:112  Both: 0:555:555  PE-B: Both: 0:666:666an L3VPN service is automatically created. The service has both IPv4 and IPv6 address family under \"active-vpn-instance-profiles\" -> \"vpn-instance-profile\". But on device the router target is only added under IPv4 address family but not IPv6.",
        "comments": " "
    },
    {
        "title": "[RONCFPSD-428] Need info on migration support from NSO 6.1 Engineering build to upcoming new NSO builds",
        "description": "Due to the below Jira ticket, we are blocked for ELAN/ ETREE., so, for SH scale testing, we have to scale up all services types like l2vpn p2p, evpn., l3vpn, elan, etree.just wanted to know if we scale up l2vpn p2p or EVPN, once new build comes, does the migration support available to upgrade to new build with scale services?",
        "comments": "Hi Arun,It would depend on the yang model changes required by the ShowStopper/Blocker tickets created. If there is change which would be backwards incompatible, migration between milestones would not be possible.With next release, we do not see any yang changes with L2 or L3. We do have few backwards incompatible changes with CS SR CFP though.Hope this answers your query.ThanksSahithi"
    },
    {
        "title": "[RONCFPSD-414] Converting an existing L3 to L2 slice service",
        "description": "Hi,While updating a slice service from L3 to L2, i'm getting the error in NSO UI itself.Could you please look into this",
        "comments": "Hello,Can we please get additional information for troubleshooting such as1. Payload used2. Steps to Reproduce.3. Setup Info.Regards,Janaki DuggiralaHi Janaki,As per our quick discussion, hope you have taken the necessary information.Will wait for your response.Thanks for your time.MageshHello, after internal discussions, we recommend filing a CDETS for this issue for further investigation.  Hi Janaki,Filled the cdets CSCwd90968 for this issue.Thanks,NaveenReceived CDETS, will investigate this use-case with internal teams.RT Raised with platform for messaging change: Tail-f TAC #50004Block on RT-50025Hi Magesh,We've added a workaround as part of M6 Patch Release. We currently do not support update from L2 -> L3 or vice versa, but you should get error message now when you try to update the slice in this manner.Thanks,RegiFix released in M6 Patch Release"
    },
    {
        "title": "[RONCFPSD-372] cant configure dual stack ip address ",
        "description": "cant configure dual-stack ip address under vpn-instance-profile, although in RFC it specify it is possible (see attached). ",
        "comments": "Hi Idan,Dual-stack vpn-instance-profile is not supported as of now. Please define for each of ipv4 and ipv6.Regards,Nishad Subairthank you. please update if expected in next release. Hi Idan,Sure. We will update if we plan to include in later releases.Thank you.Nishad Subair"
    },
    {
        "title": "[RONCFPSD-366] which NSO build have MVPN modal support ?",
        "description": "we are waiting for the MVPN modal support form NSO on CNC prov-ui Integration. which version is this available ?",
        "comments": "TSDN 5.0 M3 realease supports MVPN feature.thank you for confirming."
    },
    {
        "title": "[RONCFPSD-400] python class not loading on NCS 6.0",
        "description": "Im seeing failure with following error in tm-tc package. Python cb_nano_create error. Dynamic class 'tm_tc_multi_vendors.IosXR' not loaded in NSO.However, there are no errors in package status. Show packages package oper-status shows that all packages are successfully installed and python code has that class ( IosXR ) . Also, same code worked until 5.7.6. Setup details - nsorfs@172.20.200.71 ( Cwork123! )",
        "comments": "Hi Moksha,Can you try modifying the package meta data for internal and the multi vendor as below for the Python VM<python-package> <vm-name>-----<del>tm tc internal name</del>-</vm-name> <callpoint-model>threading</callpoint-model></python-package>The suggestion worked for the given error."
    },
    {
        "title": "[RONCFPSD-399] NSO actions for Network Slice",
        "description": "From the \"TSDN 5.0.0 - M4 - IETF Network Slice Services (EXAMPLE FP)\" wiki. We do not see the following 3 as supported. Can you confirm if these are supported for network slicing? 1. Check-Sync  2. Re-deploy Dry Run  3. Reactive Re-deployHere is the TSDN wiki link:",
        "comments": "Hi CrystalYes, the actions listed above are supported for network slicing.Thanks,NikhilProvided required info to the userThanks Nikhil,Can we update the wiki to include these 3 as well? Since this is a new service, our test plan uses this as a reference to create test cases. Thanks.-CrystalHi Crystal,Wiki has been updated with these actions.Thanks,Nikhil"
    },
    {
        "title": "[RONCFPSD-158] NSO-LSA:Need to know, what shall be the state in CNC, when CFS is Up and RFS(only one RFS installed) is down",
        "description": "1) In NSO LSA setup, If my CFS VM is up and running fine and RFS which is only one configured with CFS is Down. 2) Now in CNC CFS will show degraded or as CFS is still up and running and reachable from CNC VM, CFS will show still up in above situation ?3) If L2vpn service is already created when both CFS and RFS is up and running, Now if I bring down the RFS and try to modify the service, then in this case, If CFS is showing as degrade/Green in CNC, then my expectation is that Service modification must fail. So my Understanding is correct ?. Error message will be sent to CNC, mentioning that RFS is down ?",
        "comments": "Hi Sampath,1. For the first question, in a LSA setup where CFS is up and the RFS is down, CFS will still show as up and running.2. For the second question, you understanding is correct. If there was a service created when both CFS and RFS were up and you try to modify the service when RFS is down, you'll get a failed to connect to rfs node error message. Ex: \"Aborted: Python cb_post_modification error. Unknown error (56): Failed to connect to device rfs-node-1: connection refused\"Let us know if you need anything else or we may close this ticket.ThanksThanks Nikhil for Quick response, No Questions from my sideClosing ticket as information has been provided."
    },
    {
        "title": "[RONCFPSD-170] Augment Existing IETF L2vpn YANG Model",
        "description": "We have a UI validation Framework. For the framework to be able to provide custom validations we need to add the following annotation to policy field in L2vpn model -ietf-l2vpn-ntw:vpn-service\u25bavpn-nodes\u25bavpn-node\u25ba0\u25bate-service-mapping\u25bate-mapping\u25basr-policy\u25bapolicy          tailf:meta-data \"ui-data-validation\" {            tailf:meta-value \"leaf-validation\";          }Is there a way to change the existing l2vpn model for the next NSO CFP build?",
        "comments": "Hi Mukul,Here's an example for L3, you can leverage this for L2 as well. You need to create a separate yang file for annotations. I have attached test-ann.yang as an example on how to create annotations.<sup>Also keep in mind that just having the annotations yang file is not enough the L3 package in my example would need to be recompiled, but we have to specify the annotations yang file when recompiling:</sup><sup></sup><sup>Thanks,</sup><sup>Regi</sup>Hi,Thank you. To start with I copied the IETF-L2VPN package and unzipped it. I got the following files -ubuntudoc@ubuntudoc:~/temp$ tar -xvf ncs-5.7.2.1-ietf-l2vpn-nm-EXAMPLE-4.0.0.tar.gz ietf-l2vpn-nm/ietf-l2vpn-nm/CHANGESietf-l2vpn-nm/README.mdietf-l2vpn-nm/package-meta-data.xmlietf-l2vpn-nm/python/ietf-l2vpn-nm/python/ietf_l2vpn_nm/ietf-l2vpn-nm/python/ietf_l2vpn_nm/ietf_l2vpn_nm_actions.pyietf-l2vpn-nm/python/ietf_l2vpn_nm/ietf_l2vpn_nm_nano_plan.pyietf-l2vpn-nm/python/ietf_l2vpn_nm/ietf_l2vpn_nm_y1731.pyietf-l2vpn-nm/python/ietf_l2vpn_nm/main.pyietf-l2vpn-nm/python/ietf_l2vpn_nm/utils.pyietf-l2vpn-nm/src/ietf-l2vpn-nm/src/yang/ietf-l2vpn-nm/src/yang/ietf-ethertypes@2019-03-04.yangietf-l2vpn-nm/src/yang/ietf-inet-types@2010-09-24.yangietf-l2vpn-nm/src/yang/ietf-l2vpn-ntw-cisco-augmentations.yangietf-l2vpn-nm/src/yang/ietf-l2vpn-ntw-deviations.yangietf-l2vpn-nm/src/yang/ietf-l2vpn-ntw-nano-services.yangietf-l2vpn-nm/src/yang/ietf-l2vpn-ntw.yangietf-l2vpn-nm/src/yang/ietf-packet-fields@2019-03-04.yangietf-l2vpn-nm/src/yang/ietf-routing-types@2017-02-19.yangietf-l2vpn-nm/src/yang/ietf-vpn-common-oper-status-aa-ext.yangietf-l2vpn-nm/src/yang/ietf-vpn-common.yangietf-l2vpn-nm/src/java/ietf-l2vpn-nm/src/java/src/ietf-l2vpn-nm/templates/ietf-l2vpn-nm/templates/ietf-l2nm-l2vpn-evpn-mp-template.xmlietf-l2vpn-nm/templates/ietf-l2nm-l2vpn-template.xmlietf-l2vpn-nm/templates/ietf-l2nm-y1731-l2vpn-y1731-template.xmlietf-l2vpn-nm/load-dir/ietf-l2vpn-nm/load-dir/ietf-l2vpn-ntw-cisco-augmentations.fxsietf-l2vpn-nm/load-dir/ietf-ethertypes@2019-03-04.fxsietf-l2vpn-nm/load-dir/ietf-routing-types@2017-02-19.fxsietf-l2vpn-nm/load-dir/ietf-vpn-common.fxsietf-l2vpn-nm/load-dir/ietf-vpn-common-oper-status-aa-ext.fxsietf-l2vpn-nm/load-dir/ietf-l2vpn-ntw-nano-services.fxsietf-l2vpn-nm/load-dir/ietf-l2vpn-ntw.fxsietf-l2vpn-nm/load-dir/ietf-l2vpn-ntw-deviations.fxsietf-l2vpn-nm/load-dir/ietf-packet-fields@2019-03-04.fxsietf-l2vpn-nm/load-dir/ietf-inet-types@2010-09-24.fxsietf-l2vpn-nm/build-meta-data.xmlI created a ietf-l2vpn-nm/src/yang/ui-validation.yang with following contents (changing from the YANG you had provided)module ui-validation { yang-version 1.1; namespace \"urn:ietf:params:xml:ns:yang:ui-validation\"; prefix ui-validation; import tailf-common { prefix tailf; } import ietf-l2vpn-ntw { prefix ietf-l2vpn-ntw; } revision 2022-03-14 {  description \"Initial revision.\"; } // annotate a single path tailf:annotate \"/ietf-l2vpn-ntw:l2vpn-ntw/ietf-l2vpn-ntw:vpn-services/ietf-l2vpn-ntw:vpn-service/ietf-l2vpn-ntw:vpn-nodes/ietf-l2vpn-ntw:vpn-node/ietf-l2vpn-ntw:te-service-mapping/ietf-l2vpn-ntw:te-mapping/ietf-l2vpn-ntw:sr-policy/ietf-l2vpn-ntw:policy\" {  tailf:meta-data \"ui-data-validation\" {  tailf:meta-value \"leaf-validation\";   } }}1. I'm not sure how to construct the whole path?2. How do I recompile this package back?ubuntudoc@ubuntudoc:~/temp$ ncsc --annotate ietf-l2vpn-nm/src/yang/ui-validation.yangncsc:    Try 'ncsc -h' for help and more informationHi Mukul,I've update the ticket with the makefile we use for `ietf-l2vpn-ntw` as well as updated it to include the annotation yang file you have ( tried to match your directory structure ).If you look in the Makefile you can see that I have added:<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>--annotate ./yang/ui-validation.yang</pre></div></div>Now you just have to run \"make clean all\" to recompile the package.Thanks,RegiOne more thing your xpath is incorrect. Look at the xpath for \"sr-policy\" in \"ietf-l2vpn-ntw-deviations.yang\" as an exampleThanks. I updated the yang path to -/l2vpn-ntw:l2vpn-ntw/l2vpn-ntw:vpn-services/l2vpn-ntw:vpn-service/l2vpn-ntw:vpn-nodes/l2vpn-ntw:vpn-node/l2vpn-ntw:te-service-mapping/l2vpn-ntw:te-mapping/l2vpn-ntw:te/l2vpn-ntw:sr-policy/l2vpn-ntw:sr-policy/l2vpn-ntw:policyfrom the ietf-l2vpn-ntw-deviations.yangI placed your MakeFile under src/ and ran \"make clean all\" ; It looks like a lot of packages were not found -ubuntudoc@ubuntudoc:~/temp/ietf-l2vpn-nm/src$ make clean allrm -rf ../load-dir java/src//mkdir -p ../load-dirmkdir -p java/src///opt/ncs/current/bin/ncsc --annotate ./yang/ui-validation.yang --deviation ./yang/ietf-l2vpn-ntw-deviations.yang --fail-on-warnings `ls ietf-l2vpn-ntw-cisco-augmentations-ann.yang > /dev/null 2>;1 ;; echo \"-a ietf-l2vpn-ntw-cisco-augmentations-ann.yang\"` \\       --yangpath ./yang --yangpath ../../cisco-flat-L2vpn-fp/src/yang --yangpath ../../custom-template-utils/src/yang --yangpath ../../core-fp-common/src/yang --yangpath ../../resource-manager/src/yang --yangpath ../../cisco-tsdn-core-fp-common/src/yang --yangpath ../../lsa-utils/src/yang -c -o ../load-dir/ietf-l2vpn-ntw-cisco-augmentations.fxs yang/ietf-l2vpn-ntw-cisco-augmentations.yang./yang/ietf-l2vpn-ntw-deviations.yang:10: error: module 'lsa-utils' not found./yang/ietf-l2vpn-ntw-deviations.yang:163: error: the node 'lsa' from module 'lsa-utils' (in node 'devices' from 'tailf-ncs') is not found./yang/ietf-l2vpn-ntw-deviations.yang:167: error: The XPath expression references an undefined node: the node 'lsa' from module 'lsa-utils' (in node 'devices' from 'tailf-ncs') is not found./yang/ietf-l2vpn-ntw-deviations.yang:167: error: The XPath expression references an undefined node: the node 'lsa' from module 'lsa-utils' (in node 'devices' from 'tailf-ncs') is not found./yang/ietf-l2vpn-ntw-deviations.yang:339: error: The XPath expression references an undefined node: the node 'lsa' from module 'lsa-utils' (in node 'devices' from 'tailf-ncs') is not found./yang/ietf-l2vpn-ntw-deviations.yang:339: error: The XPath expression references an undefined node: the node 'lsa' from module 'lsa-utils' (in node 'devices' from 'tailf-ncs') is not found./yang/ietf-l2vpn-ntw.yang:7: error: module 'custom-template-hook' not found./yang/ietf-l2vpn-ntw.yang:11: error: module 'cisco-flat-L2vpn-fp' not found./yang/ietf-l2vpn-ntw.yang:12: error: module 'cisco-tsdn-core-fp-common' not found./yang/ietf-l2vpn-ntw.yang:13: error: module 'lsa-utils' not found./yang/ietf-l2vpn-ntw.yang:40: error: module 'resource-allocator' not found./yang/ietf-l2vpn-ntw.yang:43: error: module 'id-allocator' not found./yang/ietf-l2vpn-ntw.yang:1277: error: the node 'resource-pools' from module 'resource-allocator' is not found./yang/ietf-l2vpn-ntw.yang:1284: error: the node 'resource-pools' from module 'resource-allocator' is not found./yang/ietf-l2vpn-ntw.yang:1701: error: the node 'l2vpn-route-policy' from module 'cisco-flat-L2vpn-fp' is not found./yang/ietf-l2vpn-ntw.yang:2971: error: the node 'lsa' from module 'lsa-utils' (in node 'devices' from 'tailf-ncs') is not found./yang/ui-validation.yang:14: error: prefix 'l2vpn-ntw' not foundyang/ietf-l2vpn-ntw-cisco-augmentations.yang:8: error: module 'cisco-tsdn-core-fp-common' not foundyang/ietf-l2vpn-ntw-cisco-augmentations.yang:11: error: module 'lsa-utils' not foundyang/ietf-l2vpn-ntw-cisco-augmentations.yang:437: error: The XPath expression references an undefined node: the node 'lsa' from module 'lsa-utils' (in node 'devices' from 'tailf-ncs') is not foundyang/ietf-l2vpn-ntw-cisco-augmentations.yang:437: error: The XPath expression references an undefined node: the node 'lsa' from module 'lsa-utils' (in node 'devices' from 'tailf-ncs') is not foundyang/ietf-l2vpn-ntw-cisco-augmentations.yang:438: error: The XPath expression references an undefined node: the node 'lsa' from module 'lsa-utils' (in node 'devices' from 'tailf-ncs') is not foundyang/ietf-l2vpn-ntw-cisco-augmentations.yang:438: error: The XPath expression references an undefined node: the node 'lsa' from module 'lsa-utils' (in node 'devices' from 'tailf-ncs') is not foundyang/ietf-l2vpn-ntw-cisco-augmentations.yang:438: error: The XPath expression references an undefined node: the node 'lsa' from module 'lsa-utils' (in node 'devices' from 'tailf-ncs') is not foundyang/ietf-l2vpn-ntw-cisco-augmentations.yang:438: error: The XPath expression references an undefined node: the node 'lsa' from module 'lsa-utils' (in node 'devices' from 'tailf-ncs') is not foundyang/ietf-l2vpn-ntw-cisco-augmentations.yang:513: error: The XPath expression references an undefined node: the node 'lsa' from module 'lsa-utils' (in node 'devices' from 'tailf-ncs') is not foundyang/ietf-l2vpn-ntw-cisco-augmentations.yang:513: error: The XPath expression references an undefined node: the node 'lsa' from module 'lsa-utils' (in node 'devices' from 'tailf-ncs') is not foundmake: *** Error 1You do need to have the dependent packages as per the folowing structure:<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>packages\u251c\u2500\u2500 cisco-aa-service-assurance\u251c\u2500\u2500 cisco-cs-sr-te-cfp\u251c\u2500\u2500 cisco-flat-L2vpn-fp\u251c\u2500\u2500 cisco-flat-L2vpn-fp-internal\u251c\u2500\u2500 cisco-flat-L2vpn-fp-internal-ned\u251c\u2500\u2500 cisco-flat-L3vpn-fp\u251c\u2500\u2500 cisco-flat-L3vpn-fp-internal\u251c\u2500\u2500 cisco-flat-L3vpn-fp-internal-ned\u251c\u2500\u2500 cisco-ios-cli-6.74\u251c\u2500\u2500 cisco-ios-cli-6.77\u251c\u2500\u2500 cisco-iosxr-cli-7.33\u251c\u2500\u2500 cisco-iosxr-cli-7.38\u251c\u2500\u2500 cisco-iosxr-nc-7.3\u251c\u2500\u2500 cisco-iosxr-nc-7.315\u251c\u2500\u2500 cisco-iosxr-nc-7.4\u251c\u2500\u2500 cisco-iosxr-nc-7.5\u251c\u2500\u2500 cisco-rsvp-te-fp\u251c\u2500\u2500 cisco-rsvp-te-fp-internal-ned\u251c\u2500\u2500 cisco-sr-te-cfp\u251c\u2500\u2500 cisco-sr-te-cfp-internal\u251c\u2500\u2500 cisco-sr-te-cfp-internal-ned\u251c\u2500\u2500 cisco-tsdn-core-fp-common\u251c\u2500\u2500 core-fp-common\u251c\u2500\u2500 core-fp-common-ned\u251c\u2500\u2500 core-fp-delete-tag-service\u251c\u2500\u2500 core-fp-plan-notif-generator\u251c\u2500\u2500 custom-template-utils\u251c\u2500\u2500 custom-template-utils-ned\u251c\u2500\u2500 flat-l2vpn-multi-vendors\u251c\u2500\u2500 flat-l3vpn-multi-vendors\u251c\u2500\u2500 ietf-l2vpn-nm\u251c\u2500\u2500 ietf-l3vpn-nm\u251c\u2500\u2500 ietf-network-slice\u251c\u2500\u2500 ietf-te-fp\u251c\u2500\u2500 lsa-utils\u251c\u2500\u2500 lsa-utils-ned\u251c\u2500\u2500 resource-manager\u251c\u2500\u2500 rsvp-te-multi-vendors\u2514\u2500\u2500 sr-te-multi-vendors</pre></div></div>Make sure to untar them if they are tar'dThanks again. These errors are resolved but I still get this one - (although I double checked and yang path is correct)ubuntudoc@ubuntudoc:~/temp/ietf-l2vpn-nm/src$ make clean allrm -rf ../load-dir java/src//mkdir -p ../load-dirmkdir -p java/src///opt/ncs/current/bin/ncsc --annotate ./yang/ui-validation.yang --deviation ./yang/ietf-l2vpn-ntw-deviations.yang --fail-on-warnings `ls ietf-l2vpn-ntw-cisco-augmentations-ann.yang > /dev/null 2>;1 ;; echo \"-a ietf-l2vpn-ntw-cisco-augmentations-ann.yang\"` \\       --yangpath ./yang --yangpath ../../cisco-flat-L2vpn-fp/src/yang --yangpath ../../custom-template-utils/src/yang --yangpath ../../core-fp-common/src/yang --yangpath ../../resource-manager/src/yang --yangpath ../../cisco-tsdn-core-fp-common/src/yang --yangpath ../../lsa-utils/src/yang -c -o ../load-dir/ietf-l2vpn-ntw-cisco-augmentations.fxs yang/ietf-l2vpn-ntw-cisco-augmentations.yang./yang/ui-validation.yang:14: error: bad argument value \"l2vpn-ntw:l2vpn-ntw/l2vpn-ntw:vpn-services/l2vpn-ntw:vpn-service/l2vpn-ntw:vpn-nodes/l2vpn-ntw:vpn-node/l2vpn-ntw:te-service-mapping/l2vpn-ntw:te-mapping/l2vpn-ntw:te/l2vpn-ntw:sr-policy/l2vpn-ntw:sr-policy/l2vpn-ntw:policy\", should be of type absolute-schema-nodeidmake: *** Error 1 Seems like you're missing the beginning forward slash in \"l2vpn-ntw:l2vpn-ntw/l2vpn-ntw:vpn-services/l2vpn-ntw:vpn-service/l2vpn-ntw:vpn-nodes/l2vpn-ntw:vpn-node/l2vpn-ntw:te-service-mapping/l2vpn-ntw:te-mapping/l2vpn-ntw:te/l2vpn-ntw:sr-policy/l2vpn-ntw:sr-policy/l2vpn-ntw:policy\"I did try the slash earlier too.. then it says path not found :ubuntudoc@ubuntudoc:~/temp/ietf-l2vpn-nm/src$ make clean allrm -rf ../load-dir java/src//mkdir -p ../load-dirmkdir -p java/src///opt/ncs/current/bin/ncsc --annotate ./yang/ui-validation.yang --deviation ./yang/ietf-l2vpn-ntw-deviations.yang --fail-on-warnings `ls ietf-l2vpn-ntw-cisco-augmentations-ann.yang > /dev/null 2>;1 ;; echo \"-a ietf-l2vpn-ntw-cisco-augmentations-ann.yang\"` \\       --yangpath ./yang --yangpath ../../cisco-flat-L2vpn-fp/src/yang --yangpath ../../custom-template-utils/src/yang --yangpath ../../core-fp-common/src/yang --yangpath ../../resource-manager/src/yang --yangpath ../../cisco-tsdn-core-fp-common/src/yang --yangpath ../../lsa-utils/src/yang -c -o ../load-dir/ietf-l2vpn-ntw-cisco-augmentations.fxs yang/ietf-l2vpn-ntw-cisco-augmentations.yang./yang/ui-validation.yang:14: error: prefix 'l2vpn-ntw' not foundmake: *** Error 1ubuntudoc@ubuntudoc:~/temp/ietf-l2vpn-nm/src$ Another question is when this works ; what is the process to make sure these changes are available on an out of box installation of upcoming \"TSDN 4.0.0 M5?\" on NSO.looks like the import prefix is not matching with the prefix in the path.  try this /ietf-l2vpn-ntw:l2vpn-ntw/ietf-l2vpn-ntw:vpn-services/ietf-l2vpn-ntw:vpn-service/ietf-l2vpn-ntw:vpn-nodes/ietf-l2vpn-ntw:vpn-node/ietf-l2vpn-ntw:te-service-mapping/ietf-l2vpn-ntw:te-mapping/ietf-l2vpn-ntw:sr-policy/ietf-l2vpn-ntw:policyBut, we really want to add this as a compiled package outside the service pacakge, is this not possible?Thank you Srini. Compilation works now. Please help regarding commit / packaging of this change so that its available on out of box installation. I'll meanwhile test this out.This works as expected. We need a way to commit this now.Closing this ticket as potential method to augment tailf extension seems to have been completed successfully by submitter.Lets please keep the ticket open as the issue is still not resolved and we're looking at how this can be packaged."
    },
    {
        "title": "[RONCFPSD-164] CLI NED does not work at all",
        "description": "Result: config was not synced from devicefalseDevice PE-C does not advertise any known YANG modulesThis is CLI NED, how YANG model is related ???BTW, NETCONF NED works just fine ",
        "comments": "Hi YevgenyLooks like you are using a wrong port no. 830 works fine for NETCONF NEDs.Please use port no. 22 for CLI NEDs.Let us know if that resolves the error.Thanks.Clear, issue closed Closing the ticket as the issue is resolved"
    },
    {
        "title": "[RONCFPSD-29] Optics port not listed in CNC UI",
        "description": "NSO 5.5.3.2CNC 3.0.VXR devices are added with tag DWDM_optics in CNC.Checked the python is pointing to python 3, paramiko, xmllint is installed.netconf subscription is done for ONC.devices are using cisco-iosxr-nc-7.32:cisco-iosxr-nc-7.32While selecting devices for provisioning, we see devices, but not the ports under the devices. Probably, am i missing some config in the deviceserver: 10.195.165.190cnctest/Ovatest123@, for UI, CLI",
        "comments": "HiRamakrishnan,Can you please elaborate what issue you're seeing?Optic port mappings with inter-layer-link are shown correctly in the attached screenshot.There were 2 sets of devices. i have deleted the devices like TOPLEFT etc long back. I am using the devices for TOPLEFT-VXR, TOPRIGHT-VXR etc. Not sure how Inter Layer link came up with old names. My issue is i dont see the ports for the devices (ending with VXR)The issue is in the inter-layer-link configuration. If you're still blocked, set up a webex session, I can walk you though it.Had a webex session with Ramakrishnan.Cleaned up old inter-layer-link config in his setup. The ONC controller configured in his NSO doesn't have Daigo optical simulation in the backend; hence, no optical configuration data was available for inter-layer-link config. Ramakrishnan will bring up Daigo simulation and reconnect offline. Mean while, close this case."
    },
    {
        "title": "[RONCFPSD-15] TSDN-3.0.0-M3 - P2P Scenario Regression",
        "description": "Working with M2 with the same environment nso522/Public1234!Error running action for side-effect item /cisco-ron-cfp:ron/ron-ml-plan{TOPLEFT_BOTTOMLEFT_400_TR_P2P}/plan/component{ncs:self self}/state{ncs:init}: Python cb_action error. Error: STATUS_CODE: RON-506REASON: Fetch Optics failedCATEGORY: custom-actionSEVERITY: ERRORContext STATUS_CODE: RON-506REASON: Fetch Optics failedCATEGORY: custom-actionSEVERITY: ERRORContext [name = Fetch Optics Data error, message = ZR Fetch Optics data action returned error state = {'service': ListElement name=ron-ml tag=1842926444 keys={TOPLEFT_BOTTOMLEFT_400_TR_P2P}, 'endpoint': ListElement name=end-point tag=935030957 keys={P-BOTTOMLEFT}}]",
        "comments": "Hi Yevgeny,Looks like this issue is old, can I close the ticket?Thanks,VanYevgeny has not responded and there is no outstanding RON support issue from his side that we know of, close the case."
    },
    {
        "title": "[RONCFPSD-548] Creating device group for NACM for every device -  need solution to add all devices for <ALL-ACCESS>",
        "description": "we have new changes pushed in for JWT and we have to follow steps as in below wiki. we have step to create device group where we have to provide devies . ##Create device groupncs_cli -u adminconfigureset devices device-group <ALL-ACCESS> device-name [ device-host-name1, device-host-name2]commit dry-runcommitfor FT, it is fine to give 10 to 15 devices. but for Scale, having 10k devices or 25k devices, it is not possible to provide every device hostname in this way. Even for 100 devices, this is going to be a pain pointdo we have any workaround to add all devices in single command?or should we follow up with CDETS?thanks,Arun.M.G",
        "comments": "Hi Arun,There is no single command to create data on cdb. Simple shell script can be written to get the device names and set the device-group using the device-name.Hi sahithi,I got to know from CAT team that adding Individual devices to Device Group \"ALL-ACCESS\" is not needed .can you please confirm if we need to add all devices or not?if yes, can u pls provide if you have the script handy?Thanks,Arun.M.GHi Arun,Right, I believe rbac team defined the rule list for ALL-Access such that we would not require to add all devices.Thankssahithi"
    },
    {
        "title": "[RONCFPSD-560] jwt token authentication not working in NSO",
        "description": "Trying to enable JWT authentication in our NSO.Done the prerequisite like python3, requests package etc.Still the ncs-python-cisco-cfp-jwt-auth.log says authenticate:261 INFO: Exception jwt-auth: No module named 'requests'Previously cnctest was the user, now admin user also created for CW authentication. After requests module installed, does NSO need a restart.Kindly check the setup once. [ scale setup]172.20.63.189 cnctest/Ovatest123@admin/Ovatest123@",
        "comments": "Looks like requests module has not been installed on your VM. Please install and let me know if the error still existsrequests module was installed for python3 , in both cnctest, admin login. still the issue exists.Hi Rama,Please install requests module as root so it can be available system-wide.$ sudo su password for cnctest: # python3Python 3.8.15 (default, Dec 29 2022, 08:40:49) on linuxType \"help\", \"copyright\", \"credits\" or \"license\" for more information.>>> import requestsTraceback (most recent call last): File \"<stdin>\", line 1, in <module>ModuleNotFoundError: No module named 'requests'>>> thank you Van. It worked after installing requests as root user.Glad it works out for you, Rama. I'm going to close this ticket.Thanks!"
    },
    {
        "title": "[RONCFPSD-206] Steps to upload custom function pack in LSA setup",
        "description": "On standalone NSO, we can copy the custom fp to /var/opt/ncs/packages/ folder and restart ncs with package reload.For LSA setup, can I use the same steps to deploy custom FP?Do we need to do the same steps for CFS and RFS nodes?",
        "comments": "Hi Crystal,What kind of custom fp are you referring to?For our TSDN custom function packs, you can follow the install guide as shown : You can follow the respective CFS/RFS install guide for the example packages. There should be example paths for our example fp as well.Let me know if you have any other questions.Thanks,Isaac KimHi Isaac,It is the fp we got from our CNC DEV, my-l2vpn, my-l3vpn and my-sr-policy. Should I deploy them for all CFS and RFS nodes?Just to confirm the steps in the link is:1. copy the tar.gz file to /opt/ncs/packages/2. create symbolic link from /opt/ncs/packages/ to /var/opt/ncs/packages/Thanks.-CrystalHi Crystal,Yes as the wiki states, \"Copy required packages to /opt/ncs/packages/ directory and link them from /var/opt/ncs/packages (Note : sudo access needed)\".I am not sure where you gotmy-l2vpn, my-l3vpn and my-sr-policy packages from. Your packages must be setup for LSA structure to work with LSA. For example, there should be a CFS facing service and RFS facing service. CFS facing service will create RFS facing service which will push config to device. So ideally, there would be two packages as you can see with our CFP and example FP packages, \"external\" (CFS) and \"internal\" (RFS) service packages.If you would like more information on how to convert a standalone package to LSA compatible packages, you can see the examples in NSO's documentation \"nso_lsa-<NSO VERSION>.pdf\" -> Chapter 2 : LSA Examples -> Rearchitecting an existing monolithic application into LSA. This pdf also has more information about the expected conditions and compatible service structures for LSA.Thanks,Isaac KimHi Isaac,I got the custom FPs from our CNC DEV which has been created by using the SDK as part of service extensibility support in this release. Can you share the pointer where we can download the NSO document. Will check the steps to convert a standalone package to LSA compatible packages.Thanks.-Crystal Hi Crystal,You can find all the documentation packaged with your NSO install. There is multiple types of documentation, web-based and pdf.For your local NSO install, you can find the pdfs here : <LOCAL NSO PATH>/doc/pdfFor your system NSO install, you can find the pdfs here : /opt/ncs/current/doc/pdfYou will also be able to find the entrypoint to the web docs under the \"doc\" folder in the above paths.Thanks,Isaac KimProvided instructions. Please feel free to reopen ticket if you have any additional questions."
    },
    {
        "title": "[RONCFPSD-212] ELAN/ETREE support cases on SR & ODN",
        "description": "Hi- Do we support ELAN/ETREE for SR ; ODN?Any to Any - Plain, SR, ODNHub ; Spoke- Plain, SR, ODNCustom - Plain, SR, ODNM4 wiki page has the payload for ETREE, CUSTOM with ODN ; ELAN without SR ; ODN. So just want to confirm what are the possible cases supported for ELAN/ETREE with SR ; ODN. Please confirm the supported cases on NSO.",
        "comments": "Only ODN is supported. M4 does have a bug when it comes to using route-policy with IPv4/IPv6 RD's. Currently, only evpn-route-type route-policies are working properly. This should be fixed by M5.Please refer to service device mappings to see what sort of configs you can push: Thanks,RegiHi Regi,Screenshots not loading for IOS-XR Device config mapping. please check.Hi Ragesh,I had re-uploaded the mappings. Please check now.Thanks,RegiHi Ragesh,Please let me know by EOD today if you have further issues; otherwise, I will go ahead and close this ticket.Thanks,Regi"
    },
    {
        "title": "[RONCFPSD-574] CFP throws error for RestConf request during Edit L2 P2P Slice",
        "description": "Create L2 Slice as Any To Any and edit to P2P. The NSO throws error saying bad path. Screenshot attached",
        "comments": "As per the mail thread and confirmation from Sujay, For CNC 6.0, we will document this as unsupported behaviour. For CNC 7.0, we will check with device team on why this error is thrown during this transaction.As per the mail thread and confirmation from Sujay, For CNC 6.0, we will document this as unsupported behaviour. For CNC 7.0, we will check with device team on why this error is thrown during this transaction."
    },
    {
        "title": "[RONCFPSD-589] Failed to re-deploy L3-NM service using Restconf APIs",
        "description": "Failed to re-deploy L3-NM service using Restconf APIsErrors: with payload: {}2024-01-16 06:26:24,417 ERROR c.c.u.c.u.NsoDataProvider Error in patchRestConf: {}org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: \"{<EOL> \"ietf-restconf:errors\": {<EOL>  \"error\": [<EOL>   {<EOL>    \"error-type\": \"application\",<EOL>    \"error-tag\": \"invalid-value\",<EOL>    \"error-message\": \"uri keypath not found\"<EOL>   }<EOL>  ]<EOL> }<EOL>}<EOL>\"",
        "comments": "Hi Dedeepya,With change in architecture, the northbound re-deploy is not a native action. It is an action created by CFP team. Please add cisco-l3vpn-ntw prefix for re-deploy.Thanks Sahithi. Issue is resolved after adding the prefix to re-deploy."
    },
    {
        "title": "[RONCFPSD-204] L3VPN service creation is failing on LSA setup",
        "description": "Hi All,I am trying to create a L3VPN service on TSDN M4 LSA setup. Attaching the error screenshot.Set up details:NSO LSA:CFS: admin/Ovatest123@RFS-62: admin/Ovatest123@RFS-63: admin/Ovatest123@CNC Server: admin/Ovatest123@Thank you,Kanchan",
        "comments": "Hello Kanchan,On your CFS node, I can see the following :<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\">admin@ncs% show devices device rfs-62 config devices deviceNo entries found.</pre></div></div>It seems like your rfs-62 config has not been synced with your CFS node.I would suggest to try a sync-from on your CFS node targeting your RFS node as suggested here :This may be a duplicate of Not a problem, just for reference.Let me know if this fixes your issue!Thanks,Isaac KimThanks Isaac for the quick response, that worked and fixed the issue.But I am wondering when I did the installation I made sure to sync RFS with CFS nodes. How come they are not in sync now. Is there a way CFS and RFS can be in sync without user manually perform the sync?Hmm that is weird. This LSA install procedure has been validate by our QA, so I assume that this issue wouldn't be a problem.But if we have already seen two of these issues via JSD from LSA install, that may indicate a problem or maybe we can add a validation after the sync step to make sure the RFS node is in-sync on CFS node.I will request our team to review the LSA CFS Install procedure again and I will update this ticket if we find anything.Thanks,Isaac KimI also remember I faced a similar issue on M2 or M3 and somebody from your team suggest to use \"set devices device lower-nso-* out-of-sync-commit-behaviour accept \" on CFS node.Can I still use this command to keep RFS and cFS nodes in sync?NSO has the following definition for \"out-of-sync-commit-behaviour\":<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\">3418  leaf out-of-sync-commit-behaviour {3419   type enumeration {3420    reject;3421    accept;3422   }3423   description3424   \"Specifies the behaviour of a commit operation involving a3425   device that is out of sync with NCS. Value accept assumes that3426   the device's sync state is unknown and it is cleared on commit.3427   The behaviour is to reject such commits.\";3428  }</pre></div></div>But the RFS sync step of the LSA CFS install procedure should resolve the device sync state as we do a sync-from operation on RFS node. I wouldn't recommend to change the \"out-of-sync-commit-behaviour\" for RFS node to accept.If you still have that email thread, would you be able post any explanation we gave for that recommendation?Thanks,Isaac KimHi Isaac,From CFS installation procedure, Under section: RFS OnBoarding Stepsstep: Onboard RFS device onto CFS device treeThis steps requires RFS to add \"out-of-sync-commit-behaviour\" as accept.So should I ignore this step?Hello Kanchan,Sorry that was my misunderstanding.\"out-of-sync-commit-behaviour\" should be set to accept as part of our LSA install procedure.In the meantime, I will ask our QA team to review the LSA CFS install procedure again to see if there is any sync issue after full install procedure is completed.I will provide updates here.Thanks,Isaac KimHello Kanchan,I believe I have found the source of the issue.After LSA install, when you onboard new devices to RFS node, you must execute a sync-from on your CFS node.I reviewed the wiki, and this step is not defined as part of the procedure.I will add a note at the end of CFS install procedure to remind users of this sub-procedure when onboarding new devices.I will update this ticket once these documentation changes are complete.Let me know if this is a satisfactory solution.Thanks,Isaac KimHello Crystal and Kanchan,I have added the necessary information in a separate section in CFS install wiki here : Let me know if this is okay.Thanks,Isaac KimThanks Isaac for the quick help on this issue. Sure I will perform sync-from on CFS after onboarding the new devices.Great! In that case, I will mark this ticket as closed.If you have any remaining related questions, feel free to reopen this ticket.Thanks,Isaac KimDocumentation updated here :"
    },
    {
        "title": "[RONCFPSD-562] Need payload to create l3vpn service with Untagged interface",
        "description": "Hi NSO team,i am trying to create a L3vpn service with untagged interface ( on parent interface). but it is not allowed. NSO throws error as below. 1/1. .../type (value \"vpn-common:untagged-int\"): Connection encapsulation type must be vpn-common:dot1qattached snapshot. can you please provide valid payload to create l3vpn services on untagged interface? is there support?Thanks,Arun.M.G",
        "comments": "After verifying with QA, it is noted that L3NM does not support vpn-common:untagged-intSince both L2 and L3 refer to some common models/options this option is not hidden.Hence a validation has been put in place that tells the user &#8211; Connection encapsulation type must be vpn-common:dot1q \u2014 for L3NM Reached out to customer with above info, awaiting response/feedbackCustomer has received related information and approved. Closing ticket."
    },
    {
        "title": "[RONCFPSD-576] cnc-custom metadata change for te-tunnel-id. ",
        "description": "Path: \"/l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service/vpn-nodes/vpn-node/te-service-mapping/te-mapping/te-tunnel-list/te-tunnel-id\"tailf:meta-data \"cnc-custom\" {   tailf:meta-value '   {    \"dependency\": \"[]\",    \"type\": \"dropdown\",    \"field\": \"te-tunnel-id-list\",    \"pre-select\": \"none\"   }';  }",
        "comments": "Hi Demeke,Please suggest on what should be the value for \"leaf-validation\" , true/false ?Thanks,Nishad Subair\"leaf-validation\" = falseHi Nishad, Please update the \"leaf-validation\" attribute for the ietf-te-service also currently it is \"leaf-validation\" is true please fix it as below.\"/l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service/vpn-nodes/vpn-node/te-service-mapping/te-mapping/te-tunnel-list/ietf-te-service\"tailf:meta-data \"cnc-custom\" {   tailf:meta-value '   {    \"dependency\": \"[]\",    \"type\": \"dropdown\",    \"field\": \"ietf-te-service-list\",    \"leaf-validation\": false,    \"pre-select\": \"none\"   }';  }Thanks,Demeke."
    },
    {
        "title": "[RONCFPSD-210] Functional pack development",
        "description": "Hi team, Im trying to create new NSO functional pack. Using sample Customization ppt as reference.Need few clarifications.1. As per PPT we need to use 5.5.2.3. Our current NSO version is 5.7.x.x , please suggest if we need separate 5.5.2.3 version NSO for customizing 5.7.x.x NSO FP or document should be updated. 2. As per Slide 4 - The contents of the file are as shown below:$ ls nso-5.5.2.3-tsdn-internal-3.0.0-M5packages setup.mkActual NSO output doesnt have setup file, Please suggestnso249@nso249:~/nso-5.5.2.3-tsdn-internal-3.0.0-M5$ lsCHANGES      example-packages        init_dataconf       fp_data.json          installercore-fp-packages get_technical_support_data.sh local-install",
        "comments": "Not sure, which PPT you're referring to. Please attach to this ticket.Thanks,RegiI have used PPT shared in Sorry , its Hi Ajitha,You would use NSO version which is supported by the release. For example, our latest milestone 4.0-M4 supports 5.7.2.1, so that's the version of NSO you would use. As for your other question about missing \"setup.mk\", it's because you picked up \"internal-build\" rather than the \"source-code\". Please refer to the release-notes to get the source-code of the release you want. Here's 4.0-M4 as reference: Please let me know if you have anymore questions.Thanks,RegiHi Ajitha,Please let me know by EOD today if you have further issues; otherwise, I will go ahead and close this ticket.Thanks,Regi"
    },
    {
        "title": "[RONCFPSD-238] CFS HA Failover",
        "description": "When CFS HA failover is performed, not able to bring back the nodes back to their's original states.Below are the output after performing back to original state actionsOn Master:admin@ncs> show high-availability statushigh-availability status mode masterhigh-availability status current-id masterhigh-availability status assigned-role masterhigh-availability status read-only-mode falseadmin@ncs>On Slave:admin@ncs> show high-availability statushigh-availability status mode nonehigh-availability status assigned-role slavehigh-availability status master-id masterhigh-availability status read-only-mode falsePlease also find the UI output enclosed herewith.",
        "comments": "Hi Dinesh,Please share you setup info. We will take a look.Thanks,LinhHi Linh,NSO CFS Master: 10.194.57.204NSO CFS Slave: 10.194.57.45VIP: 10.194.57.58admin/Ovatest123@ - For all the nodes above.Thanks,DineshHi Dinesh,Last time Van, you and me debugged and we could not reproduce the issue. Have you try this issue again. Is it reproducable? If not, I would like to close this ticket.Thanks,LinhHi Linh,I'm testing a scenario that without any failover, My Master as master and Slave as slave,And the master goes down (i.e., unreachbale) and when it comes back by itself the following is found to be the it's status. admin@ncs> show high-availability statushigh-availability status mode nonehigh-availability status assigned-role slavehigh-availability status master-id standbyhigh-availability status read-only-mode falseadmin@ncs>Untill a ncs restart or vm reboot is performed, this doesn't turns into acting slave.NSO CFS Master: 10.194.57.204NSO CFS Slave: 10.194.57.45VIP: 10.194.57.58admin/Ovatest123@ - For all the nodes above.Thanks,DineshSteps to reproduce:1. Bring-up CFS HA with 5.7.2.1 #M52. Power shutdown the master VM manually3. Power-on the master VM back.4. Verify that the failover happened and the respective status for \"show high-avialability status\" found as expected in both the nodes.Please do let me know if any other information/details if required.Thanks,DineshServer Size is : SmallHi Dinesh ,I have increased the <tick-timeout>PT200S</tick-timeout> from 20 to 200 sec.Now it is working fine.Please try out and let us know if you still see issue.In your lab i tried failover ,as expected primary became standby and original standby took over as master .ThanksPriyankaHi Priyanka,Can you point out to the change where exactly?Is it a property of linux or NSO? Please confirmThanks,DineshI could able to see that the ncs.conf - ha section has been updated with your suggested variable.I performed powering-down the node whatever that is acting master.And turned it on. But still could not see that is coming up with proper expected state: Please check below.Output from Standy:admin@ncs> show high-availability statushigh-availability status mode nonehigh-availability status assigned-role slavehigh-availability status master-id masterhigh-availability status read-only-mode falseOutput from Master:admin@ncs> show high-availability statushigh-availability status mode masterhigh-availability status current-id masterhigh-availability status assigned-role masterhigh-availability status read-only-mode falseNOTE: Please be noted, that the failover I do is my manual power-off the master and then turn on the master.Thanks,DineshHi Dinesh ,As discussed over webex,we need to manually do switch over.It's not automatically, NSO cli can be used as discussed over a call.ThanksPriyanka.Correct steps have been provided."
    },
    {
        "title": "[RONCFPSD-17] Errors with default optical, ron and zr packages",
        "description": "cisco-optical-cfp       1.0.0  ncs-5.5.2-cisco-optical-cfp-1.0.0-M0             407bdfd  5.5.2  -  SyntaxError: invalid syntaxcisco-ron-cfp         1.0.0  ncs-5.5.2-cisco-ron-cfp-1.0.0-M0               407bdfd  5.5.2  -  TypeError: namedtuple() got an unexpected keyword argument 'defaults'cisco-zr-cfp         1.0.0  ncs-5.5.2-cisco-zr-cfp-1.0.0-M0               407bdfd  5.5.2  -  TypeError: namedtuple() got an unexpected keyword argument 'defaults'",
        "comments": "Hi Tani,Please verify if the following RON requirements have been met.<ol>\t<li>NSO Version :5.5.2</li>\t<li>Java: OpenJDK 11.2 or later</li>\t<li>Python: 3.8 or later</li>\t<li>Python Module \"Paramiko\" (Installed root level)</li>\t<li>xmllint (latest package)</li></ol>If the above requirements have been satisfied and the issue persist, please ping me and we can jump into a call to debug.Thank you,AbeHi Tani,Please verify if the following RON requirements have been met.<ol>\t<li>NSO Version :5.5.2</li>\t<li>Java: OpenJDK 11.2 or later</li>\t<li>Python: 3.8 or later</li>\t<li>Python Module \"Paramiko\" (Installed root level)</li>\t<li>xmllint (latest package)</li></ol>If the above requirements have been satisfied and the issue persist, please ping me and we can jump into a call to debug.Thank you,AbeJust followed up with Tani if able to check RON pre-reqs and add them if it was missing. Tani said that he would check and get back to me if issue persist.Hi Tani,I move to close this ticket EOD tomorrow unless you still encounter issues after verifying all RON pre-reqs are satisfied. You can always open another support ticket if issue arises after we've closed this ticket.Please let me know if you have other question or concern regarding this ticket.Thank you.AbeInformed Tani that ticket will be closed today, Tuesday 07/20/21, if no response is heard from him/her regarding RON package issues persisting even after verifying pre-requisites.CInformed Tani that ticket will be closed today, Tuesday 07/20/21, if no response is heard from him/her regarding RON package issues persisting even after verifying pre-requisites. Treating this issue solved and closing the ticket."
    },
    {
        "title": "[RONCFPSD-199] illegal reference for provisioning a policy on LSA setup",
        "description": "1. Setup LSA with IPv6 addresses2. Onboard NSO and devices to CNC3. Provision policy or service from CNC UI  The dry-run failed with illegal reference ( screenshot attached )Validation failed : illegal reference : /ncs:devices/device{rfs-196}/config/cisco-sr-te-cfp-internal:sr-te/cisco-sr-te-cfp-sr-policies-internal:policies/policy{SRv6-711-te-absolute-segments PE-C}/head-endshow commands output for cfs and rfs nodes:CFS:admin@ncs> show cluster                                RECEIVED    NAME   NAME    STATUS LAST EVENT            NOTIFICATIONS ------------------------------------------------------------------------------rfs-195 ncs-events up   2022-04-04T03:42:50.818341+00:00 10       rfs-196 ncs-events up   2022-04-04T22:15:01.063702+00:00 12       REMOTE                          LOCAL REMOTE          NODE   ADDRESS             PORT CHANNELS USER  USER  STATUS TRACE   -------------------------------------------------------------------------------------------rfs-196 2001:420:10e:201d:172:23:85:196 2022 -     admin admin  up   disabled rfs-195 2001:420:10e:201d:172:23:85:195 2022 -     admin admin  up   disabled RFS-195:root@rfs-195:~# ncs_cli -u adminUser admin last logged in 2022-04-04T22:13:13.951887+00:00, to rfs-195, from 2001:420:10e:201d:250:56ff:fe84:171e using netconf-sshadmin connected from 10.21.118.208 using ssh on rfs-195admin@ncs> show devices listNAME    ADDRESS          DESCRIPTION NED ID        ADMIN STATE -----------------------------------------------------------------------------------CE-B    f168:2000::192:168:11:98 -      cisco-iosxr-cli-7.38 unlocked   PE-A    f168:2000::192:168:11:79 -      cisco-iosxr-cli-7.38 unlocked   SR-PCE-85 f168:2000::192:168:11:85 -      cisco-iosxr-cli-7.38 unlocked   TOP-LEFT  f168:2000::192:168:11:76 -      cisco-iosxr-cli-7.38 unlocked   TOP-RIGHT f168:2000::192:168:11:74 -      cisco-iosxr-cli-7.38 unlocked   RFS-196:admin@ncs> show devices listNAME     ADDRESS          DESCRIPTION NED ID        ADMIN STATE --------------------------------------------------------------------------------------BOTTOM-LEFT  f168:2000::192:168:11:77 -      cisco-iosxr-cli-7.38 unlocked   BOTTOM-RIGHT f168:2000::192:168:11:75 -      cisco-iosxr-cli-7.38 unlocked   CE-A     f168:2000::192:168:11:99 -      cisco-iosxr-cli-7.38 unlocked   PE-B     f168:2000::192:168:11:78 -      cisco-iosxr-cli-7.38 unlocked   PE-C     f168:2000::192:168:11:73 -      cisco-iosxr-cli-7.38 unlocked   ",
        "comments": "Hi Crystal,It seems like NSO is having trouble finding your RFS Node in your CFS device tree.Could you paste the output of the following commands from your CFS node (in config mode):1. \"run show devices list\"2. \"show devices lsa dispatch-map\"Thanks,Isaac KimHi Isaac,Here is the output from my CFS nodes:admin@ncs% run show devices listNAME   ADDRESS             DESCRIPTION NED ID      ADMIN STATE ------------------------------------------------------------------------------------rfs-195 2001:420:10e:201d:172:23:85:195 -      cisco-nso-nc-5.7 unlocked   rfs-196 2001:420:10e:201d:172:23:85:196 -      cisco-nso-nc-5.7 unlocked   admin@ncs% show devices lsa dispatch-map device BOTTOM-LEFT {  ned-id   cisco-iosxr-cli-7.38:cisco-iosxr-cli-7.38;  remote-node rfs-196;}device BOTTOM-RIGHT {  ned-id   cisco-iosxr-cli-7.38:cisco-iosxr-cli-7.38;  remote-node rfs-196;}device CE-A {  ned-id   cisco-iosxr-cli-7.38:cisco-iosxr-cli-7.38;  remote-node rfs-196;}device CE-B {  ned-id   cisco-iosxr-cli-7.38:cisco-iosxr-cli-7.38;  remote-node rfs-195;}device PE-A {  ned-id   cisco-iosxr-cli-7.38:cisco-iosxr-cli-7.38;  remote-node rfs-195;}device PE-B {  ned-id   cisco-iosxr-cli-7.38:cisco-iosxr-cli-7.38;  remote-node rfs-196;}device PE-C {  ned-id   cisco-iosxr-cli-7.38:cisco-iosxr-cli-7.38;  remote-node rfs-196;}device SR-PCE-85 {  ned-id   cisco-iosxr-cli-7.38:cisco-iosxr-cli-7.38;  remote-node rfs-195;}device TOP-LEFT {  ned-id   cisco-iosxr-cli-7.38:cisco-iosxr-cli-7.38;  remote-node rfs-195;}device TOP-RIGHT {  ned-id   cisco-iosxr-cli-7.38:cisco-iosxr-cli-7.38;  remote-node rfs-195;}device rfs-195 {  ned-id cisco-nso-nc-5.7:cisco-nso-nc-5.7;  local;}device rfs-196 {  ned-id cisco-nso-nc-5.7:cisco-nso-nc-5.7;  local;}Hi Crystal,Your CFS output looks good. To accelerate RCA, would it be possible to provide your NSO node ssh credentials so I can check a few things? I will not modify anything on your NSO setup.Thanks,Isaac KimSure Isaac,Here is the info.:CFS: 172.23.85.194RFS-195: 172.23.85.195RFS-196: 172.23.85.196id/pw: root/Vtsisco@123!Thanks.-CrystalHello Crystal,Thank you for access to your setup.I can see the following on your CFS node :<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\">admin@ncs% show devices device rfs-195 config devices deviceNo entries found.</pre></div></div>It seems like your rfs-195 config has not been synced with your CFS node.I would suggest to try a sync-from on your CFS node targeting your RFS node as suggested here : Please let me know if this works.Thanks,Isaac KimThanks Isaac. I am able to provision service/policy after running the following commands on CFS node:request devices fetch-ssh-host-keysrequest devices sync-fromThanks.-CrystalGreat! In that case, I will mark this ticket as resolved.If you have any other further related issues, please feel free to reopen this ticket.Thanks,Isaac Kim"
    },
    {
        "title": "[RONCFPSD-172] TSDN 4.0.0 - M3 - CFP Upgrade from 3.0 to 4.0 Failed at \"5. NSO Startup with package reload force + ignore initial validation\"",
        "description": "TSDN 4.0.0 - M3 - CFP Upgrade from 3.0 to 4.0 Failed at \"5. NSO Startup with package reload force + ignore initial validation\" with error message in attached screenshotAdditionally 1) steps 3 (3. Remove old packages from TSDN CFP 3.0) and 4 (4. Copy new packages from TSDN CFP 4.0 with new ncs.conf) are not clear enough to follow e.g it need to help withfor #3, how to identify legacy NEDs on 5.5.2.12-TSDN 3.0.0 RC\u00a0setup?For #3, (To migrate to : 6.77) and (To migrate to : 7.38) - what is meaning of this ?</ul>for #4, does this setup require all packages and all NEDs to be moved and need to identify subdirectory structure too for clarity.For #4, there are more NEDS in this package, with overlapping information from step #3, are these all required along with one from #3?</ul>2) For 5. NSO Startup with package reload force + ignore initial validationscript snippet does not correspond to one found on this upgrade scenario on system. See attached screenshot for what is found on system. ",
        "comments": "setup details10.194.63.180 ssh nso/Vtsisco@123!UI admin/Vtsisco@123!Hello Vipin,Below are replies to your questions1. For NED migration, both old NED and new NED need to be loaded into NSO. Because the old NED was compiled with old NSO version (NSO 5.5.2 from TSDN 3.0), to migrate from old NED to new NED, we need to load the old NED with new NSO version (NSO 5.7 from TSDN 4.0). This can be done by recompiling old NED with new NSO version. For your typical TSDN 3.0 -> 4.0 upgrade, there is no need to analyze which NED require migration as we provide instructions for packaged NEDs. We also provide old NEDs recompiled with new NSO version. From this point, we consider the old NED to be a \"legacy\" NED.Lets walk through the upgrade steps:3. Remove old packages from TSDN CFP 3.0Here we should remove old packages from TSDN CFP 3.0 from following path (path depends on type of install)NSO System Install: /var/opt/ncs/packages/NSO Local Install runtime directory: packages//// For NED packages that will be upgraded (major version upgrade), the \"legacy\" NED must be recompiled with new NSO version and loaded to migrate device data/// To load legacy NED with new NSO version, remove legacy NED package and replace with recompiled NED belowLegacy XE CLI NED 6.74 compiled with .7 (To migrate to : 6.77) : XE-CLI-6.74-compiled-with-.7Legacy XR CLI NED 7.33 compiled with .7 (To migrate to : 7.38) : XR-CLI-7.33-compiled-with-.7To \"migrate\" XE CLI NED 6.74 to 6.77, we need \"legacy\" XE CLI 6.74 NED recompiled with new NSO version 5.7. We provide this with the download link \"XE-CLI-6.74-compiled-with-.7\". Download the recompiled NED from the link and place it in path defined above. To \"migrate\" XR CLI NED 7.33 to 7.38, we need \"legacy\" NED 7.33 recompiled with new NSO version 5.7. We provide this with the download link \"XR-CLI-7.33-compiled-with-.7\". Download the recompiled NED from the link and place it in path defined above. 4. Copy new packages from TSDN CFP 4.0 with new ncs.conf/// Copy over 4.0 packages but do not remove any legacy NEDs compiled with .7With the recompiled \"legacy\" NEDs defined in <NSO PATH>/packages, copy TSDN 4.0 packages.At this point, you should have two NEDs per NED type. XR CLI 7.33 -> 7.38 NEDs:<NSO PATH>/packages/ncs-5.7-cisco-iosxr-7.38.X.tar.gz<NSO PATH>/packages/ncs-5.7-cisco-iosxr-7.33.X.tar.gzXE CLI 6.74 -> 6.77 NEDs:<NSO PATH>/packages/ncs-5.7-cisco-ios-6.77.X.tar.gz<NSO PATH>/packages/ncs-5.7-cisco-ios-6.74.X.tar.gzIn the next steps, you will reload NSO so that both \"legacy\" NED and \"new major version\" NED will be loaded into NSO. During migration upgrade step, you will migrate from the loaded \"legacy\" NED to the loaded \"new major version\" NED.I hope this clarifies the procedure for NED migration. 2. I can see that the script is a bit different. I will update the wiki to clarify the objective of the step which is to add \"--ignore-initial-validation flag\".Please let me know if you have any other questions.Thanks,Isaac KimHi Isaac, Blocker issue TSDN 4.0.0 - M3 - CFP Upgrade from 3.0 to 4.0 Failed at \"5. NSO Startup with package reload force + ignore initial validation\" with error message in attached screenshot is still not addressed. I believe you are still troubleshooting it?Thanks,VipinHello Vipin,I have discussed with Quy about some confusion about upgrade wiki steps. We identified few areas which I reworded for clarity. We identified that one issue on your setup is that your system is still pointing to old NSO version: It should be pointing to NSO 5.7 before you do a reload.Please refer to Step B-2 of the upgrade wiki and let me know if you are still running into the error.Thanks,Isaac Kimhi Isaac,We (Vipin and I) have discussed about the current nso version on .180 - the upgrade system - thanks for your help with the wiki steps - this will help all users during the upgrade process. We will follow the revised steps you have provided and will update you if any issue occurs. Thanks,-Quyhi Isaac - adding the email from Vipin lastnight since the ticket was closed:Hi Isaac, SahithiJIRA is closed pre-maturely so resorting to emails.Fixed ncs-5.7.2.1 install following steps Step-B, 2 -1 thru 3c.Error from 5, 3 change toroot@nso-10-194-63-180:/opt/ncs/ncs-5.7.2.1/etc/ncs# sudo NCS_RELOAD_PACKAGES=force /etc/init.d/ncs startStarting ncs: Bad configuration: /etc/ncs/ncs.conf:0: Cannot access directory ./ncs-cdb, definedfor/ncs-config/cdb/db-dirDaemon died status=21STEP-B, 2-4 is unclear about how to merge two ncs.conf (/opt/ncs/nso_5.7.2.1/etc/ncs/ncs.conf and/etc/ncs/ncs.conf). Please note there is typo here nso to fix (should be ncs).Quy ; I, interpreteda. merge changes from /etc/ncs/ncs.conf INTO/opt/ncs/nsoc_5.7.2.1/etc/ncs/ncs.confb. copy merged/opt/ncs/nsoc_5.7.2.1/etc/ncs/ncs.conf to/etc/ncs/ncs.conf i.e. overwrite /etc/ncs/ncs.conf. To identify changes to merge we two have to refer to changes required in ncs.conf per install for NSO TSDN 3.0 FP if you want to troubleshoot, setup details are:IP 10.194.63.180ssh nso/Vtsisco@123!Ui admin/ Vtsisco@123!Thanks,Vipin Sharma]Hi Quy,Not sure why the ticket was closed. We haven't closed it from our side. I see it still is open. Hopefully, we should be able to communicate in comments.Updating my reply on this comment. Hope it resolved the issue.```Hi Vipin,The below is occurring because your current ncs.conf is not pointing to the correct cdb folder.Try changing the below variable.<db-dir>{NCS_RUN_DIR}</db-dir> -> <db-dir>{NCS_RUN_DIR}/cdb</db-dir>Regarding the steps, I believe Isaac would have better input here.@Isaac Kim (isaakim) Any thoughts about steps for merging the ncs.conf files? ```ThanksSahithiHi Vipin and Quy!I have updated the wiki step B-2 with more explicit and clear steps.Please review and let me know if this change is satisfactory.Thank you for the feedback!Thanks,Isaac KimFailure At STEP-B, 8. Sync-from Migrated Devices for new NED capabilitiesadmin@ncs> request devices device TB4-PE-A sync-from dry-run  result falseinfo Failed to connect to device TB4-PE-A: connection refused: NEDCOM CONNECT: Authenticate: Exhausted available authentication methods. Server allowed: [ keyboard-interactive password ] in new stateadmin@ncs>Hi Vipin,Would you be able to confirm what authentication method was used for this device prior to upgrade? Was it ssh-rsa, ssh-dss, etc?Thanks,Isaac KimHi Isaac,I do not know this, is there a way to find out ?I believe it should be default for device from cnc fp 3.0.0 RC Thanks,VipinHi Vipin,No problem, we will try to investigate now. I hope its okay if we validate few things on your machine. We may also try setting some NSO config to debug but will not push anything southbound. Thanks,Isaac KimHi Vipin,Do you by any chance still have a copy of your pre-upgrade ncs.conf? If so, would you be able to share it here?Thanks,Isaac KimHi Issac,thanks, Please take setup for your investigation. Thanks,VipinHere is pre-upgrade ncs.conf /home/nso/tsdn3.0.0-backup/etc_nsc_ncs.conf/home/nso/tsdn3.0.0-backup/ ncs-5.5.2.12@2022-03-18T17:07:00.backup.gz has entire backup before upgrade, may be you can find it here tooHi Quy and Vipin,I have RCAed this with the help of Linh and we discovered that the source of issue mentioned above was due to the fact that encrypted-strings in old ncs.conf was not transferred over to new ncs.conf which meant that ssh-rsa host keys could not be decrypted as the new ncs.conf default encryption keys were being used.old ncs.conf:<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-xml\">      ${NCS_DIR}/bin/ncs_crypto_keys   ${NCS_CONFIG_DIR}/ncs.crypto_keys   </pre></div></div>new ncs.conf:<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-xml\">      0123456789abcdef   0123456789abcdef   0123456789abcdef   0123456789abcdef       0123456789abcdef0123456789abcdef   0123456789abcdef0123456789abcdef       0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef   </pre></div></div>The solution to this problem is to transfer your old encryption keys to new ncs.conf:<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-xml\">      ${NCS_DIR}/bin/ncs_crypto_keys   ${NCS_CONFIG_DIR}/ncs.crypto_keys   </pre></div></div>We have done this for you during the debug process and now devices can be reached from your NSO setup.Thanks,Isaac KimHi Quy and Vipin,I hope the upgrade procedure went well!If everything is good, I will close this ticket in next few days.Please let me know if you have any other questions in this regard.Thanks,Isaac KimHi Isaac, The upgrade went well, thanks for updating the wiki per our requested - appreciated your help - you can close the ticket for us please.Thanks and regards,-QuyNotes: the most time consuming was the merging the old ncs.conf with the new version - there are so many configurations need to carry over. Hope we can simplify this step somehow. Designated closed. For additional queries on ncs.conf migration, please open a new ticket."
    },
    {
        "title": "[RONCFPSD-166] Need pre-requisite configuration forL2VPN-E-Tree & evpn-pbb - custom",
        "description": "Need pre-requisite configuration forL2VPN-E-Tree ; evpn-pbb - custom to provision the service.",
        "comments": "Hi Ragesh ,There is no prerequisite for this service from device perspective . bridge-domain must be defined in payload.ThanksPriyankaHi Priyanka,XRV9K platform is not supporting for bridge-domain config. The device version we have 7.5.2.19I, which version we have support for ELAN, ETREE ; PBB-Custom services? If XRV9K is not supporting any other simulator we can use for the testing?Hi Ragesh,The platform need to support VPLS Bridge Domains as noted on the wiki: XRv9K does not support VPLS Bridge Domains. Please try ASR9K.Thanks,RegiHi Regi,ASR9K is the physical device right, Do we have any virtual platform for ASR9K?You can use ASR9KvHi RageshPlease let us know if anything else is needed or we may close the ticket.Thanks,NikhilClosing the ticket as the required information has been provided."
    },
    {
        "title": "[RONCFPSD-370] get_schema API issue on NSO M3 version",
        "description": "get_schema API issue on NSO M3 version.Request{\"params\": {\"levels\": -1,\"insert_values\": true,\"stop_on_list\": true,\"path\": \"/l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service{TEST1}/vpn-nodes/vpn-node{TB3-P-BOTTOMLEFT}\",\"evaluate_when_entries\": true,\"th\": 5},\"jsonrpc\": \"2.0\",\"id\": 102,\"method\": \"get_schema\"}Response{\"jsonrpc\": \"2.0\",\"error\": {\"type\": \"session.invalid_sessionid\",\"code\": -32000,\"message\": \"Invalid sessionid\"},\"id\": 102}",
        "comments": "Hi Demeke,I tested in my local and the API seems to be working and getting the result correctly. From the message it seems like the session-id that you are using is invalid. Please use the \"login\" and \"new_trans\" API to get the session-id and transaction-id and then run this command with those id.Let us know your NSO setup details for us to check further in case the above does not work.Thanks,NikhilHi Nikhil,I still see this issue admin/Ovatest123@Try to create l2vpn services and when you add the vpn-node you will see the issue.Let me know if you want a webex session also.Thanks,Demeke.Hi Demeke,The above are CNC UI details. Can you help us with the NSO console server and login details?Please message me on teams if you want to have a session to discuss this.Thanks, NikhilHi Nikhil,Please find the NSO setup info. 10.22.179.181ubuntudoc/ubuntudocThanks,Demeke.Hi Demeke,This looks like a platform issue with the IETF L2NM model. We have raised a RT with the NSO platform team and will let you know once we hear anything from them.As a workaround, the get_schema request with \"insert_values\" = \"false\" can be used from CNC side. We have tested the same and it seems to be working fine. Below is the sample request:Request{\"params\": {\"levels\": -1,\"insert_values\": false,\"stop_on_list\": true,\"path\": \"/l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service{TEST1}/vpn-nodes/vpn-node{TB3-P-BOTTOMLEFT}\",\"evaluate_when_entries\": true,\"th\": 5},\"jsonrpc\": \"2.0\",\"id\": 102,\"method\": \"get_schema\"}Thanks,NikhilHi Nikhil,The suggested workaround works but it breaks CNC Prov-UI dynamic implementation and we are waiting for the official fix.Thanks,Demeke.Hi Demeke,We have already opened a case with the platform team for this issue. Will update you as soon as we hear from them.Thanks,NikhilHi Nikhil,We have tried the workaround to use the insert_values=false, and that cause issue in the subsequent get_schema API. And we have looked the get_elem API and that also does not help for our use case. In Prov-UI we use get_schema api and parse the data to show the panel view. Therefore the workaround is not working for our use-case and looking for the fix.This is a related ticketThanks,Demeke. Hi Demeke,The below RT raised for this issue with NSO team has been fixed:The change will be included in thebelow and later versions:<ul>\t<li>nso-5.5.9 (31-Jan-2023)</li>\t<li>nso-5.6.11</li>\t<li>nso-5.7.9 (24-Jan-2023)</li>\t<li>nso-5.8.7</li>\t<li>nso-6.0.1.1</li>\t<li>nso-6.0.2 (17-Jan-2023)</li>\t<li>nso-6.1 (13-Apr-2023)</li></ul>Thanks,NikhilRT raised for this issue was fixed by the NSO team and hence the issue is resolved."
    },
    {
        "title": "[RONCFPSD-416] How auto color from CS model choses the color",
        "description": "Hi,There is a option in CS model where user can choose auto-color or can manually specify the color.Kindly let me know how the auto-color value is chosen ?Is this depends on any resource pool in NSO which would leveraged if auto-color is chosen.I have attached the screenshot of different resource pool available in NSO.Thanks,Naveen",
        "comments": "Hello Naveen,Please see answers below::Kindly let me know how the auto-color value is chosen ?>>>> You do not need to set any thing for selecting auto-color. If you do not set any color in the payload, the default option will be set to auto-color.Is this depends on any resource pool in NSO which would leveraged if auto-color is chosen.>> When auto-color is defaulted the pool undercs-sr-te-resource-pools is used.Sample payload is below: <cs-sr-te-resource-pools xmlns=\"http://cisco.com/ns/nso/cfp/cisco-cs-sr-te-cfp\"> <color-pool-name>color-pool</color-pool-name> <bidirectional-association-id-pool-name>bidirectional-association-id-pool</bidirectional-association-id-pool-name> </cs-sr-te-resource-pools>If there is no resource-pool you will see an error message such as below:ContextPlease let us know if this helps.Regards,Janaki DuggiralaHi Janaki,It looks like there is a reference for 2 pool names namely \"color-pool-name\" ; \"bidirectional-association-id-pool-name\".Kindly let me know which pool range will be used to assign color to the policy ?Thanks,Naveen Hello Naveen,>> cs-sr-te-resource-pools -> color-pool-name is used for the color>> FP does not hardcode bidirectional id. Its either explicitly defined by user or auto allocated using the pool-nameClosing ticket since received confirmation from customer that all questions are clarified.Customer was provided clarification. Closing ticket after confirmation from customer."
    },
    {
        "title": "[RONCFPSD-402] L2vpn P2p failed in plan in LSA setup - 5.0 - M4",
        "description": "1) Install NSO - LSA with 5.0 M4, with TM-TC package2) DLM: dlm-service-pack/5.7.6/35/cw-na-dlm-fp-5.0.0-nso-5.7.6.tar.gz3) TM-TC: FP-integ/5.0.0-130/cw-na-fp-tmtc-5.0.0-130-nso-5.7.6.tar.gz4) above packages installed as per CNC status file, which we used for installing all components, same is attached with this request5) Error I am seeing in /var/log/ncs/ncs-python-vm-ietf-l2vpn-nm.log is as follows: <INFO> 07-Dec-2022::01:40:12.528 ietf-l2vpn-nm ncs-dp-1798193-ietf-l2vpn-nm:main:0-2-th-32062: - Internal plan for ('L2NM-L2VPN_P2P_PLAIN-16-internal', 'PE-B') does not exist for /cisco-tsdn-core-fp-common:rfs-flat-L2vpn-remote-site-plan6) logs of : ./get_technical_support_data.sh /tmp/data_120722_031330_dir/data_120722_031330.tgzserver CFS: 10.56.116.151nso/Public1234!RFS1: 10.56.116.152RFS2: 10.56.116.153nso/Public1234!7) Version package: 8) Below payload is sucessfull in M3 standalone : M3 standalone server: 10.56.116.138 : nso/Public1234!payload used:<config xmlns=\"http://tail-f.com/ns/config/1.0\">  <l2vpn-ntw xmlns=\"urn:ietf:params:xml:ns:yang:ietf-l2vpn-ntw\">    <vpn-services>      <vpn-service>        <vpn-id>L2VPN_P2P_PLAIN-16</vpn-id>        <vpn-type>vpn-common:vpws</vpn-type>        <vpn-nodes>          <vpn-node>            <vpn-node-id>PE-A</vpn-node-id>            <signaling-option>              <ldp-or-l2tp>                <pw-peer-list>                  <peer-addr>100.100.100.6</peer-addr>                  <vc-id>16</vc-id>                  <mpls-label xmlns=\"http://cisco.com/ns/nso/fp/examples/cisco-l2vpn-ntw\">111</mpls-label>                </pw-peer-list>              </ldp-or-l2tp>            </signaling-option>            <vpn-network-accesses>              <vpn-network-access>                <id>L2VPN_PLAIN-16</id>                <interface-id>GigabitEthernet0/0/0/2</interface-id>                <connection>                  <encapsulation>                    <encap-type>vpn-common:dot1q</encap-type>                    <dot1q>                      <cvlan-id>16</cvlan-id>                    </dot1q>                  </encapsulation>                </connection>              </vpn-network-access>            </vpn-network-accesses>          </vpn-node>          <vpn-node>            <vpn-node-id>PE-B</vpn-node-id>            <signaling-option>              <ldp-or-l2tp>                <pw-peer-list>                  <peer-addr>100.100.100.5</peer-addr>                  <vc-id>16</vc-id>                  <mpls-label xmlns=\"http://cisco.com/ns/nso/fp/examples/cisco-l2vpn-ntw\">112</mpls-label>                </pw-peer-list>              </ldp-or-l2tp>            </signaling-option>            <vpn-network-accesses>              <vpn-network-access>                <id>L2VPN_PLAIN-16</id>                <interface-id>GigabitEthernet0/0/0/1</interface-id>                <connection>                  <encapsulation>                    <encap-type>vpn-common:dot1q</encap-type>                    <dot1q>                      <cvlan-id>16</cvlan-id>                    </dot1q>                  </encapsulation>                </connection>              </vpn-network-access>            </vpn-network-accesses>          </vpn-node>        </vpn-nodes>      </vpn-service>    </vpn-services>  </l2vpn-ntw></config>",
        "comments": " Hi Sampath,You defined netconf-notification subscription name wronglynso@ncs% show devices device sareddyd-esxi-01-vm2 netconf-notifications subscriptionsubscription sareddyd-esxi-01-vm2-cisco-custom-template-events {  stream    custom-template-events;  local-user  nso;  store-in-cdb true;}subscription sareddyd-esxi-01-vm2-dispatch-map-update {  stream    dispatch-map-update;  local-user  nso;  store-in-cdb true;}subscription sareddyd-esxi-01-vm2-kicker-events {  stream    kicker-events;  local-user  nso;  store-in-cdb true;}Please correct netconf-notitifcations subscription name as defined in this link The plan should be 'reached' after the correction.Thanks,LinhWrong configuration for netconf-notification subscription"
    },
    {
        "title": "[RONCFPSD-364] Configs for Ipv4 and Ipv6 addresses",
        "description": "As part of Assur-81, SR-V6 monitoring we are looking for different xpath combinations for Ipv4/Ipv6 ip addresses for L3VPN/L2VPN service with L3vpn as the first priority. Could you please help to share the various config details or share the TestBed details to get these kind of config details.",
        "comments": " Hi Jason,Attached are ipv4/ipv6 sample configurations. Asr9k-x64-7.6.2.xr.yaml is a simple topology with a few nodes while sol.yaml from Yevgeny Chechelnitsky (ychechel) is more complex topology. His details lab info is in this git Please contact him for access to the git.Thanks,Linh"
    },
    {
        "title": "[RONCFPSD-358] metrics and color for forward planning policy missing in yang model",
        "description": "Hi,While displaying the slice template catalogs we have columns metrics and color. Its missing in the M3 yang model.",
        "comments": "Hi Manesh,Can you elaborate where do you see metric and color in the slo-sle-tempate (slice catalog)?Color and Metric should come from SR-ODN template.Thanks,LinhHi Linh,We're displaying color and metrics along with forward planning policy. As you said, it'll come along with ODN Template. Can you give me the model path for both color and metric?Hi Magesh,Attached odn-template.xmlSo in the slo-sle-template, the color and metric will be pull in by     <forwarding-plane-policy xmlns=\"http://cisco.com/ns/nso/fp/examples/cisco-network-slice-service\">igp</forwarding-plane-policy>Thanks,LinhThanks LinhAs discussing on the call, Magesh understood where to get the color and metric. I close the ticket"
    },
    {
        "title": "[RONCFPSD-359] l3vpn model changes",
        "description": "1. can you tell if more changes planned, or this is the final model?2. regarding ie-profile (=vpn-instance-profile) \u2013 can you please elaborate what is the active-vpn-instance-profiles ? I see it has its own configs, so I am not sure why do we need the vpn-instance-profile for? For instance in your example I see profile1 which has route targets config, And the node is associated with profile1, but also has route targets configured under the active-vpn-instance-profile. So question is \u2013 do we need to accumulate the route targets coming from the active also? 3. I see the profile role \u2013 so it means in case of hub;spoke \u2013 we cant assign profile to a node with different role? ",
        "comments": "<ol>\t<li>I believe Sahithi answered this in the email thread but I will re-iterate here:</li></ol><div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>Hi Haim/Idan,There should not be any major changes from the model mentioned below for M4 release:Models:https://wwwin-github.cisco.com/nso-function-pack/tsdn-fp-configs/tree/master/CNC-5.0/CoreFP-Models/ietf-l3vpn-ntw/yangSample Configs:https://wwwin-github.cisco.com/nso-function-pack/tsdn-fp-configs/tree/master/CNC-5.0/CoreFP-Models/ietf-l3vpn-ntw/sample-configsWe will update this thread or email when there are changes to the models.ThanksSahithi</pre></div></div>2. The details can be found here:<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>  'vpn-instance-profiles': Defines reusable parameters for the same   'vpn-service'.</pre></div></div><div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>  'active-vpn-instance-profiles': Lists the set of active VPN instance   profiles for this VPN node. Concretely, one or more VPN instance   profiles that are defined at the VPN service level can be enabled   at the VPN node level; each of these profiles is uniquely   identified by means of 'profile-id'. The structure of 'active-   vpn-instance-profiles' is the same as the structure discussed in   Section 7.4, except that the structure of 'active-vpn-instance-   profiles' includes 'router-id' but does not include the 'role'   leaf. The value of 'router-id' indicated under 'active-vpn-   instance-profiles' takes precedence over the 'router-id' under the   'vpn-node' for the indicated address family. For example, Router   IDs can be configured per address family. This capability can be   used, for example, to configure an IPv6 address as a Router ID   when such a capability is supported by involved routers.   Values defined in 'active-vpn-instance-profiles' override the   values defined at the VPN service level. An example is shown in   Appendix A.3.</pre></div></div>To summarize, the \"vpn-instance-profile\" are just profile definitions and are not configured on the device unless if these \"vpn-instance-profile\" definitions are configured as the \"active-vpn-instance-profile\", which also allows overriding some of the configuration for \"vpn-instance-profile\"3. You would need separate \"vpn-instance-profiles\", one for \"hub\" and one for \"spoke, then assign those profiles to your vpn-nodesthank you for the info"
    },
    {
        "title": "[RONCFPSD-403] service-tag-opaque not accepting more than one value",
        "description": "Hi,While provisioning a slice, I'm supplying more than one value to service-tag-opaque.Response from NSO:[{\\\"Message\\\":\\\"too many /network-slice-services/slice-service{IT_test2}/service-tags/tag-type{ietf-nss:service-tag-opaque}/value, 2 configured, at most 1 must be configured\\\",\\\"nsoResponse\\\":\\\"too many /network-slice-services/slice-service{IT_test2}/service-tags/tag-type{ietf-nss:service-tag-opaque}/value, 2 configured, at most 1 must be configured\\\"}]Payload attached.",
        "comments": " Hi Magesh, You defined as the following   <tag-type>    <tag-type>ietf-network-slice-service:service-tag-opaque</tag-type>    <value>value</value>    <value>test</value>   </tag-type>Please remove one. CFP validates it and allow only one.Thanks,LinhIt is part of validation and tag-value should be at most 1"
    },
    {
        "title": "[RONCFPSD-365] no plan notification on ELAN service",
        "description": "we noticed a case when operation assurance on services of type ELAN - we recieve from NSO notifications only on the service, but not on the planwhen doing the same operation on EVPN - we do see both service and plan notifications arrive - can you have a look on it? here is the single notification we get on the ELAN:[{\"handle\":\"1\",\"message\":{\"db\":\"running\",\"changes\":[{\"keypath\":\"/l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service{L2VPN_NM-ELAN-170}/l2vpn-ntw-augmentations:service-assurance/monitoring-state\",\"op\":\"value_set\",\"value\":\"enable\"}],\"user\":\"admin\",\"ip\":\"https://172.20.200.130\"}}]",
        "comments": "Hello, Notifications are usually determined by the bootstrap files that are onboarded to the setup.Can you please share the setup on which this issue was seen so we can investigate this?Regards,Janaki DuggiralaHere is NSO service info: 172.20.100.133 admin/Cwork123!172.20.200.133Uploaded the service payload Hello Jason,We see that plan notifications are not being generated for L2NM EVPN MP -> service-assurance, but we do see that the AA notifications are still being generated correctly. As CNC UI is already receiving AA notifications from NSO for service-assurance updates, it would be possible to use AA notifications rather than plan notifications.Just a note, we cant reproduce this behavior in TSDN 5.0.Thanks,Isaac KimHi Isaac,Thanks for the RCA. From what I understand, CAT uses both notifications for different purposes. Hi Alan ; Idan, would you please chime in on this.Thanks,-jasonhi Isaac, what do you mean by AA notifications? not sure nso-c listen to this kind of notifications - can you send example? which component in CNC listen to this notifications? Alan - are you aware of it? Hello, we have a separate notification stream for service-assurance config changes as these changes are not pushed to device (as it is a service config only) and may not always result in a plan change. The service-assurance notifications include all the required information that would be provided in an equivalent service-state-change notification, with the exception of no plan component information (which again is not relevant to service-assurance config as it is not pushed to any particular device/component).service-state-changes notification<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\">admin@ncs% run show notification stream service-state-changesnotification { eventTime 2022-11-03T18:27:16.981329+00:00 plan-state-change {  service /l2vpn-ntw/vpn-services/vpn-service[vpn-id=]  component PIOSXR-1_a1  state ready  operation modified  status reached }}</pre></div></div>service-aa-changes notification<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\">admin@ncs% run show notification stream service-aa-changesnotification { eventTime 2022-11-03T18:27:57.889234+00:00 service-assurance-config-change {  service /l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service[vpn-id=EVPN-MP-ELAN]  operation modified }}</pre></div></div>Here we can see that service-aa-changes notification has eventTime, full service path (including service name), and operation. This should have the relevant information to make necessary resulting operations/updates.Thanks,Isaac KimHi Isaac, I just checked on CFP5.0-M3, change of service-assurance on ELAN service does not send the plan change notification. The other VPN service does not have such problem. From what I understand, \"plan change\" notification is expected by CAT on service-assurance change. This feature has been working since CFP 3.0.Srini, Alan ; Idan, please confirm. Again, this is a severe issue which is blocking SH 5.0 feature development since it is not working on CFP 5.0-M3 either.Thanks,-jasonClosing this as the patch was provided for 5.0 M3 to generate plan notification on ELAN service. The issue is already fixed starting 5.0 M4."
    },
    {
        "title": "[RONCFPSD-371] NSO TSDN 5.00-M4 FP route policy association failure",
        "description": "Hi,Trying to deploy some L2 services using route policy I see that even though the route policy was successfully created and deployed, the service association failed and I'm getting an error message saying \"route-policy illegal reference\" even though it exists. Same error appears while using the NSO configuration screen and in Postman commands.Please advise.NSO server: 10.56.58.197Credentials: admin / Public1234! SSH: cw-admin / Public1234!",
        "comments": "Hi Shlomi,We are getting permission denied for the credentials provided. Please check and suggest.Regards,Nishad Subair.I found the problem.It was some missing configuration in route policy creation.You can close / remove this case.Thank you for your support.Hi Shlomi,Thank you for the update. I will close the ticket.Thanks,Nishad Subair."
    },
    {
        "title": "[RONCFPSD-417] L2 with Point To Point Connectivity Type with Dedicated",
        "description": "Hi,Looks like isolation type is removed from L2 Slice when Point-To-Point is selected.Whereas \"isolation type\" type is shown when \"Hub-Spoke\" ; \"Any-to-Any\" is chosen.I persume it is a bug.Kindly let us know.Regards,Magesh",
        "comments": "Hi Magesh,We will look into this.Thank youSahithiHi Magesh,L2 Slice supports isolation for connectivity types: Hub ; Spoke and Any-to-Any.It is not supported for P2P which why it does not show up on the UI.We updated the wiki to reflect the same: Please let us know if there is anything else regarding this query.ThanksSahithi"
    },
    {
        "title": "[RONCFPSD-167] evpn-pbb Undrlying TE",
        "description": "Fewquestions on the latest release M3. evpn-pbb - any-to-any Does it support underlying Static Policy SR-MPLS/SRv6Does it support underlying ODN Template \u00a0SR-MPLS/SRv6\u00a0Wiki does not contain any example,and we are failing to provision it. evpn-pbb - hub-spoke \u00a0\u2013   Wiki does not contain any example, and we are failing to provision it Does it support underlying Static Policy SR-MPLS/SRv6Does it support underlying ODN Template \u00a0SR-MPLS/SRv6\u00a0Wiki does not contain any example,and we are failing to provision it ",
        "comments": "HiOnly ODN SR-Policy is supported for evpn-pbb. SRv6 is not supported for evpn-pbb.Please refer to below link for device mappings. If the config is missing, then its not supportedLet us know if anything else is required or we may close the ticket.Thanks.Clear. This is not working though. Look at Hi YevgeniCDET() was filed for the issue Issue was fixed and released as part of TSDN 4.0 M3.Thank you.Closing the ticket as the issue is fixed."
    },
    {
        "title": "[RONCFPSD-173] Need updated/modified prepackaged NSO FP for Brownfield support testing",
        "description": " For Brownfield support testing, Srinivasan chikala shared 3 examples to verify new custom FP. We also need to test extensibility in default Prepackaged service. Kindly share an updated/modified prepackaged NSO FP for L3VPN NM/L2VPN NM/SR/RSVP. Just adding one additional field/range variation/any simple change would be fine. ",
        "comments": "Hi Ajitha,I have attached the slides (Sample_Customization.pptx) about how to customize FP with L3NM and L2NM package as examples. You can follow the same to customize any released packages. Please let me know if this helps or you have any problem customizing the packages.Hi Linmao, Our understanding is to get custom Packages from developers and use it for our testing. But gone through the PPT. It has good explanation. Would you please share a webex recording/setup a call for any one Service pack modification, this would help us to proceed further.Hi Ajitha,I am not sure what your ask is. Can you clarify please?Thanks,NipaFor Brownfield support Feature testing, We received few custom FPs(CNC+NSO) from Srinivasan Chikala. Apart from that, we need to verify the behavior of modified Prepackaged FP (eg: L3VPN+ any one simple field change/new field addition). Would be helpful if you can share modified FP of any default Prepackaged FP(L3VPN/L2VPN/SR/RSVP/ODN/Flat). Hi Ajitha,You can use the sample FPs that we ship with the product and use the PPT sent by Lin to create yet another package. We do not have any more modified pakages to give away.Thanks,NipaClosing this ticket. Further issue can be resolved in new support ticket."
    },
    {
        "title": "[RONCFPSD-198] Do not see head-end devices when provision service/policy on LSA setup",
        "description": "Steps:1. Setup IPv6 CNC with LSA. 2 Onboard provider and devices. I am able to see devices list on both of the rfs nodes as expected. 3. But when provision a service or policy, the head-end drop down shows empty list.Is there anything I can check on NSO side to make sure there is no configuration issue?NSO version: 5.7.2.1TSDN cfp: 4.0.0 M4",
        "comments": "Re-run the bootstrap load merge steps. Then I am able to see the head-end list. However, when commit the load merge commands, the output says \"no modification to commit\". It does seem the load merge was done the first time but didn't process properly which cause \"show status-code-cfp\" didn't work before re-run the load merg. Is this an issue to be looked at? Attached is the bootstrap load merge re-run done on one of the rfs nodes Hi Crystal,If you are not able to access your device list as part of your service provisioning, you may want to check a few things on NSO CLI.Verify Dispatch Map<ol>\t<li>Log into NSO CLI on your CFS Node (ncs_cli -u <USER>)</li>\t<li>Enter config mode (configure)</li>\t<li>Check dispatch map (show devices lsa dispatch-map)</li></ol>Verify you have the output<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\">device <DEVICE NAME> { ned-id  <NED ID>; remote-node <RFS NODE NAME>;}device <RFS NODE NAME> { ned-id <RFS NED ID>; local;}</pre></div></div>If you are missing the <DEVICE NAME> entry, you have to sync dispatch map ().If you are missing the <RFS NODE NAME> entry, you must onboard RFS node to CFS node ().Once you verify the above, please let me know if you are able to resolve the issue.Thanks,Isaac KimHi Isaac,I am able to see the head-end after re-run the bootstrap load merge steps as I described in my 2nd input on this ticket. It seems there is no change in 2nd commit, but the head-end info. displayed after that. Will keep an eye on this. If it happens again then maybe some potential issue for the load merge process. Thanks.-CrystalHi Crystal,Thats good that your setup is fine. We can keep this ticket in info-request state until end of this week and if we get no reply, then I will close it.Thanks,Isaac KIm"
    },
    {
        "title": "[RONCFPSD-16] TSDN-3.0.0-M3 - OLS Scenario Regression",
        "description": "Working with M2 with the same environment nso522/Public1234!Error running action for side-effect item /cisco-ron-cfp:ron/ron-ml-plan{TOPRIGHT_BOTTOMRIGHT_400_TR_OLS}/plan/component{ncs:self self}/state{ncs:init}: Python cb_action error. Failed to retrieve/validate SIPsSTATUS_CODE: RON-505REASON: Fetch Optics failedCATEGORY: custom-actionSEVERITY: ERRORContext [name = Fetch SIP Action Failed, message = Fetch SIP action Failed state = {'service': ListElement name=ron-ml tag=1842926444 keys={TOPRIGHT_BOTTOMRIGHT_400_TR_OLS}}]",
        "comments": "Hi Yevgeny,Looks like this issue is old, can I close the ticket?Thanks,VanYevgeny has not responded and there is no outstanding RON support issue from his side that we know of, close the case."
    },
    {
        "title": "[RONCFPSD-239] Route Policy Construction Problem",
        "description": "When route policy is constructed, it omits entriessee attached NSO: admin/Public1234!Devices: PE-A ; PE-C",
        "comments": "Flase Flag, close the issue "
    },
    {
        "title": "[RONCFPSD-577] Update the \"cnc-custom\" metadata in policy in L2VPN",
        "description": "Under the L2VPN te-mapping the policy leaf(\"/l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service/vpn-nodes/vpn-node/te-service-mapping/te-mapping/sr-policy/policy\") Please update the \"cnc-custom\" metadata as below     tailf:meta-data \"cnc-custom\" {      tailf:meta-value '       {        \"dependency\": \"[]\",        \"type\": \"checkbox\",        \"field\": \"auto-evi-target\",        \"pre-select\": \"true\",\"dependencyForReload\": [\"/l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service/vpn-nodes/vpn-node/te-service-mapping/te-mapping/sr-policy/policy-type\"]       }';     }",
        "comments": "Minor update please use this to update the policy config metadatatailf:meta-data \"cnc-custom\" {tailf:meta-value ' { \"dependency\": \"[/l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service/vpn-nodes/vpn-node/te-service-mapping/te-mapping/sr-policy/policy-type]\",  \"type\": \"dropdown\",  \"field\": \"policy\", \"leaf-validation\": \"true\", \"pre-select\": \"true\",  \"reloadDependency\": \"[/l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service/vpn-nodes/vpn-node/te-service-mapping/te-mapping/sr-policy/policy-type]\" }';}Hi Demeke,Shall we replace the existing meta-data which is mentioned below with the new one as in the message above ?<ul>\t<li>Existing meta-data:</li></ul>tailf:meta-data \"cnc-custom\" { tailf:meta-value '{ \"dependency\": \"[]\", \"type\": \"dropdown\", \"field\": \"policy-list\", \"leaf-validation\": \"true\", \"pre-select\": \"none\" }'; }<ul>\t<li>Proposed Change :</li></ul>tailf:meta-data \"cnc-custom\"{ tailf:meta-value ' \\{ \"dependency\": \"[/l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service/vpn-nodes/vpn-node/te-service-mapping/te-mapping/sr-policy/policy-type]\", \"type\": \"dropdown\", \"field\": \"policy\", \"leaf-validation\": \"true\", \"pre-select\": \"true\", \"reloadDependency\": \"[/l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service/vpn-nodes/vpn-node/te-service-mapping/te-mapping/sr-policy/policy-type]\" }'; }Thank you,Nishad Subair Hi Nishad,The follwoing is correct one. the pre-select value needs to be \"none\".tailf:meta-data \"cnc-custom\"{ tailf:meta-value ' \\{ \"dependency\": \"[/l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service/vpn-nodes/vpn-node/te-service-mapping/te-mapping/sr-policy/policy-type]\", \"type\": \"dropdown\", \"field\": \"policy\", \"leaf-validation\": \"true\", \"pre-select\": \"none\", \"reloadDependency\": \"[/l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service/vpn-nodes/vpn-node/te-service-mapping/te-mapping/sr-policy/policy-type]\" }';}Thanks,Demeke."
    },
    {
        "title": "[RONCFPSD-211] Clarification on OOS Node Redeploy",
        "description": "Hi Team,Please help to confirm that the following scenario is correct or not.1. Create a L2VPN Service2. Bring any one of the service node out-of-sync3. Edit the service and commit changes4. The service will be pushed unto \"failed\" state.<ul><ul>Now click on re-deploy from the provisioning nso action button. Should this bring the service Success or say error that the particular node is outof-sync?</ul></ul>Please help to confirm",
        "comments": "If you did not commit any action (sync-from/sync-to) to make the device in-sync, then yes a re-deploy of the service will still be in the \"failed\" state, assuming the commit has gone through ( usage of commit-queue or non-commit-queue but resource-manager allocation was required by the service )Thanks,RegiThank you.That seems to be a desperate issue. I have filed the Defect - CSCwb54540I'm seeing the service getting success even when I did not commit any action (sync-from/sync-to)I've updated both the CDETs as they seem related:It would be good if we can have a quick webex regarding this issue.Thanks,RegiHad webex session with Kanchan. The reason this issue was occurring is because service did not have ownership of the device configs as the device configs existed before service creation.I had Kanchan do a \"re-deploy reconcile\" of the service to re-take ownership of the configs. You can also clean up the device manually and do a sync-from as well if you do not want to do a \"re-deploy reconcile\". After this step, can you re-test this scenario and let me know if you are getting the expected results or not.Yes. I can perform re-deploy reconsile very well. but I would strongly say this is not the test scenario.The expectation is that any service should take the ownership on the very first commit-changes click at the time of service create.I would still test this following steps described as part of defect debug.Thank you very muchThe reason the service does not take ownership is because the configs existed on the device before service creation. That's also why you do not see dry-run output for the devices. This is expected behavior as far as NSO is concerned.NSO has a feature which does reconcile on first commit which is \"commit reconcile\", but this option doesn't seem to be available on CNC GUI which is why I suggested the \"re-deploy reconcile\"Thanks,RegiCould you please confirm, re-deploy reconsile of the service which has OOS/Unreachbale node should be successful or throw error?Hi Dinesh,When you edited the config with out-of-sync device, this commit was rejected and service plan reflects failure and that's to be expected but once you do a service re-deploy, in this case, the service rolls back to the previous provisioned state which was successful in this case ( since there are no new commits to be made by the service as previous commit was rejected ), so this is the expectation.Please let me know if you have any questions.Thanks,RegiHi Dinesh,Please let me know by EOD today if you have further issues; otherwise, I will go ahead and close this ticket.Thanks,RegiHi Regi,It is cleared that commit-queue global setting of the NSO cluster has to be set \"false\" and to sure that the device does not have any existing configuration of the same service.Hence the service owned by the devices will resolve these intermittent issues.You can please close the ticket.Thanks,Dinesh"
    },
    {
        "title": "[RONCFPSD-205] CFS goes out of sync with RFS nodes after every service creation or deletion",
        "description": "Hi All,I have NSO LSA cluster with 1 CFS and 2 RFS nodes.I did a RFS sync on CFS node and sync was successful. After that I added L3VPN service from CNC server which got successfully deployed.I check the sync status from CFS node UI and it shows out of sync with RFS nodes.Attaching the screenshot. I wanted to know if user is required to perform sync-from on CFS for all RFS nodes everytime a service is created or deleted.Thanks,Kanchan",
        "comments": "Setup Details:CFS: admin/Ovatest123@RFS-62: admin/Ovatest123@RFS-63: admin/Ovatest123@Hi Kanchan,For LSA setup, RFS node will likely always be out of sync with CFS node as there are some internal changes happening on RFS node as part of service provisioning.This is actually why we need the \"out-of-sync-commit-behavior\" flag to be \"accept\", so that we can continue to make commits despite the out-of-sync status of RFS node on CFS node.I would suggest to try to provision another service when the CFS node shows RFS node as out-of-sync. The service should be able to be successfully provisioned despite the out-of-sync status. If this works, then everything seems to be working as intended.Thanks,Isaac KimHi Isaac,I am able to provision new services and policies when CFS is not in sync with RFS. So as per our conversation on the other issue described here: , I am concluding that CFS to RFS sync is only required when user adds a new device to RFS node. For other scenarios, it is ok if CFS shows not in sync with RFS, right?Here is what I am seeing on NSO CFS node:admin@ncs> request devices check-syncsync-result {  device rfs-62  result unknown}sync-result {  device rfs-63  result unknown}Additionally on CFS UI, clicking on check-sync doesn't show any color. is it also expected?Hi Kanchan,From what I understand, RFS node will show as \"unknown\" sync-state because of the nature of our internal services on RFS node when provisioning services. Despite the \"unknown\" sync-state, you should still be able to provision services. Yes, you will need to do a sync-from on the CFS node when onboarding new devices on the RFS node. You can assume this is expected behavior unless you run into issues with normal service operations.For NSO Web UI, the status will be same as the NSO CLI check-sync status. So I assume grey is \"unknown\".Thanks,Isaac KimThanks for the clarification Isaac. Yes I haven't faced the issue in spite of the \"Unknown\" sync-state. So if this is the expected behavior then we can close this ticket. Thanks for all your help.Perfect, thanks! Please feel free to open another ticket if you face any issues.Thanks,Isaac Kim"
    },
    {
        "title": "[RONCFPSD-563] CAT Provisioning page does not populate Service types when FQDN is selected ",
        "description": "Setup:Jump host - 10.23.226.188 - root/Cwork123! CW - 192.168.5.50 , 192.168.6.50 - admin/Cnc@1234 - cw-admin/Ovatest123@ NSO L3 HA - 192.168.5.56 , 192.168.6.56 \u2013 VIP \u2013 6.6.6.7 - nsoaz1/Cnc@1234 With Drop 7 , CAT Provisioning page does not populate Service types when FQDN is selected .But it works properly if Active Crosswork IP address is given.Kindly help fix the issue.",
        "comments": "Scheduling a debug session with Ajitha to further investigate issue.Followed up with Ajitha on Wed 09-27-23, to see if she still need help regardingthis issue. Currently, she is working with the CAT UI team and will get back to me if additional support is needed."
    },
    {
        "title": "[RONCFPSD-588] L3 NM subservice Error-recovery action: \u201cvpn-network-access-id\u201d is mandatory field ?",
        "description": "L3 NM subservice Error-recovery action: Is vpn-network-access-id a mandatory field ?Unable to perform error-recovery actions on sub-service (vpn-node) of a L3-NM service without passing dummy \"vpn-network-access-id\". Behavior is seen in CLI/ nso Restconf/NSO GUI.This is blocking us in validating subservice actions in Provisioning UI.admin@ncs% request l3vpn-ntw l3nm-actions error-recovery vpn-node xrv9k-25 service L3NM-MVPN-STATIC-TREE-700 sync-direction sync-fromValue for 'vpn-network-access-id' (<string>): ########################<ol>Warning    #########################You are about to recover a T-SDN service.This will issue a sync on the device.Are you sure you want to proceed? yessuccess truedetail Recovery Complete for L3VPN Internal Services</ol>Restconf:Executing POST on URL with payload: {\"sync-direction\":\"sync-to\",\"service\":\"0-65008740\",\"vpn-node\":\"xrv9k-22\"}2024-01-16 06:19:32,650 ERROR c.c.u.c.u.NsoDataProvider Error in patchRestConf: {}org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: \"{<EOL> \"ietf-restconf:errors\": {<EOL>  \"error\": [<EOL>   {<EOL>    \"error-type\": \"application\",<EOL>    \"error-tag\": \"malformed-message\",<EOL>    \"error-path\": \"/ietf-l3vpn-ntw:l3vpn-ntw/cisco-l3vpn-ntw:l3nm-actions/error-recovery/vpn-network-access-id\",<EOL>    \"error-message\": \" is not provided\"<EOL>   }<EOL>  ]<EOL> }<EOL>}<EOL>\"Is this expected ?",
        "comments": ""
    },
    {
        "title": "[RONCFPSD-229] PBB-CUSTOME over ODN policy ",
        "description": "Trying tocreate PBB-Custom scenario with two end points with underlying ODN policy .Payload ; dry- run attached This is howI define my route policies \u00a0<l2vpn-route-policy\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 xmlns=>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<name>L2VPN_NM-PBB-CUSTOM-SRTE-ODN-PE-A-430</name>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 <color>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 <id>430</id>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 <ipv4>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 <rd>430:430</rd>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 </ipv4>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 </color>\u00a0\u00a0\u00a0 </l2vpn-route-policy>\u00a0\u00a0\u00a0 <l2vpn-route-policy xmlns=>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<name>L2VPN_NM-PBB-CUSTOM-SRTE-ODN-PE-B-430</name>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 <color>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 <id>430</id>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 <ipv4>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 <rd>430:431</rd>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 </ipv4>\u00a0\u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 </color>\u00a0\u00a0\u00a0 </l2vpn-route-policy>\u00a0Whenexecuting dry run, on one side default evpn-route type is applied \u00a0 if evpn-route-type is 1 then&#13;\u00a0\u00a0\u00a0\u00a0 set extcommunity color COLOR_430&#13;\u00a0\u00a0 endif\u00a0And on the other is not applied. NSO: admin/Public1234!",
        "comments": " Hi Yevgeny,I checked your setup. This is your l2vpn-route-policy settingsl2vpn-route-policy L2VPN_NM-PBB-CUSTOM-SRTE-ODN-PE-A-430 { color 430 {  ipv4 {   rd [ 430:430 ];  } }}l2vpn-route-policy L2VPN_NM-PBB-CUSTOM-SRTE-ODN-PE-B-430 { color 430 {  ipv4 {   rd [ 430:431 ];  }  evpn-route-type {   route-type [ 1 2 ];  }What you see is expected! It seems the l2vpn-route-policy name is already exist with evpn-route-type!Please clean up your l2vpn-route-policy and retest again.Thanks,LinhHi Yevgeny,I will close this ticket in a few days if there is no update from your side.Thanks,LinhGot it "
    },
    {
        "title": "[RONCFPSD-567] Does transport slice support SRv6 in 6.0 release?",
        "description": "Just like to confirm if transport slice supports SRv6 in 6.0 release?Thanks.",
        "comments": "Hi Crystal,Yes. We support Srv6 from Slice.Hi Crystal,To clarify, we support Srv6 from forwarding plane policy.ThanksSahithi"
    },
    {
        "title": "[RONCFPSD-201] \"Preservation\" option not seen in NSO service notification",
        "description": "Hi,Service Assurance preservation option is not seen while disabling the monitoring with option \"remove\" for the first time.Steps:1] Create l2vpn or l3vpn service.2] enable monitoring from CNC UI .3] after some time, disable monitoring from UI .we have preservation option as \"remove\" by default. do not change anything there and disable the monitoring.in kafka logs , we are not seeing the preservation option at all. RCietf-l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service=L2NM-P2p-SRTE-712Z\u2592{\"ietf-l2vpn-ntw:vpn-service\":{\"vpn-id\":\"L2NM-P2p-SRTE-712\",\"vpn-svc-type\":\"vpn-common:t-ldp\",\"vpn-nodes\":{\"vpn-node\":[{\"vpn-node-id\":\"ASR9901-SDN-30\",\"ne-id\":\"ASR9901-SDN-30\",\"te-service-mapping\":{\"te-mapping\":{\"sr-policy\":{\"policy\":\"L2NM-EVPN-SRTE-30-712\",\"fallback\":\"disable\"}}},\"signaling-options\":[{\"type\":\"vpn-common:t-ldp\",\"t-ldp-pwe\":{\"ac-pw-list\":[{\"peer-addr\":\"126.1.1.112\",\"vc-id\":\"712\",\"mpls-label\":753}]}}],\"vpn-network-accesses\":{\"vpn-network-access\":}},{\"vpn-node-id\":\"NCS55A2-SDN-112\",\"ne-id\":\"NCS55A2-SDN-112\",\"te-service-mapping\":{\"te-mapping\":{\"sr-policy\":{\"policy\":\"L2NM-EVPN-SRTE-112-712\",\"fallback\":\"disable\"}}},\"signaling-options\":[{\"type\":\"vpn-common:t-ldp\",\"t-ldp-pwe\":{\"ac-pw-list\":[{\"peer-addr\":\"126.1.1.30\",\"vc-id\":\"712\",\"mpls-label\":712}]}}],\"vpn-network-accesses\":{\"vpn-network-access\":}}]},\"ietf-l2vpn-ntw-cisco-augmentations:service-assurance\":{\"monitoring-state\":\"disable\",\"profile-name\":\"Silver_L2VPN_ConfigProfile system\",\"rule-name\":\"Rule-L2VPN-NM-P2P-Basic system\"}}}bmodify\u25922while checking in NSO UI ., for service assurance, preservation option shows \"remove\" for twice.while selecting first option \"(remove)\" and disable the monitoring, we are not seeing the preservation option in the nso notification data,in CAT ui., for service assurance, preservation option shows only one \"remove\" .. when we try disable monitoring with this option, we are not seeing the nso notification with this option.only after doing \"preserve\" and disable, we see it.after that again enable the monitoring and disable it with \"remove\" , we see it.the issue is ,we are not seeing it for the very first time by default.",
        "comments": "Hi Arun,1. The reason you're seeing \"remove\" twice in NSO UI is because the value in parenthesis is the default; therefore, preservation is already set to \"remove\".2. From the looks of the kafka logs, it looks like the NB is only sending back changes rather than a full query so I would think they're subscribed to the service changes but because preservation is already set to \"remove\" by default (as shown in your NSO UI pic) this won't count as a change/update on NSO; therefore, you will not see the notification for it.Let me know if you have anymore questions.Thanks,RegiHi reginald,i think there is no problem with subsription, since are see preservation option when we select option as \"preserve\". RCietf-l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service=L2NM-P2p-SRTE-712Z\u2592{\"ietf-l2vpn-ntw:vpn-service\":{\"vpn-id\":\"L2NM-P2p-SRTE-712\",\"vpn-svc-type\":\"vpn-common:t-ldp\",\"vpn-nodes\":{\"vpn-node\":[{\"vpn-node-id\":\"ASR9901-SDN-30\",\"ne-id\":\"ASR9901-SDN-30\",\"te-service-mapping\":{\"te-mapping\":{\"sr-policy\":{\"policy\":\"L2NM-EVPN-SRTE-30-712\",\"fallback\":\"disable\"}}},\"signaling-options\":[{\"type\":\"vpn-common:t-ldp\",\"t-ldp-pwe\":{\"ac-pw-list\":[{\"peer-addr\":\"126.1.1.112\",\"vc-id\":\"712\",\"mpls-label\":753}]}}],\"vpn-network-accesses\":{\"vpn-network-access\":}},{\"vpn-node-id\":\"NCS55A2-SDN-112\",\"ne-id\":\"NCS55A2-SDN-112\",\"te-service-mapping\":{\"te-mapping\":{\"sr-policy\":{\"policy\":\"L2NM-EVPN-SRTE-112-712\",\"fallback\":\"disable\"}}},\"signaling-options\":[{\"type\":\"vpn-common:t-ldp\",\"t-ldp-pwe\":{\"ac-pw-list\":[{\"peer-addr\":\"126.1.1.30\",\"vc-id\":\"712\",\"mpls-label\":712}]}}],\"vpn-network-accesses\":{\"vpn-network-access\":}}]},\"ietf-l2vpn-ntw-cisco-augmentations:service-assurance\":{\"monitoring-state\":\"enable\",\"preservation\":\"preserve\",\"profile-name\":\"Silver_L2VPN_ConfigProfile system\",\"rule-name\":\"Rule-L2VPN-NM-P2P-Basic system\"}}}bmodify\u25922Selecting remove after that, we can see the remove option also in Notification., RCietf-l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service=L2NM-P2p-SRTE-712Z\u2592{\"ietf-l2vpn-ntw:vpn-service\":{\"vpn-id\":\"L2NM-P2p-SRTE-712\",\"vpn-svc-type\":\"vpn-common:t-ldp\",\"vpn-nodes\":{\"vpn-node\":[{\"vpn-node-id\":\"ASR9901-SDN-30\",\"ne-id\":\"ASR9901-SDN-30\",\"te-service-mapping\":{\"te-mapping\":{\"sr-policy\":{\"policy\":\"L2NM-EVPN-SRTE-30-712\",\"fallback\":\"disable\"}}},\"signaling-options\":[{\"type\":\"vpn-common:t-ldp\",\"t-ldp-pwe\":{\"ac-pw-list\":[{\"peer-addr\":\"126.1.1.112\",\"vc-id\":\"712\",\"mpls-label\":753}]}}],\"vpn-network-accesses\":{\"vpn-network-access\":}},{\"vpn-node-id\":\"NCS55A2-SDN-112\",\"ne-id\":\"NCS55A2-SDN-112\",\"te-service-mapping\":{\"te-mapping\":{\"sr-policy\":{\"policy\":\"L2NM-EVPN-SRTE-112-712\",\"fallback\":\"disable\"}}},\"signaling-options\":[{\"type\":\"vpn-common:t-ldp\",\"t-ldp-pwe\":{\"ac-pw-list\":[{\"peer-addr\":\"126.1.1.30\",\"vc-id\":\"712\",\"mpls-label\":712}]}}],\"vpn-network-accesses\":{\"vpn-network-access\":}}]},\"ietf-l2vpn-ntw-cisco-augmentations:service-assurance\":{\"monitoring-state\":\"disable\",\"preservation\":\"remove\",\"profile-name\":\"Silver_L2VPN_ConfigProfile system\",\"rule-name\":\"Rule-L2VPN-NM-P2P-Basic system\"}}}bmodify\u25922The only problem is for rhe service that is getting created newly with option as \"remove\" doesnt add the \"preservation\" option in the notificaion.we can sync up if needed.Thanks,Arun.M.GI did a quick test with L2 and you're correct. The default values are not returning. This seems to be the behavior for NSO. I have noticed that if you explicitly define the default preservation as \"remove\" in a newly created service the subscription will return the change. Are you able to move forward if you explicitly set preservation in the payload sent to NSO (this includes the default \"remove\" option as well )?Thanks,RegiI will try to mention explicitly from payload and let u know. our labs are down . if will be back on monday . once it is back, i will check and let you know. Hi Arun,Let me know if you were able to resolve your issue, so I can close this ticket.Thanks,RegiHi Reginald,Tried to create new service with preversation as Remove.attached payload.got the \"preservation\" option in the notification.snipper below from kafka.RIietf-l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service=L2NM-EVPN-VPWS-SRTE-604Z\u2592  {\"ietf-l2vpn-ntw:vpn-service\":{\"vpn-id\":\"L2NM-EVPN-VPWS-SRTE-604\",\"evi-id\":6,\"evi-source\":604,\"evi-target\":605,\"vpn-svc-type\":\"vpn-common:evpn-bgp\",\"vpn-nodes\":{\"vpn-node\":[{\"vpn-node-id\":\"ASR9901-SDN-30\",\"ne-id\":\"ASR9901-SDN-30\",\"te-service-mapping\":{\"te-mapping\":{\"sr-policy\":{\"policy\":\"L2NM-EVPN-SRTE-30-604\"}}},\"signaling-options\":,\"vpn-network-accesses\":{\"vpn-network-access\":}},{\"vpn-node-id\":\"NCS55A2-SDN-112\",\"ne-id\":\"NCS55A2-SDN-112\",\"signaling-options\":,\"vpn-network-accesses\":{\"vpn-network-access\":}}]},\"ietf-l2vpn-ntw-cisco-augmentations:service-assurance\":{\"monitoring-state\":\"enable\",\"preservation\":\"remove\",\"profile-name\":\"Gold_L2VPN_ConfigProfile system\",\"rule-name\":\"Rule-L2VPN-NM system\"}}}bmodify\u25922Thanks Arun. Since the issue is resolved. I'll go ahead and close this ticket."
    },
    {
        "title": "[RONCFPSD-215] NSO LSA check-sync behavior when one RFS goes down with a service deployed on the devices present on it ",
        "description": "Hi team,I have a question regarding the check-sync behavior on a LSA setup.I have 1CFS (cfs) and 2 RFS nodes(rfs-62 and rfs-63). I deployed one service on devices present only on rfs-62. Once service got deployed successfully, I did a ncs stop on that rfs(rfs-62)What should I expect when I perform check-sync on that deployed service?Thanks,Kanchan",
        "comments": "Are you doing a service check-sync or device check-sync?For a service check-sync, you should get an error message something along the lines of<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>admin@cfs-node> request l2vpn-ntw vpn-services vpn-service EVPN-MP-ELAN check-syncError: Failed to connect to device rfs-node-1: connection refused</pre></div></div>Device check-sync should behavior similarly<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>admin@cfs-node> request devices device rfs-node-1 config devices device PIOSXR-0 check-sync Error: Failed to connect to device rfs-node-1: connection refused</pre></div></div>Thanks,RegiI was looking for both. Thanks for all the details RegiThanks,KanchanThanks Kanchan. I will go ahead and close this ticket."
    },
    {
        "title": "[RONCFPSD-573] Fetching a single ODN template with restconf",
        "description": "Hi,Trying to get details for a single ODN template.When i try to hit the below URL,Getting all the templates. Need URL to get a single ODN templateThanks,Magesh",
        "comments": "Hello,A standard RESTCONF request looks as below to retrieve a single ODN template:curl -is -u admin:admin -H \"Accept: application/yang-data+xml\" Reached out to customer with the command, awaiting feedback.Customer confirmed that the Restconf command provided in the ticket works and the ticket can be closed.Closing ticket."
    },
    {
        "title": "[RONCFPSD-12] Not able to remove ONC provide ",
        "description": "UI+SSH: nso552/Public1234!LocalInstallation:/home/nso552/.0.0",
        "comments": "Could you please provide more details on the issue - like what operation you tried and which exact ONC device?Make sure to delete any other NSO services deployed on the ONC device you are trying to delete before deleting the device.Any updates on this ticket? As mentioned before delete all the NSO services deployed on this ONC device first including the service for subscribing to netconf notifications and then delete the ONC device.Closing the issue assuming no comments received afterward.No updates received so moving the issue to closed.Did you do anything ? "
    },
    {
        "title": "[RONCFPSD-163] L2VPN-SRV6 provisioning throws error message for resource pool name.",
        "description": "Hi Team,L2VPN-SRV6 provisioning throws below error message, Looks resource-pool attribute name need to add in the L2VPN-SRV6 payload, Wiki I don't see the payload with resource-pool, Please share the payload for L2VPN-SRV6 with resource pool name.\"",
        "comments": " Hi RageshI have attached the payload for L2VPN-SRV6 with resource pool name.Let us know if we may close the ticket.ThanksThanks Nikhil, You can close the ticket.Closing the ticket as the information has been provided."
    },
    {
        "title": "[RONCFPSD-349] How do we pass ingress/egress values while provisioning",
        "description": "Hi,While Provisioning Slice, how do we pass the ingress/egress values as json?Currently i'm passing like,\"ietf-network-slice-service-cisco:qos-catalog\": {    \"L3\": {      \"output-qos-policy\": [        {          \"name\": \"output-qos\"        }      ],      \"input-qos-policy\": [        {          \"name\": \"input-qos\"        }      ]    }  }Getting Error as below:\"error-message\": \"unknown element: qos-catalog in /ietf-nss:network-slice-services/ietf-nss:slice-service/ietf-nss-cisco:qos-catalog\"",
        "comments": "Please ignore this. Wrongly opened"
    },
    {
        "title": "[RONCFPSD-413] configuration is not pushed to device",
        "description": "10.195.165.90 - xrd1/xrd1 - NSO 6.0 - M4+L3VPN/L2VPN configuration is not pushed to device. Kindly help",
        "comments": " Hello, please let us know the error message being seen when pushing the payload.Hello,We have not received further updates on this ticket.Please let us know error message/setup info to troubleshoot ticket.If no response is received, ticket will be scheduled to close Friday (1/6).Regards,Janaki DuggiralaClosing ticket since no further response has been received from customer."
    },
    {
        "title": "[RONCFPSD-375] NSO Actions on Slicing Services",
        "description": "Can we apply NSO actions on transport slicing services?Actions like Check-SyncSync-FromSync-ToRe-Deploy Dry RunRe-DeployRe-Deploy ReconcileReactive-Re-DeployClean-upCan above the actions supported?",
        "comments": "Hi Magesh,Please refer the detailed documentation for more details including actions supported:Regards,Nishad Subair.Thanks Nishad"
    },
    {
        "title": "[RONCFPSD-361] Transport Slicing : Need restconf API reference for JSONRPC API",
        "description": "Hi,We need to show available shared slices while provisioning dedicated slice.And able to get available shared slices using below JSONRPC call .URL:https://<nso-ip>:<port>/crosswork/proxy/nso/jsonrpc/get_leafref_valuesPayload:{\"jsonrpc\":\"2.0\",\"id\":419,\"method\":\"get_leafref_values\",\"params\":{\"th\":2,\"path\":\"/ietf-nss:network-slice-services/slice-service{}/cisco-nss:shared/slice{}/service-id\",\"skip_grouping\":true,\"limit\":21}} Is it possible to do the same using RESTCONF API. We are not able to give empty braces {} in below restconf,https://<nso-ip>:<port>/crosswork/proxy/nso/restconf/data/ietf-network-slice-service:network-slice-services/slice-serviceThanks,Naveen",
        "comments": "Hi Naveenkumar,This restconf command would give you a list of slice-services that exist in NSOcurl --location --request GET 'http://<NSO_IP>:8080/restconf/data/ietf-network-slice-service:network-slice-services/slice-service' \\--header 'Content-Type: application/yang-data+json' \\--header 'Authorization: Basic YWRtaW46Q2lzY28xMjMj' \\--data-raw ' {}'Let me know if this works for youRegards,LinhHi Linh,We need slices whose isolation type is \"shared\", There is a way in get_leafref_values JSONRPC with below payload,{\"jsonrpc\":\"2.0\",\"id\":419,\"method\":\"get_leafref_values\",\"params\":{\"th\":2,\"path\":\"/ietf-nss:network-slice-services/slice-service{}/cisco-nss:shared/slice{}/service-id\",\"skip_grouping\":true,\"limit\":21}}As like JSONRPC , Is there equivalent RESTCONF API available ?Thanks,NaveenThe filter format in Restconf would be different. Please explore these documents to find the one that is working for you<ul>\t<li></li>\t<li></li>\t<li></li></ul>Thanks,Linh"
    },
    {
        "title": "[RONCFPSD-407] PATCH request not working for slice catalog",
        "description": "Hi,While updating a template, when we try to update qos catalogs, nothing happens. We receive \"204 No Content\" as response.Template which is to be editied:{\"ietf-network-slice-service:slo-sle-template\":[{\"id\":\"2222\",\"template-description\":\"222- descp\",\"cisco-network-slice-service:qos-policy\":{\"L2\":{\"input-policy\":\"input-policy\",\"output-policy\":\"output-policy\"},\"L3\":{\"input-policy\":\"input-policy\",\"output-policy\":\"output-policy\"}}}]}Below we're removing the L2: input-policy from the payload.URL:https://<host>:<port>/crosswork/proxy/nso/restconf/data/ietf-network-slice-service:network-slice-services/slo-sle-templates/slo-sle-template=2222Payload: {\"ietf-network-slice-service:slo-sle-template\":[{\"id\":\"2222\",\"template-description\":\"222- descp\",\"cisco-network-slice-service:qos-policy\":{\"L2\":{\"output-policy\":\"output-policy\"},\"L3\":{\"input-policy\":\"input-policy\",\"output-policy\":\"output-policy\"}}}]}Its not affecting the NSO and no update happens",
        "comments": "Hi Magesh, When slo-sle-template is updated after the slice-service is already push to the device. CFP will not automatically update slice-service. You need to re-deploy manually the slice-service to see the effect. That is by design by CFPThanks,LinhHi Linh,I do believe template is not pushed to device , only slice is pushed to device.If template is not used by any slice then it should be possible to edit the QoS params in template. Please let us know whether it is designed in such a way.Kindly let us know attributes which are not possible edit once template is created because I could see we are able to edit the description.Thanks,NaveenHi Naveen,If you want to delete input-policy, you should not use PATCH. Please review this document on PATCHThis is the restconf command to delete input-policycurl --location --request DELETE 'http://<nso_ip>:8080/restconf/data/ietf-network-slice-service:network-slice-services/slo-sle-templates/slo-sle-template=P2P/cisco-network-slice-service:qos-policy/L2/input-policy' \\--header 'Content-Type: application/yang-data+xml' \\--header 'Authorization: Basic YWRtaW46Q2lzY28xMjMj' \\--data-raw ''Thanks,LInhHi Linh,I am able to change the Qos Policy in template whereas only removal of QoS policy is not working.I think it is NSO bug which has to be handled .If NSO is able to change the value of QoS internally then it should handle the removal also internally.Thanks,NaveenThat is how PATCH request does. It is not NSO bug. It is PATCH request behavior. PATCH request works like a merge operation and it would not remove the entry. I am able to delete qos-policy if I use DELETE request-LinhHi Linh,Got it , I could see PUT request is able to handle all the cases.Kindly let know whether there will be any impact to Slice if we make PUT request on template.Thanks,NaveenThe behavior is expected for PATCH request"
    },
    {
        "title": "[RONCFPSD-360] mVPN is missing in VPN Node Level ",
        "description": "Model is missing in VPN Node Level Server Details: admin/adminssh: nso576/Public1234!NSO Folder: /home/nso576/.0.0Using : nso-5.7.6-tsdn-5.0.0-M3.tar.gz ",
        "comments": "This leaf node is not being used.Hi Evgeny, multicast -> enabled flag is not being used as part MVPN configuration for now. Enabling that flag would not enable the parameters under vpn-node. The user is expected to configure the vpn-service with the right mvpn config to enable the options under vpn-node.Hi Sahithi, I think this is not we meant. If you look at the model you ad published back at the time in this wiki page, Static Tree SID configuration is divided in to two parts (See attached picture).1. Part one - On VPN node level, where you assign a certain VPN node with static Tree SID policy 2. Part Two - On service level We are missing in published model the \"Part One\"Thank you so much for your assistance, problem solved "
    },
    {
        "title": "[RONCFPSD-406] NSO 5.7 M4 FRR enable resulting error",
        "description": "Hi Sahiti, Van,We have NSO 5.X + M4 CFP on one set upAfter service with RSVP TE tunnel was created, we wanted to enable FRR stateIt have following errorXR team had mentioned in past that PCE delegation should be removed from tunnelSo we did that and did Device->NSO sync as well.But still the Flex UI giving following errorCan someone help? Here is testbed details and tunnel between AA-NCS5501-1 and AA-NCS5501-2I have opened JIRA as wellThx,Vaishali ",
        "comments": "Hi Vaisali, Sorry I don't get your issue. Can you provide your service payload? Is FRR option available from CFP? Is this feature working in previous release?What is error message that you saw in NSO?Thanks,Linh1) yes FRR support is added in CFP M2 itself2) Service payload is like this which created similar tunnel 221<data xmlns=\"urn:ietf:params:xml:ns:yang:ietf-restconf\">  <te xmlns=\"urn:ietf:params:xml:ns:yang:ietf-te\"\txmlns:y=\"http://tail-f.com/ns/rest\"\txmlns:te=\"urn:ietf:params:xml:ns:yang:ietf-te\" xmlns:te-types=\"urn:ietf:params:xml:ns:yang:ietf-te-types\">    <tunnels xmlns=\"urn:ietf:params:xml:ns:yang:ietf-te\" xmlns:te=\"urn:ietf:params:xml:ns:yang:ietf-te\">      <tunnel>        <name>L2VPN_NM-P2P-RSVPTE-AA-NCS5501-1-221</name>        <identifier>221</identifier>        <description>L2VPN_NM-P2P-RSVPTE-AA-NCS5501-1-221</description>        <head-end xmlns=\"http://cisco.com/ns/nso/fp/examples/cisco-te\">AA-NCS5501-1</head-end>        <tail-end xmlns=\"http://cisco.com/ns/nso/fp/examples/cisco-te\">AA-NCS5501-3</tail-end>        <source>100.100.100.2</source>        <destination>100.100.100.6</destination>        <signaling-type>te-types:path-setup-rsvp</signaling-type>        <primary-paths>          <primary-path>            <name>L2VPN_NM-P2P-RSVPTE-AA-NCS5501-1-221</name>            <path-computation-method xmlns:te-types=\"urn:ietf:params:xml:ns:yang:ietf-te-types\">te-types:path-externally-queried</path-computation-method>            <optimizations>              <optimization-metric>                <metric-type>te-types:path-metric-igp</metric-type>              </optimization-metric>            </optimizations>            <preference>1</preference>          </primary-path>        </primary-paths>      </tunnel>      <tunnel>        <name>L2VPN_NM-P2P-RSVPTE-AA-NCS5501-3-221</name>        <identifier>221</identifier>        <description>L2VPN_NM-P2P-RSVPTE-AA-NCS5501-3-221</description>        <head-end xmlns=\"http://cisco.com/ns/nso/fp/examples/cisco-te\">AA-NCS5501-3</head-end>        <tail-end xmlns=\"http://cisco.com/ns/nso/fp/examples/cisco-te\">AA-NCS5501-1</tail-end>        <source>100.100.100.6</source>        <destination>100.100.100.2</destination>        <signaling-type>te-types:path-setup-rsvp</signaling-type>        <primary-paths>          <primary-path>            <name>L2VPN_NM-P2P-RSVPTE-AA-NCS5501-3-221</name>            <path-computation-method xmlns:te-types=\"urn:ietf:params:xml:ns:yang:ietf-te-types\">te-types:path-externally-queried</path-computation-method>            <optimizations>              <optimization-metric>                <metric-type>te-types:path-metric-igp</metric-type>              </optimization-metric>            </optimizations>            <preference>1</preference>          </primary-path>        </primary-paths>      </tunnel>    </tunnels>  </te>  <l2vpn-ntw xmlns=\"urn:ietf:params:xml:ns:yang:ietf-l2vpn-ntw\">    <vpn-services>      <vpn-service>        <vpn-id>L2VPN_NM_P2P_RSVPTE-221</vpn-id>        <vpn-type>vpn-common:vpws</vpn-type>        <vpn-nodes>          <vpn-node>            <vpn-node-id>AA-NCS5501-3</vpn-node-id>            <te-service-mapping xmlns=\"http://cisco.com/ns/nso/fp/examples/cisco-l2vpn-ntw\">              <te-mapping>                <te-tunnel-list>                  <ietf-te-service>L2VPN_NM-P2P-RSVPTE-AA-NCS5501-3-221</ietf-te-service>                  <fallback>disable</fallback>                </te-tunnel-list>              </te-mapping>            </te-service-mapping>            <signaling-option>              <ldp-or-l2tp>                <pw-peer-list>                  <peer-addr>100.100.100.2</peer-addr>                  <vc-id>221</vc-id>                  <mpls-label xmlns=\"http://cisco.com/ns/nso/fp/examples/cisco-l2vpn-ntw\">221</mpls-label>                </pw-peer-list>              </ldp-or-l2tp>            </signaling-option>            <vpn-network-accesses>              <vpn-network-access>                <id>221</id>                <interface-id>GigabitEthernet0/0/0/0</interface-id>                <connection>                  <encapsulation>                    <encap-type>vpn-common:dot1q</encap-type>                    <dot1q>                      <cvlan-id>221</cvlan-id>                    </dot1q>                  </encapsulation>                </connection>              </vpn-network-access>            </vpn-network-accesses>          </vpn-node>          <vpn-node>            <vpn-node-id>AA-NCS5501-1</vpn-node-id>            <te-service-mapping xmlns=\"http://cisco.com/ns/nso/fp/examples/cisco-l2vpn-ntw\">              <te-mapping>                <te-tunnel-list>                  <te-tunnel-id>221</te-tunnel-id>                </te-tunnel-list>              </te-mapping>            </te-service-mapping>            <signaling-option>              <ldp-or-l2tp>                <pw-peer-list>                  <peer-addr>100.100.100.6</peer-addr>                  <vc-id>221</vc-id>                  <mpls-label xmlns=\"http://cisco.com/ns/nso/fp/examples/cisco-l2vpn-ntw\">221</mpls-label>                </pw-peer-list>              </ldp-or-l2tp>            </signaling-option>            <vpn-network-accesses>              <vpn-network-access>                <id>1</id>                <interface-id>GigabitEthernet0/0/0/0</interface-id>                <connection>                  <encapsulation>                    <encap-type>vpn-common:dot1q</encap-type>                    <dot1q>                      <cvlan-id>221</cvlan-id>                    </dot1q>                  </encapsulation>                </connection>              </vpn-network-access>            </vpn-network-accesses>          </vpn-node>        </vpn-nodes>      </vpn-service>    </vpn-services>  </l2vpn-ntw></data> Hi Vaisali,I applied your payloads to my setup. They are working fine l2vpn xconnect and te-tunnel 221 are up.RP/0/RSP0/CPU0:PE3#show l2vpn xconnect group L2VPN_NM_P2P_RSVPTE-221Thu Dec 8 18:43:17.189 UTCLegend: ST = State, UP = Up, DN = Down, AD = Admin Down, UR = Unresolved,    SB = Standby, SR = Standby Ready, (PP) = Partially Programmed,    LU = Local Up, RU = Remote Up, CO = Connected, (SI) = Seamless InactiveXConnect          Segment 1            Segment 2        Group   Name    ST  Description      ST    Description      ST  ------------------------  -----------------------------  -----------------------------L2VPN_NM_P2P_RSVPTE-221      L2VPN_NM_P2P_RSVPTE-221           UP  Hu0/0/0/4.221     UP    100.100.100.6  221  UP  ----------------------------------------------------------------------------------------RP/0/RSP0/CPU0:PE3#show mpls traffic-eng tunnels name L2VPN_NM-P2P-RSVPTE-AA-NCS5501-3-221Thu Dec 8 18:38:44.494 UTCLSP Tunnel 100.100.100.6 221 is signalled, Signaling State: up Tunnel Name: L2VPN_NM-P2P-RSVPTE-AA-NCS5501-3-221 Tunnel Role: Tail InLabel: HundredGigE0/0/0/0, implicit-null Signalling Info:  Src 100.100.100.6 Dst 100.100.100.5, Tun ID 221, Tun Inst 3, Ext ID 100.100.100.6  Router-IDs: upstream  100.100.100.1        local   100.100.100.5  Bandwidth: 0 kbps (CT0) Priority: 7 7 DSTE-class: 0  Soft Preemption: None  SRLGs: not collected  Path Info:   Incoming Address: 10.10.10.10   Incoming:   Explicit Route:    Strict, 10.10.10.10    Strict, 100.100.100.5   Record Route: Disabled   Tspec: avg rate=0 kbits, burst=1000 bytes, peak rate=0 kbits   Session Attributes: Local Prot: Not Set, Node Prot: Not Set, BW Prot: Not Set             Soft Preemption Desired: Not Set  Resv Info: None   Record Route: Disabled   Fspec: avg rate=0 kbits, burst=1000 bytes, peak rate=0 kbitsDisplayed 0 (of 2) heads, 0 (of 0) midpoints, 1 (of 1) tailsDisplayed 0 up, 0 down, 0 recovering, 0 recovered headsI am not sure these are operation status that you looked at. Please let me knowRegards,LinhThere is no update from subimitter. I am going to close the ticketRegards,Linh"
    },
    {
        "title": "[RONCFPSD-412] Does explicit path is applicable to Circuit Style policy ?",
        "description": "Hi,It looks like by definition Circuit Style policy can only have delegated path and it is suppose to have only dynamic path with Bi-Dir association ID.It looks like NSO model has provision to support both dynamic as well as explicit.Kindly let us know whether explicit path is supported for Circuit Style.Thanks,Naveen",
        "comments": "Hello, Yes it is supported. Pasted below is a sample payload + wiki page that can provide further guidance.Please let me know if this helps.Thank you.Regards,Janaki DuggiralaReceived confirmation from Naveen that ticket maybe closed and no further assistance required.If any further issues are encountered, please open a new ticket for the issue.Received confirmation from Naveen that ticket maybe closed and no further assistance required.If any further issues are encountered, please open a new ticket for the issue."
    },
    {
        "title": "[RONCFPSD-374] cant retrieve l3vpn plan",
        "description": "noticed there is new path for the plan of l3vpn. we are not able to perform fetch of it. this is the query we use usually:but it doesnt work - can you please specify the new path we should use? Thanks",
        "comments": "Hi Idan,This is new URLhttp://<tt>NSO</tt>:8888/restconf/data/ietf-l3vpn-ntw:l3vpn-ntw/vpn-services/cisco-l3vpn-ntw:vpn-service-plan=?offset=0;limit=100;depth=5Thanks,Linhthanks! working good now. Provided the current URL"
    },
    {
        "title": "[RONCFPSD-348] Transport Slicing - Need possible values for hub-rt & spoke-rt",
        "description": "When we tried to provide the value for hub-rt ; spoke-rt in conneciton groups it resulted in below error,{  \"ietf-restconf:errors\": {    \"error\": [      {        \"error-type\": \"application\",        \"error-tag\": \"malformed-message\",        \"error-path\": \"/ietf-network-slice-service:network-slice-services\",        \"error-message\": \"invalid value for: hub-rt in /ietf-nss:network-slice-services/ietf-nss:slice-service[ietf-nss:service-id='Test-Dedic-530']/ietf-nss:connection-groups/ietf-nss:connection-group[ietf-nss:connection-group-id='Default']/ietf-nss-cisco:vpn-target/ietf-nss-cisco:hub-rt: \\\"import\\\" is an invalid value.\"      }    ]  }}Kindly let us know the possible values.Thanks,Naveen",
        "comments": "Hi Naveen,hub-rt and spoke-rt for NSS has the following type definition:<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\">typedef route-distinguisher { type string {  pattern     +     +     +     +     +     +     +     +     +   +     +     +     +     +     +   +     +     +     +     +     +     +     +   ;  tailf:info \"0:2-octet-asn:4-octet-number         1:4-octet-ipv4addr:2-octet-number         2:4-octet-asn:2-octet-number\"; }}</pre></div></div>So the input for these hub-rt and spoke-rt should be in the following format:<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\">0:2-octet-asn:4-octet-number 1:4-octet-ipv4addr:2-octet-number 2:4-octet-asn:2-octet-number</pre></div></div>Let me know if you have any other questions.Thanks,Isaac KimHi Issac,Can you provide one sample value.Thanks,NaveenHi Naveen,One example value can be \"0:65001:100\"Thanks,Isaac Kim"
    },
    {
        "title": "[RONCFPSD-162] Clarificaion on NSO version link for TSDN 4.0.0 M3",
        "description": "Hi ,in the confluence page, TSDn 4.0.0 M3 release notes or system install., we dont see the 5.7.2.1 installer.bin file link . can u please update the location for every release if there is change in NCS version. And in the system install, it is mentioned as 5.5.2.9 , it is really confusing having different info in different places.\"Get the nso-5.5.2.9 bin installer file from CCO\" in Since the NSO version is not same for standalone and LSA , Please update this link that reflects the proper NCS version for Standalone and LSA .NSO version for LSA : NSO Version : 5.7.1.1 .please provide the link for installer.bin file for this.And please provide the link for nso-5.7.1.1-tsdn-4.0.0-M3.tar.gz for LSA installation. ",
        "comments": "Hi Arun1. Please download the bin installer file from CCO. Below is the path for nso 5.7.2.12. We've deleted that internal system installation page. Please refer to the below link for any installation related information.3. The NSO version is same for standalone and LSA. It's 5.7.2.1 for both of them. We have updated the LSA wiki pages to reflect the same. Please refer to the below link.4. Below is the link for standalone and LSA installation:5. Once you extract the above tar file, you'll see the directories each for standalone and LSA. Below is the structure:<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\">$ tar -xf nso-5.7.2.1-tsdn-4.0.0-M3.tar.gz $ cd nso-5.7.2.1-tsdn-4.0.0-M3 $ ls -l -rw-r--r--. 1 cisco ncsadmin 67458 Mar 9 15:18 CHANGES -rwxr-xr-x. 1 cisco ncsadmin 23014 Mar 9 15:18 get_technical_support_data.sh drwxr-xr-x. 5 cisco ncsadmin 76 Mar 9 15:18 tsdn drwxr-xr-x. 4 cisco ncsadmin 46 Mar 9 15:18 tsdn-lsa</pre></div></div>Let us know if you need anything else or we are good to close the ticket.Thanks.Closing the ticket as the required information has been provided."
    },
    {
        "title": "[RONCFPSD-13] Service Plan stuck inthe middle , no indication of what is wrong ",
        "description": "UI+SSH: nso552/Public1234!LocalInstallation:/home/nso552/.0.0",
        "comments": "Please provide ned/device logs.The logs are on the server, Server details provided . Please look up yourselfPython VM debug mode enabled 10.56.58.145UI+SSH: nso552/Public1234!LocalInstallation:/home/nso542/.0.0/logsSorry, provided wrong server 10.56.58.197nso552/Public1234!Installation:/home/nso552/.0.0/logsThe service is struck because of an ONC ned error. The service-interface-point information available on the ONC is not synced into NSO and because of a defect in the ONC ned the optical-only service deployment (BOTTOMLEFT_BOTTOMRIGHT_400_TR_OLS) has failed. I will close ticket and open an internal ticket for the team to work on.Workaround: sync the ONC device into the NSO every time new SIPs are added."
    },
    {
        "title": "[RONCFPSD-189] LSA setup found issues",
        "description": "I recently installed NSO FP 5.7.2.1-M4 LSA setup and seesome issues:On RFS nodes, when running command show packages package I see error in   some packages:When provisioning an L2 native service I get error message: <error-message>RPC\u00a0error\u00a0towards\u00a0nso-ucs-haim1-vm2:\u00a0operation_failed:\u00a0for\u00a0/cisco-flat-L2vpn-fp-internal-remote-site:flat-L2vpn-internal-remote-site-service:\u00a0/flat-L2vpn-internal-remote-site-service:\u00a0Python\u00a0cb_validate\u00a0error.\u00a0item\u00a0does\u00a0not\u00a0exist\u00a0(1):\u00a0The\u00a0template\u00a0file\u00a0cisco-flat-L2vpn-fp-rr-parent-route-policy\u00a0has\u00a0not\u00a0been\u00a0loaded.</error-message>When provisioning an L3VPN service I get error message: <error-message>RPC\u00a0error\u00a0towards\u00a0nso-ucs-haim1-vm2:\u00a0operation_failed:\u00a0RPC\u00a0error\u00a0towards\u00a0PE-A:\u00a0operation_failed:\u00a0for\u00a0ns1:router/ns1:bgp/ns1:as/ns1:vrfs/ns1:vrf/ns1:address-families/ns1:address-family/ns1:af-name:\u00a0'BGP'\u00a0detected\u00a0the\u00a0'warning'\u00a0condition\u00a0'The\u00a0parent\u00a0address\u00a0family\u00a0has\u00a0not\u00a0been\u00a0initialized'</error-message>",
        "comments": "Hi Shlomi,Thanks for reaching out to us.From the screenshot, it seems you didn't load the required packagecisco-iosxr-cli-7.38 (ncs-5.7.1-cisco-iosxr-7.38.6.tar.gz). What's the ned-id you set for the device \"PE-A\"?All the devices on the setup were added with NED ID cisco-iosxr-nc-7.3. If I need to use cisco-iosxr-nc-7.38 for all devices in the setup or just some?Also, isn't the attached error indicate failure on installed packages on the RFS node? I compared the packages on the RFS to those specified on the wiki, and found nothing missing.Hi Shlomi,cisco-iosxr-cli-7.38 NED is a required package for TSDN even you are only usingcisco-iosxr-nc-7.3 NED for your devices. The attached error also indicates the same, because the only \"supported-ned-id\" iscisco-iosxr-cli-7.38. You just need to addcisco-iosxr-cli-7.38 to your RFS node and reload packages and don't need to modify any of your devices.Hi,This seems to fix the issue of the error in the NED package and all packages appear to be loaded correctly and up.Now a new issue has come up: almost all the services I'm trying to deploy appear as 'in-progress' in CW UI and seem to have only partially successful plan. Can someone please take a look at the setup and advise?nso-ucs-haim1-vm1 (10.56.58.44) CFSnso-ucs-haim1-vm2 (10.56.58.122) RFS1nso-ucs-haim1-vm3 (10.56.58.128) RFS2Hi Shlomi,I have checked your RFS1 \"nso-ucs-haim1-vm2 (10.56.58.122)\" node and found that the bootstrap data *-internal-plan-monitor.xml are not loaded and that may be the root cause for services getting stuck at not-reached state.Please try to follow And you should see:% configure% unhide debug% show rfs-monitor-pathrfs-monitor-path /cisco-flat-L2vpn-fp-internal-local-site:flat-L2vpn-internal-local-site/cisco-flat-L2vpn-fp-internal-local-site:flat-L2vpn-plan;rfs-monitor-path /cisco-flat-L2vpn-fp-internal-remote-site:flat-L2vpn-internal-remote-site/cisco-flat-L2vpn-fp-internal-remote-site:flat-L2vpn-plan;rfs-monitor-path /cisco-flat-L2vpn-fp-internal-site:flat-L2vpn-internal-site/cisco-flat-L2vpn-fp-internal-site:flat-L2vpn-plan;rfs-monitor-path /cisco-flat-L3vpn-fp-internal:flat-L3vpn-internal/cisco-flat-L3vpn-fp-internal:flat-L3vpn-plan;rfs-monitor-path /cisco-rsvp-te-fp:rsvp-te/tunnel-te-plan;rfs-monitor-path /cisco-sr-te-cfp-internal:sr-te/cisco-sr-te-cfp-sr-odn-internal:odn/cisco-sr-te-cfp-sr-odn-internal:odn-template-plan;rfs-monitor-path /cisco-sr-te-cfp-internal:sr-te/cisco-sr-te-cfp-sr-policies-internal:policies/cisco-sr-te-cfp-sr-policies-internal:policy-plan;After that you may try to recreate the services. Please let me know if you are still facing any issue.Hi LinmaoThis indeed fixed the issue and services are now successfully deployed with full plans.I'm still not sure what could have happened to cause the missing bootstrap data. I'm pretty sure these commands were previously entered, as they were also in the other RFS node. Any ideas what could have caused this?You may close this JIRA case.Thanks for confirming the issue is resolved!It seems that the bootstrap setting was deleted via webui at around 31-Mar-2022::09:54:29.830 UTC time."
    },
    {
        "title": "[RONCFPSD-214] Invalid namespace prefix: cisco-flat-L2vpn-fp",
        "description": "admin@ncs> show packages package package-version               PACKAGENAME             VERSION---------------------------------------------cisco-ios-cli-6.80      6.80.1cisco-iosxr-cli-7.38     7.38.6cisco-iosxr-nc-7.3      7.3.2cisco-nso-nc-5.7       5.7cisco-sr-te-cfp        4.0.0cisco-tm-tc-fp        4.3.0-98cisco-tsdn-core-fp-common   4.0.0core-fp-common        1.30.0core-fp-plan-notif-generator 1.0.6custom-template-utils     2.0.8custom-template-utils-ned   1.0cw-device-auth        4.1.1cw-dlm-fp           4.3.0-nso-5.7lsa-utils           1.0.0tm-tc-multi-vendors      4.3.0-98admin@ncs>admin@nso:~$ ncs --version5.7.2.1admin@nso:~$with above following packagesseeing below error while load merge of config filesadmin@ncs> configureEntering configuration mode privateadmin@ncs% unhide debugadmin@ncs% load merge SR-status-codes.xmladmin@ncs% load merge RSVP-TE-status-codes.xmladmin@ncs% load merge L3VPN-status-codes.xmladmin@ncs% load merge L2VPN-status-codes.xmladmin@ncs% load merge IETF-TE-status-codes.xmladmin@ncs% load merge IETF-L3NM-status-codes.xmladmin@ncs% load merge IETF-L2NM-status-codes.xmladmin@ncs% commitCommit complete.admin@ncs% load merge SR-plan-notification-settings.xmladmin@ncs% load merge L3VPN-plan-notification-settings.xmladmin@ncs% load merge L2VPN-plan-notification-settings.xmladmin@ncs% load merge IETF-TE-plan-notification-settings.xmladmin@ncs% load merge IETF-L3NM-plan-notification-settings.xmladmin@ncs% load merge IETF-L2NM-plan-notification-settings.xmladmin@ncs% commitAborted: 'kickers data-kicker plan-notification-kicker-/cisco-flat-L2vpn-fp:flat-L2vpn-plan monitor': Invalid namespace prefix: cisco-flat-L2vpn-fp",
        "comments": "You are missing 'cisco-flat-L2vpn-fp' package.Thanks,Regithanks, now the CFS node is setup, i am seeing issue in setting RFS node.10.64.96.206 admin/Crosswork123!admin@nso-cluster-6:~$ cd nso-5.7.2.1-tsdn-4.0.0-M4/tsdn-lsa/tsdn-lsa-rfs/bootstrap-data/admin@nso-cluster-6:~/nso-5.7.2.1-tsdn-4.0.0-M4/tsdn-lsa/tsdn-lsa-rfs/bootstrap-data$ ncs_cliadmin connected from 64.103.219.103 using ssh on nso-cluster-6admin@ncs> configureEntering configuration mode privateadmin@ncs% load merge SR-status-codes.xmlError: on line 2: unknown element: status-code-cfp in /cfp-common-status-codes:status-code-cfpadmin@ncs% load merge SR-internal-plan-monitor.xmladmin@ncs% load merge RSVP-TE-status-codes.xmlError: on line 2: unknown element: status-code-cfp in /cfp-common-status-codes:status-code-cfpadmin@ncs% load merge RSVP-TE-internal-plan-monitor.xmladmin@ncs% load merge rfs-custom-template-settings.xmladmin@ncs% load merge L3VPN-status-codes.xmlError: on line 2: unknown element: status-code-cfp in /cfp-common-status-codes:status-code-cfpadmin@ncs% load merge L3VPN-internal-plan-monitor.xmladmin@ncs% load merge L2VPN-status-codes.xmlError: on line 2: unknown element: status-code-cfp in /cfp-common-status-codes:status-code-cfpadmin@ncs% load merge L2VPN-internal-plan-monitor.xmladmin@ncs% load merge dispatch-map-settings.xmladmin@ncs% load merge commit-queue-settings.xmladmin@ncs% load merge bootstrap-autopopulate-dispatch.xmladmin@ncs% commitadmin@ncs% exitThere are uncommitted changes.Discard changes and continue? yesadmin@ncs> exitadmin@nso-cluster-6:~/nso-5.7.2.1-tsdn-4.0.0-M4/tsdn-lsa/tsdn-lsa-rfs/bootstrap-data$ lsL2VPN-internal-plan-monitor.xml RSVP-TE-internal-plan-monitor.xml bootstrap-autopopulate-dispatch.xmlL2VPN-status-codes.xml      RSVP-TE-status-codes.xml      commit-queue-settings.xmlL3VPN-internal-plan-monitor.xml SR-internal-plan-monitor.xml    dispatch-map-settings.xmlL3VPN-status-codes.xml      SR-status-codes.xml        rfs-custom-template-settings.xmladmin@nso-cluster-6:~/nso-5.7.2.1-tsdn-4.0.0-M4/tsdn-lsa/tsdn-lsa-rfs/bootstrap-data$ ncs_cliUser admin last logged in 2022-04-13T04:46:29.105763+00:00, to nso-cluster-6, from 64.103.219.103 using cli-sshadmin connected from 64.103.219.103 using ssh on nso-cluster-6admin@ncs> show packages package package-version               PACKAGENAME             VERSION---------------------------------------------cisco-flat-L2vpn-fp-internal 4.0.0cisco-flat-L3vpn-fp-internal 4.0.0cisco-ios-cli-6.77      6.77.9cisco-ios-cli-6.80      6.80.1cisco-iosxr-cli-7.38     7.38.6cisco-iosxr-nc-7.3      7.3.2cisco-iosxr-nc-7.315     7.315cisco-iosxr-nc-7.4      7.4.2cisco-iosxr-nc-7.5      7.5.1cisco-rsvp-te-fp       4.0.0cisco-sr-te-cfp-internal   4.0.0cisco-tm-tc-fp        4.3.0-98cisco-tsdn-core-fp-common   4.0.0core-fp-common        1.30.0core-fp-delete-tag-service  1.0.5core-fp-plan-notif-generator 1.0.6custom-template-utils     2.0.8cw-device-auth        4.1.1cw-dlm-fp           4.3.0-nso-5.7flat-l2vpn-multi-vendors   4.0.0flat-l3vpn-multi-vendors   4.0.0lsa-utils           1.0.0rsvp-te-multi-vendors     4.0.0sr-te-multi-vendors      4.0.0tm-tc-multi-vendors      4.3.0-98Hi Ajitha,It seems you are skipping some steps as you are missing \"unhide debug\". Please follow RFS installation wiki: .Thanks,RegiHi Ajitha,Please let me know by EOD today if you have further issues; otherwise, I will go ahead and close this ticket.Thanks,RegiClosing this ticket since original issue was resolved and there are not additional queries from the submitter"
    },
    {
        "title": "[RONCFPSD-572] steps to make CNC to function after change management IP on device",
        "description": "There is an use case comes for management IP address change on device. What are the steps for CNC to handle this.On CNC side, user may need to update device info manually on Device management page.Question is what extra steps needs to be done on NSO to make all 3 components (CNC, Device, NSO) are in sync. Thanks.",
        "comments": "Hi Crystal,Is the requirement just for the mgmt ip change?Can we consider rest of the data related to device will stay the same i.e. configs ?ThanksSahithiHi Sahithi,Yes, just the mgmt ip change. Rest of the config on the device stay the same.Thanks.-Crystal"
    },
    {
        "title": "[RONCFPSD-566] Unable to create L2P2P in Drop 8",
        "description": "Hi,I am unable to create L2 P2P in drop 8 and gives me below error in NSO UI.errors: reason: illegal reference. paths: /l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service{NSS-L2-P2P-internal}/vpn-nodes/vpn-node{xrv9k-23}/cisco-l2vpn-ntw:te-service-mapping/te-mapping/odn/route-policy. path: /l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service{NSS-L2-P2P-internal}/vpn-nodes/vpn-node{xrv9k-23}/cisco-l2vpn-ntw:te-service-mapping/te-mapping/odn/route-policySetup:172.27.226.127 (nso/Vtsisco@123!)ThanksNaveen",
        "comments": " Thank you for the ticket. Investigating.Connected with the submitter and fixed the issue. The slo-sle-template was missing the forwarding-plane-policy which references to a odn policy. After adding the same, we were successfully able to create the service."
    },
    {
        "title": "[RONCFPSD-200] RFS Detach Steps",
        "description": "Hi Team,I have tried removing one of my RFS node manually from CFS CLI using the following CMD:admin@ncs% delete cluster remote-node rfs-3Output:admin@ncs% run show cluster connectionREMOTE                 LOCAL REMOTENODE  ADDRESS    PORT CHANNELS USER  USER  STATUS TRACE------------------------------------------------------------------------rfs-2  10.194.57.180 2022 -     admin admin  up   disabledrfs-1  10.194.57.13  2022 -     admin admin  up   disabledBit, from the CFS-UI I could still able to see the rfs-3 and also able to perform check-sync successful.Please help to share the complete detach steps if any.NSO version: 5.7.2.1TSDN cfp: 4.0.0 M4Thanks,Dinesh",
        "comments": "Closing the ticket as the below cmd helped in removing the RFS node completely.admin@ncs% delete devices device rfs-3Thanks,Dinesh"
    },
    {
        "title": "[RONCFPSD-228] NSO LSA HA Wiki Guide",
        "description": "Hi Team,Please help to share NSO LSA HA Installation Wiki guide.Thanks,Dinsh",
        "comments": "Please follow NSO documentation for NSO HA installation: Thank you for the given references.The ticket can be closed."
    },
    {
        "title": "[RONCFPSD-558] JWT Auth file update for Crosswork",
        "description": "As per link,We need to use cert.pem and crosswork.pem filesBut, there is no cert.pem file under /home/cisco .Also, the file download from crosswork is not \"crosswork.pem\" it is crosswork.cerWould you please suggest from where we can get this cert.pem and crosswork.pem files.Also, the new Drop 7, jwt auth link does not have an example for using crosswork fqdn name instead of ip address. Kindly suggest/update the field changes needed for using fqdn name in place of crosswork ip address.",
        "comments": "Hi Ajitha, You should be able to download certificate from browser and save it in pem formatThe fqdn related changes are updated here: PLMK if this helps or if anyother info is required"
    },
    {
        "title": "[RONCFPSD-570] NSO 6.0 M9 drop: Same revision dates was used for cisco-rsvp-te-fp.yang",
        "description": "cisco-rsvp-te-fp.yang has two Revisions with the same dates: revision 2023-05-04 {  description \"Modified default value for iosxr-default-ned-id to cisco-iosxr-cli-7.52\"; } revision 2023-05-04 {  description \"Modified default value for iosxr-default-ned-id to cisco-iosxr-cli-7.49\"; }",
        "comments": "Hi Quy,Thanks for pointing this out. This is a typo, we will update the revision date and it will be released as part of next drop.Thanks,NikhilRevision date will be fixed and will be release with the next build drop."
    },
    {
        "title": "[RONCFPSD-216] Customized NSO FP not operationally up",
        "description": "Customized NSO FP not operationally up in 10.195.165.75 - xrd1/xrd1",
        "comments": "Kindly guide to troubleshoot furtherCan you please share a copy of the customized packages?Copied the files below.i copied them in /var/opt/ncs/packages as well - my-l2vpn.tar.gz, my-l3vpn.tar.gz, my-sr-policy.tar.gz.  Hi Reginald, As discussed, the attached tar file doesn't have any hidden file under template folder. But it introduces a hidden file in /var/opt/ncs/packages. Kindly check and adviceClosing this ticket. It seem packages were not tar'ed properly. There are a lot of \"._\" prefixed files. This article seems related to the issue: "
    },
    {
        "title": "[RONCFPSD-202] Provisioning Service from CAT UI throws error \" server didnot respond to the request within 25 sec\"",
        "description": "Hi,While trying to provision l2vpn p2p srte service from CNC UI , facing the commit error \"service did not respond to the request within 25 seconds\".",
        "comments": "payload atatched Hello Arun,I would need more information to RCA this issue.Would you be able to provide ssh credentials to your NSO node so I can check a few things? I will not modify anything.Thanks,Isaac KimHi Isaac,NSO: 10.56.116.240 ( nso/Public1234!)Thanks,Arun.M.GHi Arun,I can see in your logs the following:<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\">% Failed to commit one or more configuration items during a pseudo-atomic operation. All changes made have been reverted.!! SEMANTIC ERRORS: This configuration was rejected by!! the system due to semantic errors. The individual!! errors with each failed configuration command can be!! found below.l2vpnxconnect group L2NM-P2p-SRTE-742 p2p L2NM-P2p-SRTE-742 neighbor ipv4 126.1.1.30 pw-id 742 mpls label local 742 remote 753!!% Invalid argument: Remote label already assigned to neighbor ! !!!end</pre></div></div>It seems like NED error : \"Remote label already assigned to this neighbor\".It seems like later, there was a service update made to this service \"L2NM-P2p-SRTE-742\" and the plan became reached.Could you confirm the following?<ol>\t<li>Did service provisioning show failed status when checking CNC UI after the timeout?</li>\t<li>Did service update make service go into provisioned state?</li>\t<li>Are you using CQ or no-CQ commits for these operations? I assume no-CQ was used which caused all changes to be reverted. This makes more sense in regards to the current plan status which is reached with a service update.</li></ol>Thanks,Isaac KimHi Isaac,yes. there was a commit failed due to the below mentioned label conflict. i have corrected after that.but sometime, even for proper service also, we are facing the commit error for time out.below are the answer .,1] Did service provisioning show failed status when checking CNC UI after the timeout? >> Service provisioning doesnt happen at all. it will stay on the same provisioning page.2] Did service update make service go into provisioned state?  >> yes. i tried these to modify the SR policy in l2vpn p2p sr service. it worked.3] Are you using CQ or no-CQ commits for these operations? I assume no-CQ was used which caused all changes to be reverted. This makes more sense in regards to the current plan status which is reached with a service update.  >> i am not modifying anything in the Advanced option in CNC UI during the commit.it is always by default.Note: this issue is intermittent. sometimes it commits properly.Hi Arun,Thank you for the quick reply. Seems like there is a system slowdown which might be the cause of the symptoms described. Let me take another look at your system and see if we can isolate the cause of slowdown.I may execute few operations on NSO to check NSO system responsiveness. I will not make any changes.Thanks,Isaac KimHi Arun,I ran a few checks and things seem to be okay:<ol>\t<li>L2 Service Callback max time delta is 0.05 seconds (across all services)</li>\t<li>NSO L2 service get-modification reverse responds quickly on NSO CLI</li>\t<li>NSO L2 service get-modification reverse responds quickly on NSO Web UI</li>\t<li>\"top\" shows low overall system resource utilization</li>\t<li>Correct ulimit fd limit</li></ol>So it didnt seem like NSO itself was having any slowdowns.Next I tried to test southbound operations such as device connect, device config pull, etc. Here we saw some greater levels of delay:<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\">admin@ncs% request devices device NCS55A2-SDN-112 compare-config | details very-verbose2022-04-06T20:27:03.585 device NCS55A2-SDN-112: compare-config...2022-04-06T20:27:03.586 device NCS55A2-SDN-112: taking device lock... ok (0.000 s)2022-04-06T20:27:03.599 device NCS55A2-SDN-112: connect...2022-04-06T20:27:04.410 device NCS55A2-SDN-112: cisco-iosxr-cli-7.38: connecting... ok (0.466 s)2022-04-06T20:27:05.370 device NCS55A2-SDN-112: connect: ok (1.771 s)2022-04-06T20:27:05.370 device NCS55A2-SDN-112: show...2022-04-06T20:27:05.459 device NCS55A2-SDN-112: cisco-iosxr-cli-7.38: reading config...2022-04-06T20:27:10.281 device NCS55A2-SDN-112: cisco-iosxr-cli-7.38: transforming input... ok (0.009 s)2022-04-06T20:27:10.293 device NCS55A2-SDN-112: cisco-iosxr-cli-7.38: reading config: ok (4.834 s)2022-04-06T20:27:10.296 device NCS55A2-SDN-112: cisco-iosxr-cli-7.38: retrieving transaction-id... ok (6.791 s)2022-04-06T20:27:17.090 device NCS55A2-SDN-112: cisco-iosxr-cli-7.38: extended parsing... ok (0.017 s)2022-04-06T20:27:17.108 device NCS55A2-SDN-112: cisco-iosxr-cli-7.38: populating cdb... ok (0.599 s)2022-04-06T20:27:17.708 device NCS55A2-SDN-112: show: ok (12.338 s)2022-04-06T20:27:17.726 device NCS55A2-SDN-112: releasing device lock2022-04-06T20:27:17.726 device NCS55A2-SDN-112: compare-config: ok (14.141 s)[ok][2022-04-06 20:27:17][edit]admin@ncs% request devices device ASR9901-SDN-30 compare-config | details very-verbose2022-04-06T20:29:42.512 device ASR9901-SDN-30: compare-config...2022-04-06T20:29:42.513 device ASR9901-SDN-30: taking device lock... ok (0.000 s)2022-04-06T20:29:42.524 device ASR9901-SDN-30: connect...2022-04-06T20:29:43.326 device ASR9901-SDN-30: cisco-iosxr-cli-7.38: connecting... ok (1.954 s)2022-04-06T20:29:46.278 device ASR9901-SDN-30: connect: ok (3.753 s)2022-04-06T20:29:46.278 device ASR9901-SDN-30: show...2022-04-06T20:29:46.353 device ASR9901-SDN-30: cisco-iosxr-cli-7.38: reading config...2022-04-06T20:29:51.034 device ASR9901-SDN-30: cisco-iosxr-cli-7.38: transforming input... ok (0.009 s)2022-04-06T20:29:51.047 device ASR9901-SDN-30: cisco-iosxr-cli-7.38: reading config: ok (4.693 s)2022-04-06T20:29:51.049 device ASR9901-SDN-30: cisco-iosxr-cli-7.38: retrieving transaction-id... ok (4.059 s)2022-04-06T20:29:55.112 device ASR9901-SDN-30: cisco-iosxr-cli-7.38: extended parsing... ok (0.013 s)2022-04-06T20:29:55.126 device ASR9901-SDN-30: cisco-iosxr-cli-7.38: populating cdb... ok (0.429 s)2022-04-06T20:29:55.556 device ASR9901-SDN-30: show: ok (9.277 s)2022-04-06T20:29:55.576 device ASR9901-SDN-30: releasing device lock2022-04-06T20:29:55.576 device ASR9901-SDN-30: compare-config: ok (13.063 s)[ok][2022-04-06 20:29:55][edit]</pre></div></div>We typically see half the response time for compare-config our real devices, but this is dependent on device and setup. But now I can see how this can potentially cause a problem, especially if NSO pull device config as part of the service provisioning transaction.This combined with the fact you are using no-CQ (default commit setting) and the fact that CNC UI has 25 second timeout, maybe CNC UI is waiting too long (over 25 seconds) for both device to fully provision.If you would like to see a full breakdown of timings for your commit, you can do the following:1. Log into NSO CLI 2. Enter config mode3. load merge L2 service payload (or set config) 4. run => \"commit | details very-verbose\"5. paste output hereThen I think it will be easier to isolate exactly which device operation is causing the most delay. It will also reveal if we are exceeding CNC UI timeout value.Thanks,Isaac KimHI Isaac,Thanks for the details and clarification.I will try to do from Ncs_cli using load merge L2 service payload and let u know. our labs are down . if will be back on monday . once it is back, i will check and let you know.Thanks,Arun.M.GDevice transaction phases revealed device response exceeded UI timeout value."
    },
    {
        "title": "[RONCFPSD-564] Validation for policies created with IPv6 endpoint without SRv6 enable",
        "description": "During our test on an IPv6 CNC cluster, create an SR policy with IPv6 tail end info in the payload but SRv6 is not enabled. Configuration is pushed successfully but it causes the policy flapping. PCE sends create/delete message continuously. Please refer to the attach email discussion for more details. According to XTC team, a policy with IPv6 endpoints but SRv6 is not enabled is not a supported scenario.Question 1: Is it possible we add some validation in the model on CFP side?A similar scenario for transport slice. Our topology is configured as a dual stack topology. When create slice we do not enable SRv6, but as the result of slice creation, policies with IPv4 router TE-ID and IPv6 router TE-ID are created and it also have the policy flapping issue due to SRv6 is not enabled in the ODN attached to the slice.Question 2: What is the best way to communicate the behavior to the user for slice if a dual stack topology is configured?",
        "comments": " Hi Crystal,Please proceed to file CDETS so we can solve the Question 1.We believe validation triggered for Question 1 will solve Question 2.Please let us know if this helps.Regards,Janaki DuggiralaHi Janaki,I have created CSCwh76502 to track.Thanks.-CrystalThank you Crystal, closing this ticket so the issue maybe tracked with the CDETS CSCwh76502"
    },
    {
        "title": "[RONCFPSD-11] OLS Scenario - Sending wrong service name to ONC",
        "description": "Description=================OLS scenario \u2013 Sendsto ONC internal service TOPLEFT_TOPRIGHT_400_TR_OLS-internal\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ONC does not support dash , only underscore \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0RPC error towardslshraga-sp-nac: operation_failed: Exception in callback: Missing valid value for name-type SERVICE_NAME forConnectivity service with UUID:. Validvalue shall contain alpha numeric with only underscore as the special characterwith length up to 64 characters.Environment=================UI+SSH: nso552/Public1234!LocalInstallation:/home/nso552/.0.0Service:=================\u00a0<ron-ml>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<name>TOPLEFT_TOPRIGHT_400_TR_OLS</name>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<mode>transponder</mode>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<bandwidth>400</bandwidth>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<circuit-id>2</circuit-id>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<grid-type>100mhz-grid</grid-type>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<frequency>1951000</frequency>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<dac-rate>1x1</dac-rate>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<ols-domain>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<service-state>UNLOCKED</service-state>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0</ols-domain>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<end-point\u00a0>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<end-point-device>P-TOPLEFT</end-point-device>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<terminal-device-optical\u00a0>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<line-port>0/0/0/0</line-port>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<transmit-power>-90</transmit-power>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0</terminal-device-optical>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<terminal-device-packet\u00a0>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<interface\u00a0>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<index>0</index>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<ip-address\u00a0>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<v4>20.20.10.13/30</v4>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0</ip-address>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0</interface>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0</terminal-device-packet>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0</end-point>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<end-point\u00a0>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<end-point-device>P-TOPRIGHT</end-point-device>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<terminal-device-optical\u00a0>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<line-port>0/0/0/0</line-port>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<transmit-power>-90</transmit-power>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0</terminal-device-optical>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<terminal-device-packet\u00a0>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<interface\u00a0>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<index>0</index>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<ip-address\u00a0>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<v4>20.20.10.14/30</v4>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0</ip-address>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0</interface>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0</terminal-device-packet>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0</end-point>\u00a0\u00a0\u00a0\u00a0</ron-ml>",
        "comments": "This issue was noticed with ONC FCS build which has some backward-incompatible change that caused the payload sent by RON CFP to fail. I assume you are testing with ONC FCS build which the CFP team has not tested yet. CFP team is working on a fix for this. In the meantime please test with Old ONC version that CFP team recommended.Van has patched your NSO server with the fix in cisco-ron-cfp package. The SERVICE_NAME sent to ONC will not have \"-internal\" anymore and just reflects the original RON service name. Make sure the RON service name created adheres to the above constraints i.e., alphanumeric+Underscore+64chars length so that we don't land into this issue again.NSO server is patched with the fix. The next RON1.0 build delivered will have the fix."
    },
    {
        "title": "[RONCFPSD-148] ELAN Config Problem",
        "description": "Device version we use is IOS-XR 7.5.2.15INSO 5.7.1.1We have deployed l2vpn in mode of any-to-any, but the config of device is failing (and also the corresponding flat-internal service is not created). This is the error we get:reason: RPC error towards PE-B: operation_failed: for ns1:l2vpn/ns1:bridge/ns1:groups/ns1:group/ns1:bridge-domains/ns1:bridge-domain/ns1:interfaces/ns1:interface/ns1:interface-name: Invalid argument: VPLS Bridge domains not supported on this platformI also tried to manually put this config into our device and got the same error (attached).Also attached the xml with the config we use. ",
        "comments": " What platform are you using?Also concerning the email:<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>I just want to emphasize that if I add \u201c-\u201c to the service name, I get some other error: reason: /cisco-flat-L2vpn-fp-internal-site:flat-L2vpn-internal-site-service{L2NM-EVPN-ELAN-270-internal PE-A_ELAN-PBB-NATIVE}: Python cb_validate error. Unknown error (66): cisco-flat-L2vpn-fp-um-evpn-multipoint-template.xml:134 Expression '{$GROUP_NAME}_evi_{$EVI_ID}' resulted in an incompatible value 'L2NM-EVPN-ELAN-270-internal_evi_4' for /ncs:devices/device{PE-A}/config/Cisco-IOS-XR-um-l2vpn-cfg:l2vpn/bridge/groups/group{L2NM-EVPN-ELAN-270-internal}/bridge-domains/bridge-domain/bridge-domain-name STATUS_CODE: TSDN-L2VPN-303 REASON: Config push failed CATEGORY: device SEVERITY: ERROR Context [name = Configuration Error, message = Could not apply service config on site state = {'Device': 'PE-A', 'Site': 'PE-A_ELAN-PBB-NATIVE', 'Service': 'L2NM-EVPN-ELAN-270-internal'}]</pre></div></div>The issue here is not adding the \"-\" but rather there's a character limit of 27 for `bridge-domain-name`, if you do not specify the bridge name in your payload the service will try to create it using some concatenations including service name. I'll create an internal ticket for this to try and clear up the error messageThanks,Regiwe usu NSO 5.7 along with FP 5.7.1.1if you need this is the server (nso5711/Public1234!). Device creds is admin/Public1234!. I meant device platform are you trying use the feature on an XRV9K?This feature is not supported by XRV9K. Please try ASR9K or NCSok thx. where does it specified what platform support this feature? I did not see it in the install guide or release notes ()This is an engineering build, so documentation may not be completeWe only tested this feature withVXR ASR9K and real device NCS5501We used this to bringup the ASR9K:Had a call with Idan, Haim, and Yevgeny. Asked them to use ASR9k and send them sample payloads and service device mappings via email"
    },
    {
        "title": "[RONCFPSD-160] Failed to start ncs when trying to intsall ncs 5.7.2.1",
        "description": "While installing \"nso-5.7.2.1.darwin.x86_64.installer.bin\" image, getting the below error \"/opt/ncs/ncs-5.7.2.1/bin/ncs_conf_tool: Exec format error\"",
        "comments": "Hi KritikaPlease let us know how to access the setup where this error is seen so that we can debug the issue.Thank you.Hi KritikaSeems like you're using darwin image for Linux OS.Please use the linux image (nso-5.7.2.1.linux.x86_64.installer.bin) to install NSO for Linux OS.Thanks.Closing the ticket as the required information is provided to the user"
    },
    {
        "title": "[RONCFPSD-174] LSA setup status down",
        "description": "Hi,I tried to install an LSA setup.After configuring cluster I see the RFS nodes on the CFS node, but \"show cluster\" command shows status down.",
        "comments": "Hi Sholimi,Have you run the command 'request cluster remote-node <rfs-name> ssh fetch-host-keys'?Please share your setup info. So I could take a lookThanks,LinhSetup details:nso-ucs-haim1-vm1 (10.56.58.44) CFSnso-ucs-haim1-vm2 (10.56.58.122) RFS1nso-ucs-haim1-vm3 (10.56.58.128) RFS2Credentials: nso5721/ Public1234!SSH:nso5721/ Public1234!Hi,This command seem to have done the trick. Thank you.You may close the case.Regards,Shlomi"
    },
    {
        "title": "[RONCFPSD-389] l2vpn route policy ->evpn-route-type ser",
        "description": "EVPN set is not being translated to device configuration. They yellow highlighted part is expected but not generated .In 4.0 it used to be a free text and user responsibility. In 5.0 it is suppose to be generated out of configuration, but is not cheapening  ",
        "comments": "Hi Yevgeny,Please provide us the complete route-policy payload, since we need the policy-definition to investigate the policy being pushed to device.Thanks,NikhilHi Nikhil,PFA the payload including the service and the route policy. This was tested on a clean device configuration and failed to produce a working service.Thanks, Shlomi Had meeting with Customer. Requested updated payload for route-policy using RFC standard.Payload from customer contains 2 conditions with 1 action. This is not allowed as mentioned in wikiRequested customer to create 2 statements for each condition.Issue fixed for L2 route-policy, confirmed by customer as above.Following our meeting PFA the extra policy payloads we have been using and that have been failing Hello Shlomi, The payloads you have provided have missing vpn-nodes. Please check and fix. I have attached the sample payload we have tested with. We see the route-policy being pushed successfully to the device. As you can see in the screenshot, the APPEND_RPL was appended to the route-policy --> L3VPN_NM-SRTE-ODN-PE-A-44 Note: Please keep in mind that when you use the extra-policy field it will only push the string associated to the policy and not the policy definition. Let us know if all questions are answered.After investigating and undeploying / redploying L2VPN services with route policies I came across a weird finding: The provisioning is successful but only for the first service, if there is another L2 service that uses same evpn-route-type tag, the tunnel will fail to come up. I tried removing all previous services and provisioned one by one. The first one was successful, but after the second one, the tunnels belonging to the first service were gone. As the evpn-route-type tag can only have values 1, 3 this allows us to provision no more than two services successfully.Please advise.We would like to clarify thatevpn-route-type is not a \"tag\" but refers to types of traffic so it can be associated with multiple services.There is no validation stating that it should be only 1 and 3 either.Please also share your setup details in this ticket for further investigation.Adding the meeting minutes here:<ul>\t<li>verified the commands being sent from NSO to the VXR are accurate and fit the info on postman commands</li>\t<li>When using several EVPN_SET configurations in different services, they collide but we cannot tell if it is a VXR related limitation</li>\t<li>able to provision services 420 ; 290 simultaneously by dividing EVPN_SETs 1 ; 3 between them</li>\t<li>TE tunnels for service 250 are still not operational, possibly due to missing BGP connectivity between PE-A and PE-C</li>\t<li>L3 services might also be missing due to same issue A.I CFP team to continue looking into it and update</li>\t<li>Nikhil will share VXR credentials with CFP team for further investigation</li></ul>Had a meeting with the user and cleared the doubts they had. The services were working as expected.Had a meeting with the user and cleared the doubts they had. The services were working as expected."
    },
    {
        "title": "[RONCFPSD-438] Questions on Dynamic MVPN Provisioning",
        "description": "Hi Team,I am looking for some information on Dynamic MVPN Provisioning, queries are listed below:1) For Static MVPN Model, how many Static Tree-SID policies can be attached to a single node, is there any limit?2) For Static/Dynamic MVPN Model, if I have attached a route policy to my MVPN service, what will happen if I update it or delete it. Will that be updated or removed from the device config as well.3) What are the allowed values for group-acl-ipv44) As this is P2MP feature, do we support point-to-point vpn-service-topology.5) For Any-To-Any, can I have more than one root in MVPN service.6) For hub-and-spoke, I assume there shoud be one root and other nodes as leafs, will there be any error if I define spoke as root or vice versa.7) Can I attached a dynamic tree-sid policy to Static MVPN Model.Thanks,Kanchan",
        "comments": "Hi,Also wanted to check do we have alarms support for this feature?Thanks,KanchanHi Kanchan,Please find the answers for the following questions asked.1. For Static MVPN Model, how many Static Tree-SID policies can be attached to a single node, is there any limit? No 2. For Static/Dynamic MVPN Model, if I have attached a route policy to my MVPN service, what will happen if I update it or delete it. Will that be updated or removed from the device config as well. Yes. It will be updated /removed from the device config as well 3. What are the allowed values for group-acl-ipv4 It is a String. As per yang definition , The value is an integer ranging from 3000 to 3999 or a string of 32 case-sensitive characters. 4. As this is P2MP feature, do we support point-to-point vpn-service-topology. No.Thanks And Regards,Nishad Subair.Hi Nishad,Can you also provide answers for questions 5, 6 , 7 and alarm support?Thanks,KanchanHi Kanchan,5) For Any-To-Any, can I have more than one root in MVPN service.YesThanks And Regards,Nishad Subair.Adding email thread here to keep a track. Thank you Kanchan. Hope all the queries have been answered. Let us know if we can close the ticket."
    },
    {
        "title": "[RONCFPSD-404] NSO 5.7.6 -TSDN 4.1 M2 - to NSO 6.0 - TSDN 5.0.0 -M4",
        "description": "Hi, We have Uni-d scale setup that is hvaing 5.7.6 TSDN 4.1.0 M2 build.we have 30k services and having 60 devices.do we have migration/Upgrade support ? in TSDN 5.0.0 , we have schema changes ., and all the services payload structure has changed. do we still support of Migration ?Thanks,Arun.M.G",
        "comments": "Hi Arun,You are correct. Dued to model changes in 5.0, migration/upgrade is not supported from 4.1 to 5.0 M4Regards,Linh"
    },
    {
        "title": "[RONCFPSD-362] restconf patch API is not updating the list node instead it create a new entry.",
        "description": "restconf 'patch' API is not updating the list node instead it create a new entry.",
        "comments": "Hi Demeke,Patch restconf is for updating existing service. Please double check the service name is matching with an existing service. Otherwise, it would create a new service name. Thanks,LinhHi Linh, Yes patch restconf is for updating existing service. But the question is inside the service data if user want to update the value of a single entry from the list it will create new entry in the list. And that seems an issue.Thanks,Demeke. Hi Demeke,Can you share the patch update payload?Thanks,Linh{\t\"cisco-sr-te-cfp:sr-te\": {\t\t\"cisco-sr-te-cfp-sr-policies:policies\": {\t\t\t\"sid-list\": [{\t\t\t\t\"name\": \"sid1\",\t\t\t\t\"sid\": [{\t\t\t\t\t\"index\": 2,\t\t\t\t\t\"mpls\": {\t\t\t\t\t\t\"label\": 11\t\t\t\t\t}\t\t\t\t}]\t\t\t}]\t\t}\t}}Above is the patch payload and the update was the index value from 1 to 2.After the update below is the result { \t\"cisco-sr-te-cfp:sr-te\": { \t\t\"cisco-sr-te-cfp-sr-policies:policies\": { \t\t\t\"sid-list\": [{ \t\t\t\t\"name\": \"sid1\", \t\t\t\t\"sid\": [{ \t\t\t\t\t\"index\": 1, \t\t\t\t\t\"mpls\": { \t\t\t\t\t\t\"label\": 11 \t\t\t\t\t} \t\t\t\t}, { \t\t\t\t\t\"index\": 2, \t\t\t\t\t\"mpls\": { \t\t\t\t\t\t\"label\": 11 \t\t\t\t\t} \t\t\t\t}] \t\t\t}] \t\t} \t} }Expectation was to update the index value but the patch creates a new entry in the list.{  \"index\": 2,  \"mpls\": { \t\"label\": 11   } }Hi Demeke,This is how sid-list defined yang model.  list sid {   key index;   leaf index {    tailf:info \"<1-65535> - Sid Index\";    description \"<1-65535> - Sid Index\";    type uint32 {     range \"1..65535\";    }    tailf:cli-allow-range;   }   min-elements 1;Since index is defined as key, you can not update it but deleting the whole index and then recreate with different key in your case is index 2.Thanks,LinhHi Linh,Yes it is the key and currently when user update the key values it creates new entry. The request is to enhance the restconf patch API to handle this scenario to be able to update key values? expectation is instead of forcing user to delete this key value and then create new, can we handle this internally in the API implementation and modify key values?Thanks,Demeke. "
    },
    {
        "title": "[RONCFPSD-376] Onboard ncs_netsim devices to CW",
        "description": "Need some guidance on how devices simulated with nets can be onboarded to CW. ",
        "comments": "Hi Sachin,Please refer the attached document regarding steps to bring ip netsim devices.Regarding other steps , please connect with the specific team for the same. We are from CFP team , so might not be able to provide onboarding details.Regards,Nishad Subair.Hi Nishad,I heard NSO CFP team tested the scale with 3500 devices. Assuming they are netsim devices, would you be able to provide the information on how those were setup and onboarded to NSO. This will help us understand and figure out how to onboard them on CW/CNC as well.Regards,-SrinivasanHi Srini,we have not done this with netsim devices, we did with southbound locked devices.We plan to test netsim by End of January.ThanksPriyanka"
    },
    {
        "title": "[RONCFPSD-410] NCS- 6.0 M4 +: L2VPN P2p, RSVP, creation, we are seeing that MPLS label is compulsory",
        "description": "1) CFP = nso-6.0-tsdn-5.0.0-M4+ENG-34.tar.gz2) Create l2vpn and RSVP. 3) While committing the payload in NSO, we see that it asking MPLS label mandatory.4) Please check the attached document5) Logs: 10.56.112.77:/tmp/data_121222_133343_dir/data_121222_133343.tgzlogin: auto1/Public1234!",
        "comments": " In TSDN 4.0 and 4.1 FP, mpls-label tagging was not mandatoryand device also doesnt need to have mpls-label as mandatory field.<mpls-label xmlns=\"http://cisco.com/ns/nso/fp/examples/cisco-l2vpn-ntw\">111</mpls-label>can we know why this has been mandatory now ?Hello, we have created an internal ticket to fix this issue.Regards,Janaki DuggiralaHi janaki,Shouldnt we have CDETS for this as this is CFP bug?and also, why do we need to mention XMLNS for many tagging especially?for eg., <control-word xmlns=\"http://cisco.com/ns/nso/fp/examples/cisco-l2vpn-ntw\">yes</control-word><metric xmlns=\"http://cisco.com/ns/nso/fp/examples/cisco-l3vpn-ntw\">123</metric><te-service-mapping xmlns=\"http://cisco.com/ns/nso/fp/examples/cisco-l2vpn-ntw\">in ietf-te tunnel:., <head-end xmlns=\"http://cisco.com/ns/nso/fp/examples/cisco-te\">without this xmlns, it says unknown element. Regarding xmlns:This is expected behavior with the new IETF model updates from TSDN 5.0 M3.Per design we have IETF augmentations in an external model, so it is required to define xmlns (namespace).Regarding CDETS, you may file one if you would like to.Thank you.This issue has been fixed and merged and is available in TSDN 5.0 M5 release.CSCwd93202 - is raised. Issue is not resolved in M5. Details are mentioned in cdetsHi Sampath, I did verified the issue are fixed before the M5 release. Does the M5 installed at 10.56.112.77? I will look at this server if you confirm.Thanks,Linhpls check : 10.56.116.138 as mentioned in the cdets10.56.112.77 is also M5, I tested on 10.56.116.138, which is also same version.It installed a wrong build. The file size of ncs-6.0-ietf-l2vpn-nm-EXAMPLE-5.0.0.tar.gz is different from 6.0 release installed in my setupYour setup:/opt/ncs/packages$ ls -ltr | grep l2vpn-nm<del>rw</del>------ 1 root root  148845 Dec 15 11:03 ncs-6.0-ietf-l2vpn-nm-EXAMPLE-5.0.0.tar.gzMine setup:$ ls -ltr | grep l2vpn-nm-rwxr-xr-x. 1 root root  149149 Dec 20 20:36 ncs-6.0-ietf-l2vpn-nm-EXAMPLE-5.0.0.tar.gzI also looked the codes in your ncs-6.0-ietf-l2vpn-nm-EXAMPLE-5.0.0.tar.gz. It does not have python codes with the fix.Please get a correct build and install it again-Linh"
    },
    {
        "title": "[RONCFPSD-377] NSO CFP - 5.0 - M4 yang file changed without revision dates.",
        "description": "under ietf-l3, the cisco-l3vpn-ntw got modified but no revision found.module cisco-l3vpn-ntw { yang-version 1.1; namespace \"http://cisco.com/ns/nso/fp/examples/cisco-l3vpn-ntw\"; prefix cisco-l3nm; import ietf-l3vpn-ntw { prefix l3nm; } import cisco-mvpn { prefix cisco-mvpn; } import tailf-common { prefix tailf; } import tailf-ncs { prefix ncs; } import ietf-inet-types { prefix inet; } import tailf-kicker { prefix kicker; } import ietf-vpn-common { prefix vpn-common; } import cisco-tsdn-core-fp-common { prefix tsdn-core-fp-common; } import lsa-utils { prefix lsa-utils; } import resource-allocator { prefix ralloc; } import id-allocator { prefix idalloc; } import cisco-pm-fp { prefix cisco-pm-fp; } import custom-template-hook { prefix ct-hook; } import ietf-routing-types {  prefix rt-types;  reference   \"RFC 8294: Common YANG Data Types for the Routing Area\"; } description \"IETF L3VPN NTW Cisco NSO Modifications\"; revision 2022-10-03 {  description   \"Removed: container performance-measurement under l3vpn-ntw -> vpn-services       -> vpn-service -> vpn-nodes -> vpn-node -> vpn-network-accesses       -> vpn-network-access -> ip-connection -> oam\"; }",
        "comments": "Hi Quy,Thank you for reporting this .We will work on it and update this revisions as part of the next release.Regards,Nishad SubairThanks Nishad - will wait for M5 for the revision on this file."
    },
    {
        "title": "[RONCFPSD-411] Test - Please close this",
        "description": "Testing... -Please close this JIRA",
        "comments": "Test Ticket. Closing"
    },
    {
        "title": "[RONCFPSD-405] L3VPN service with XE with NSO 5.0 M4",
        "description": "We are not able to create l3vpn service with XE endpoint, we used sample payload from release notesHi Sahiti,Under list of known issues I see followingI tried putting RD under node but running into another issue<errors xmlns=\"urn:ietf:params:xml:ns:yang:ietf-restconf\">  <error>    <error-type>application</error-type>    <error-tag>malformed-message</error-tag>    <error-path xmlns:l3nm=\"urn:ietf:params:xml:ns:yang:ietf-l3vpn-ntw\">/l3nm:l3vpn-ntw/l3nm:vpn-services</error-path>    <error-message>unknown element: RD in /l3nm:l3vpn-ntw/l3nm:vpn-services/l3nm:vpn-service/l3nm:vpn-nodes/l3nm:vpn-node</error-message>  </error></errors>Has anyone else able to successfully create service for XE that we can leverage the payloadWe were using sample payload from Yevegeny and team, and that is based on NSO CFP documentation as wellThx,VaishaliFrom: Sahithi Patibandla (sahpatib) <sahpatib@cisco.com>Date: Tuesday, December 6, 2022 at 9:29 AMTo: Vaishali Mithbaokar (vmithbao) <vmithbao@cisco.com>, Yevgeny Chechelnitsky (ychechel) <ychechel@cisco.com>, Manivel Sengottuvel -X (msengott - HCL TECHNOLOGIES LIMITED at Cisco) <msengott@cisco.com>, Shlomi Eliyahu (seliyahu) <seliyahu@cisco.com>, Jason Zhang (jaszhang) <jaszhang@cisco.com>, Jen-Shue Shih (jeshih) <jeshih@cisco.com>Subject: Re: L3VPN service with XE with NSO 5.0 M4Hi Vaishali,There have been quite many changes in M4 w.r.t service creation. We have moved to the newer IETF model for L3VPN in M4 release.Please look at the release details uploaded and the wiki we have provided with the release.This release includes:XR 7.7.2 CLI NED supportXR 7.8.1 CLI NED support with SIT buildXR 7.9.1 CLI NED support with DT buildRemoval of L2 Flat modelsRemoval of L3 Flat modelsUpgrade L3NM models to RFC version5G Slicing SRTE supportUpdate L2 and L3 Route Policy guided by IETF standardHighlighted changes are pertaining to the L3 VPN service.P.S: The wiki details and the above release notes are provided in the release email as well.ThanksSahithiFrom: Vaishali Mithbaokar (vmithbao) <vmithbao@cisco.com>Date: Tuesday, December 6, 2022 at 8:54 AMTo: Yevgeny Chechelnitsky (ychechel) <ychechel@cisco.com>, Manivel Sengottuvel -X (msengott - HCL TECHNOLOGIES LIMITED at Cisco) <msengott@cisco.com>, Shlomi Eliyahu (seliyahu) <seliyahu@cisco.com>, Jason Zhang (jaszhang) <jaszhang@cisco.com>, Jen-Shue Shih (jeshih) <jeshih@cisco.com>Cc: Sahithi Patibandla (sahpatib) <sahpatib@cisco.com>Subject: Re: L3VPN service with XE with NSO 5.0 M4+Sahiti as wellTo see if any delta between M3 and M4 that might have caused issue w.r.t service creation with XE?Thx,VaishaliFrom: Vaishali Mithbaokar (vmithbao) <vmithbao@cisco.com>Date: Monday, December 5, 2022 at 11:52 PMTo: Yevgeny Chechelnitsky (ychechel) <ychechel@cisco.com>, Manivel Sengottuvel -X (msengott - HCL TECHNOLOGIES LIMITED at Cisco) <msengott@cisco.com>, Shlomi Eliyahu (seliyahu) <seliyahu@cisco.com>, Jason Zhang (jaszhang) <jaszhang@cisco.com>, Jen-Shue Shih (jeshih) <jeshih@cisco.com>Subject: Re: L3VPN service with XE with NSO 5.0 M4Keeping Jason and JenShue also in the loopHi Yevgeny, Manivel, Shlomi,Did any of you try XE service on M4 milestone build and did it work?Thx,VaishaliFrom: Vaishali Mithbaokar (vmithbao) <vmithbao@cisco.com>Date: Monday, December 5, 2022 at 10:53 PMTo: Yevgeny Chechelnitsky (ychechel) <ychechel@cisco.com>, Manivel Sengottuvel -X (msengott - HCL TECHNOLOGIES LIMITED at Cisco) <msengott@cisco.com>, Shlomi Eliyahu (seliyahu) <seliyahu@cisco.com>Subject: L3VPN service with XE with NSO 5.0 M4Hi All,I had used your collection for M3 and was able to create L3VPN on XE endpointBut now we switched to M4, and am running into following when using M4 postman collection<errors xmlns=\"urn:ietf:params:xml:ns:yang:ietf-restconf\">  <error>    <error-type>application</error-type>    <error-tag>malformed-message</error-tag>    <error-path xmlns:l3nm=\"urn:ietf:params:xml:ns:yang:ietf-l3vpn-ntw\">/l3nm:l3vpn-ntw/l3nm:vpn-services</error-path>    <error-message>/l3vpn-ntw/vpn-services/vpn-service{L3VPN_NM-NATIVE-IPV4-500}: STATUS_CODE: TSDN-IETF-L3NM-416REASON: Route-distinguisher is mandatory when configuring L3VPN service on a XE deviceCATEGORY: validationSEVERITY: ERRORContext [name = Missing route-distinguisher. RD is mandatory for XEstate = {'Endpoint': 'AA-ASR903-2', 'Keypath': '/l3nm:l3vpn-ntw/vpn-services/vpn-service{L3VPN_NM-NATIVE-IPV4-500}'}]</error-message>  </error>",
        "comments": "Hi Vaishali ,Please share your payload that you usedThanks,Linh<vpn-services>\t<vpn-service>\t\t<vpn-id>XE-L3VPN_NM-NATIVE-IPV4-500</vpn-id>\t\t<vpn-instance-profiles>\t\t\t<vpn-instance-profile>\t\t\t\t<profile-id>L3VPN_NM-NATIVE-IPV4</profile-id>\t\t\t\t<rd>0:50:50</rd>\t\t\t\t<address-family>\t\t\t\t\t<address-family\t\t\t\t\t\txmlns:vpn-common=\"urn:ietf:params:xml:ns:yang:ietf-vpn-common\">ipv4\t\t\t\t\t</address-family>\t\t\t\t\t<vpn-targets>\t\t\t\t\t\t<vpn-target>\t\t\t\t\t\t\t<id>51</id>\t\t\t\t\t\t\t<route-targets>\t\t\t\t\t\t\t\t<route-target>0:51:51</route-target>\t\t\t\t\t\t\t</route-targets>\t\t\t\t\t\t\t<route-target-type>both</route-target-type>\t\t\t\t\t\t</vpn-target>\t\t\t\t\t\t<vpn-target>\t\t\t\t\t\t\t<id>52</id>\t\t\t\t\t\t\t<route-targets>\t\t\t\t\t\t\t\t<route-target>0:52:52</route-target>\t\t\t\t\t\t\t</route-targets>\t\t\t\t\t\t\t<route-target-type>import</route-target-type>\t\t\t\t\t\t</vpn-target>\t\t\t\t\t\t<vpn-target>\t\t\t\t\t\t\t<id>53</id>\t\t\t\t\t\t\t<route-targets>\t\t\t\t\t\t\t\t<route-target>0:53:53</route-target>\t\t\t\t\t\t\t</route-targets>\t\t\t\t\t\t\t<route-target-type>export</route-target-type>\t\t\t\t\t\t</vpn-target>\t\t\t\t\t</vpn-targets>\t\t\t\t</address-family>\t\t\t</vpn-instance-profile>\t\t</vpn-instance-profiles>\t\t<vpn-nodes>\t\t\t<vpn-node>\t\t\t\t<vpn-node-id>AA-ASR903-3</vpn-node-id>        <RD>0:50:50</RD>\t\t\t\t<local-as>1</local-as>\t\t\t\t<vpn-network-accesses>\t\t\t\t\t<vpn-network-access>\t\t\t\t\t\t<id>1</id>\t\t\t\t\t\t<interface-id>Loopback50</interface-id>\t\t\t\t\t\t<ip-connection>\t\t\t\t\t\t\t<ipv4>\t\t\t\t\t\t\t\t<local-address>100.100.100.3</local-address>\t\t\t\t\t\t\t\t<prefix-length>24</prefix-length>\t\t\t\t\t\t\t</ipv4>\t\t\t\t\t\t</ip-connection>\t\t\t\t\t\t<routing-protocols>\t\t\t\t\t\t\t<routing-protocol>\t\t\t\t\t\t\t\t<id>EBGP</id>\t\t\t\t\t\t\t\t<type xmlns:vpn-common=\"urn:ietf:params:xml:ns:yang:ietf-vpn-common\">bgp-routing</type>\t\t\t\t\t\t\t\t<bgp>\t\t\t\t\t\t\t\t\t<address-family>ipv4</address-family>\t\t\t\t\t\t\t\t\t<redistribute-connected>\t\t\t\t\t\t\t\t\t\t<address-family>ipv4</address-family>\t\t\t\t\t\t\t\t\t</redistribute-connected>\t\t\t\t\t\t\t\t\t<neighbor>100.100.100.2</neighbor>\t\t\t\t\t\t\t\t\t<peer-as>50</peer-as>\t\t\t\t\t\t\t\t\t<multihop>11</multihop>\t\t\t\t\t\t\t\t</bgp>\t\t\t\t\t\t\t</routing-protocol>\t\t\t\t\t\t</routing-protocols>\t\t\t\t\t</vpn-network-access>\t\t\t\t</vpn-network-accesses>\t\t\t\t<active-vpn-instance-profiles>\t\t\t\t\t<vpn-instance-profile>\t\t\t\t\t\t<profile-id>L3VPN_NM-NATIVE-IPV4</profile-id>\t\t\t\t\t</vpn-instance-profile>\t\t\t\t</active-vpn-instance-profiles>\t\t\t</vpn-node>\t\t\t<vpn-node>\t\t\t\t<vpn-node-id>AA-ASR903-2</vpn-node-id>        <RD>0:50:50</RD>\t\t\t\t<local-as>1</local-as>\t\t\t\t<vpn-network-accesses>\t\t\t\t\t<vpn-network-access>\t\t\t\t\t\t<id>1</id>\t\t\t\t\t\t<interface-id>Loopback50</interface-id>\t\t\t\t\t\t<ip-connection>\t\t\t\t\t\t\t<ipv4>\t\t\t\t\t\t\t\t<local-address>100.100.100.2</local-address>\t\t\t\t\t\t\t\t<prefix-length>24</prefix-length>\t\t\t\t\t\t\t</ipv4>\t\t\t\t\t\t</ip-connection>\t\t\t\t\t\t<routing-protocols>\t\t\t\t\t\t\t<routing-protocol>\t\t\t\t\t\t\t\t<id>EBGP</id>\t\t\t\t\t\t\t\t<type xmlns:vpn-common=\"urn:ietf:params:xml:ns:yang:ietf-vpn-common\">bgp-routing</type>\t\t\t\t\t\t\t\t<bgp>\t\t\t\t\t\t\t\t\t<address-family>ipv4</address-family>\t\t\t\t\t\t\t\t\t<redistribute-connected>\t\t\t\t\t\t\t\t\t\t<address-family>ipv4</address-family>\t\t\t\t\t\t\t\t\t</redistribute-connected>\t\t\t\t\t\t\t\t\t<neighbor>100.100.100.3</neighbor>\t\t\t\t\t\t\t\t\t<peer-as>50</peer-as>\t\t\t\t\t\t\t\t\t<multihop>11</multihop>\t\t\t\t\t\t\t\t</bgp>\t\t\t\t\t\t\t</routing-protocol>\t\t\t\t\t\t</routing-protocols>\t\t\t\t\t</vpn-network-access>\t\t\t\t</vpn-network-accesses>\t\t\t\t<active-vpn-instance-profiles>\t\t\t\t\t<vpn-instance-profile>\t\t\t\t\t\t<profile-id>L3VPN_NM-NATIVE-IPV4</profile-id>\t\t\t\t\t</vpn-instance-profile>\t\t\t\t</active-vpn-instance-profiles>\t\t\t</vpn-node>\t\t</vpn-nodes>\t</vpn-service></vpn-services>Hi Vaishali,This is known issue and had a bug on this . It will be fix on coming release. Right now it has a work-arround by defining RD in active-vpn-instance-profiles under node level. Based on your payload, its format looks like this        <vpn-node-id>AA-ASR903-3</vpn-node-id>        <local-as>1</local-as>        <active-vpn-instance-profiles>         <vpn-instance-profile>           <profile-id>L3VPN_NM-NATIVE-IPV4</profile-id>          <rd>0:50:50</rd>         </vpn-instance-profile>        </active-vpn-instance-profiles>You should modify the same on the other end.Thanks,Linhthx much it worked!Thanks for let me know. I closed the ticket.The issue will fix in the coming release. Currently it works with workarround approach"
    },
    {
        "title": "[RONCFPSD-363] Services migration failed with CDB error from 5.7.5.1 m8 to 5.7.6 M2",
        "description": "We have Uni-d scale setup that is hvaing 5.7.5.1 M8 build.we have 10k services and having 60 devices.Tried upgrading to 4.1.0 - 5.7.6-M2. we have the steps captured during previous migration. ticket id:now, afetr upgrade, while strating the NCS, it throws error.root@arupras2-esxi-01-vm2:/var/opt/ncs/packages# date;sudo NCS_RELOAD_PACKAGES=force /etc/init.d/ncs restart --ignore-initial-validation;dateFri Oct 28 13:09:13 IDT 2022Stopping ncs: connection refused (stop)Starting ncs: CDB: Upgrade failed: Upgrade transaction failed to validate: /ncs:devices/device{A-PE1}/device-type/cli/ned-id is not configuredDaemon died status=13.Fri Oct 28 13:22:58 IDT 2022root@arupras2-esxi-01-vm2:/var/opt/ncs/packages# date;sudo NCS_RELOAD_PACKAGES=force /etc/init.d/ncs restart --ignore-initial-validation;dateFri Oct 28 13:28:17 IDT 2022Stopping ncs: connection refused (stop)Starting ncs: CDB: Upgrade failed: Upgrade transaction failed to validate: /ncs:devices/device{A-PE1}/device-type/cli/ned-id is not configuredDaemon died status=13.Fri Oct 28 13:41:31 IDT 2022root@arupras2-esxi-01-vm2:/var/opt/ncs/packages#can you please help in recovering the setup?Thanks,Arun.M.G",
        "comments": "Hi Arun,Please share your setup details. I will take a look.Thanks,LinhHi Linh,CFS : 10.56.116.121RFS1: 10.56.116.122RFS2: 10.56.116.123nso/Public1234!Thanks,Arun.M.GI had a call with Arun and explain what is missing step that create this issue. The old NED should be retained during start up NSO since devices in CDB still prefer to these old NED. After bringing back old NED, ncs-5.7.3-cisco-iosxr-7.39.5.tar.gz, ncs start up fine. This is wiki link for the upgrade "
    },
    {
        "title": "[RONCFPSD-439] internal created services for slice are editable. And silently revert back the change.",
        "description": "Internal created services for Slices (eg. L3vpn service for an L3 slice) is supposed to be NOT editble.We are able to edit it from CNC UI or NSO UI. Commit is successful, but the change is reverted back with no warning.We should not allow edit for the internal created services. Build combo: CW 220, CDG 247, COE 236, CAT 231, NSO6.1+TSDN5.0.0 M5",
        "comments": "HI Crystal,This is intended behavior from NSO Platform. TSDN CFP would not have any control over this. CFP would not be able to change this behavior.Hope this helps.ThanksSahithiHi Sahithi,If we are not able to block edit operation. Can we show some warning message for reverting back the changes?Thanks.-CrystalHi Crystal, That would not be possible as well. This is NSO's platform behavior. Also, this is expected behavior.CFP would not have any control or warning when top level services modify the lower level services. This is how the NSO services behave.This is the same behavior when customer modifies the service created device config manually. NSO reverts the device config when the service is touched. CFP does not expect the customer to touch any NSO created services or device config. NSO assumes complete control over service config or device config it creates. ThanksSahithiThis is a known behavior from NSO Platform.Expected behavior from NSO Platform"
    },
    {
        "title": "[RONCFPSD-388] DLM service status not showing UP on 5.7.6-tsdn-5.0.0-M4",
        "description": "Hi,DLM service pack not showing UP on 5.7.6-tsdn-5.0.0-M4, Screenshot is attached. Please take a look at the issue.NSO server- 10.56.116.240",
        "comments": "Hi RageshWe don't own the DLM service pack. Please get in touch with the DLM team for this issue. You can reach out to Ravi kumar kolla from their team.Thanks,NikhilIssue was with the DLM service pack, advised user to reach out to DLM team.Thanks Nikhil for the info, will check with the DLM team and fix the issue."
    },
    {
        "title": "[RONCFPSD-161] Device config mapping images not loading TSDN 4.0.0 M2 and M3",
        "description": "1] Not loading the Images for Device Config Mapping for l2nm in TSDN 4.0.0 M3 2] Not loading the image for IOSXR device mapping in TSDN 4.0.0 M3 - SR policy.3] Not loading the image for IOSXR device mapping in TSDN 4.0.0 M2 - SR policy.Please check and upload the images.",
        "comments": "Hi ArunWe have corrected the mapping diagrams in mentioned Wiki pages.Please check and and let us know whether the mapping diagrams are visible to you now.ThanksHi Nikhil,Thanks. Now we see the images not loading in the below page alone.,  Hi ArunWe have tried to open the page in few systems and the images are loading fine for all of us.For now, I have attached the images for your reference here.Let us know if anything else is required or we can close the ticket.Thanks.Closing the ticket as the required information has been provided."
    },
    {
        "title": "[RONCFPSD-149] CFS - Netconf notification subscription Alarm with connection-failure",
        "description": "Setting up SLA. Doing \"RFS OnBoarding Steps\", on step3, after commit, the following Alarm showed:admin@ncs% *** ALARM connection-failure: Failed to authenticate towards device rfs-29: Unknown SSH host keyI thought maybe I should use remote-name as root in step1 because root is the user to access my RFS VM. So I did that and proceed with step 4.Can I proceed with the rest of the steps and ignore the ALARM?",
        "comments": "For the section\"RFS OnBoarding Steps\" on step 6, there's a little note for the alarmYou can double check if the alarm is cleared using the following command:<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>admin@cfs-node% run show alarms alarm-list alarm rfs-node-1 is-cleared                                  SPECIFIC IS    DEVICE   TYPE        MANAGED OBJECT           PROBLEM  CLEARED ---------------------------------------------------------------------------------------rfs-node-1 connection-failure /devices/device[name='rfs-node-1']      true </pre></div></div>It should be cleared after running fetch-ssh-host-keys action assuming you have the correct authentication details.Let me know if that works for you.Thanks,RegiThanks Reginald,I did the ssh key fetch and check the alarm. The result showed alarm is cleared. Just wonder if we can make some updates on the LSA install guide wiki?1) move or copy the notes from Step 6 to Step 32) include the command for ssh key fetch and command to check alarm is cleared  eg: request devices device <rfs-node-name> ssh fetch-host-keys      show alarms alarm-list alarm <rfs-node-name> is-clearedOne more question, on step1 the set authgroups command, what is the remote-name should we use? Is it the user id for ssh to the rfs VM?Here is the command on wiki:\"set devices authgroups group cnc-rfs-auth default-map remote-name admin remote-password\"Similar question for Step 6, what is the username/pw should be use for \"set cluster remote-node\" command? I simply use the same on wiki and it failed to authenticate.admin@ncs% set cluster remote-node rfs-29 address 172.23.213.29 port 2022 authgroup cnc-rfs-auth username ciscoadmin@ncs% set cluster authgroup cnc-rfs-auth default-map remote-name cisco remote-password Cisco123&#35;admin@ncs% set cluster device-notifications disabledadmin@ncs% set cluster commit-queue enabledadmin@ncs% commitCommit complete.admin@ncs% *** ALARM cluster-subscriber-failure: Failed to establish netconf notification subscription to node rfs-29, stream ncs-events (Failed to authenticate towards remote-node rfs-29: Unknown SSH host key). Commit queue items with remote nodes will not receive required event notifications.admin@ncs% request cluster remote-node rfs-29 ssh fetch-host-keys result updatedfingerprint {  algorithm ssh-ed25519  value 62:e0:84:42:14:0d:32:9b:51:a3:e4:23:3c:29:3a:15}admin@ncs% run show cluster            LAST  RECEIVED    NAME  NAME STATUS EVENT NOTIFICATIONS --------------------------------------------rfs-29                   REMOTE                 LOCAL REMOTE          NODE  ADDRESS    PORT CHANNELS USER  USER  STATUS TRACE   ------------------------------------------------------------------------rfs-29 172.23.213.29 2022 -     cisco cisco  down  disabled admin@ncs% *** ALARM cluster-subscriber-failure: Failed to establish netconf notification subscription to node rfs-29, stream ncs-events (Failed to authenticate towards remote-node rfs-29: Bad password for local user cisco). Commit queue items with remote nodes will not receive required event notifications.Thanks for your input. I'll go ahead and clarify the docs based on your inputs.As for your second post, the username/passwd should be the credentials you use to access the RFS device.Thanks Reginald for the info. I proceed further. On \"Configure Bootstrap Data\" got errors for 2 load merge commands:admin@ncs% load merge rfs-netconf-notif-sub.xmlAborted: internal erroradmin@ncs% load merge rfs-node-onboarding.xmlError: on line 5: invalid value for: address in /ncs:devices/ncs:device/ncs:address: \"${RFS_ADDRESS}\" is not a valid value.I have removed these two payloads from the 4.0 M2 wiki as they have been previously configured directly through CLI during onboard of RFS. (updated:)<h2></h2>Thanks Reginald for the clarification and wiki update. Will continue for the rest steps."
    },
    {
        "title": "[RONCFPSD-10] fetch_validate_sip ERROR",
        "description": "Brand new NSO SIPs Verified, InterLayer Links recreated Plan is not Generated <ERROR> 25-May-2021::17:25:26.579 cisco-ron-cfp ncs-dp-2445-cisco-ron-cfp:main-5-usid-121-cisco-ron-cfp-validate-service-input: - Traceback (most recent call last):\u00a0 File \"/home/nso542/nso-5.4.2/src/ncs/pyapi/ncs/dp.py\", line 656, in wrapper\u00a0\u00a0\u00a0 ret = fn(self, uinfo, str(name), kp, input, output, act_trans)\u00a0 File \"/home/nso542/nso-5.4.2/src/ncs/pyapi/ncs/dp.py\", line 618, in fn2\u00a0\u00a0\u00a0 return ofn(self, uinfo, name, kp, input, output)\u00a0 File \"/home/nso542/RON-ML/state/packages-in-use/1/cisco-ron-cfp/python/cisco_ron_cfp/ron_actions.py\", line 39, in cb_action\u00a0\u00a0\u00a0 self._fetch_validate_sip(root, service)\u00a0 File \"/home/nso542/RON-ML/state/packages-in-use/1/cisco-ron-cfp/python/cisco_ron_cfp/ron_actions.py\", line 215, in _fetch_validate_sip\u00a0\u00a0\u00a0 raise CustomActionException(cisco_ron_cfp.ron_ml_errors.CustomActionException: Error: STATUS_CODE: RON-505REASON: Fetch Optics failedCATEGORY: custom-actionSEVERITY: ERRORContext ",
        "comments": "Please refer to where Ravi and I noted the string format foroptical-add-drop value for inter-layer-link.I this setup, I correctedoptical-add-drop string on ports 0/0/0/0 and network-element (site name) forP-TOPRIGHT-VXR as:admin@ncs% show | compare ron { inter-layer-link P-TOPLEFT-VXR 0/0/0/0 { ols-domain {- optical-add-drop /1/6/2/0/20,19;+ optical-add-drop 1/6/2/20,19; } } inter-layer-link P-TOPRIGHT-VXR 0/0/0/0 { ols-domain {- network-element daigosim9;+ network-element daigosim17;- optical-add-drop /1/3/2/0/10,9;+ optical-add-drop 1/3/2/10,9; } } }It passes the original optical fetch issue and currently fails due to XR routers are not reachable.admin@ncs% *** ALARM connection-failure: Failed to connect to device P-TOPLEFT-VXR: host is unreachableadmin@ncs%admin@ncs% run show ron ron-ml-plan 400Gbps-Transponder-OLS plan POST BACK STATUS ACTION TYPE NAME TRACK GOAL CODE STATE STATUS WHEN ref STATUS --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------self self false - - init reached 2021-05-25T17:25:26 - failed ready not-reached - - - optical-controller Optical-Controller false - - init not-reached - - - cisco-ron-cfp-nano-plan-services:config-apply not-reached - - - ready not-reached - - - cisco-ron-cfp-nano-plan-services:router P-TOPLEFT-VXR false - - init not-reached - - - cisco-ron-cfp-nano-plan-services:config-apply not-reached - - - ready not-reached - - - cisco-ron-cfp-nano-plan-services:router P-TOPRIGHT-VXR false - - init not-reached - - - cisco-ron-cfp-nano-plan-services:config-apply not-reached - - - ready not-reached - - -plan failedplan error-info message \"Error running action for side-effect item /cisco-ron-cfp:ron/ron-ml-plan{400Gbps-Transponder-OLS}/plan/component{ncs:self self}/state{ncs:init}: Python cb_action error. Error: Hardware capability does not support this configuration of mode/bandwidth/fec/dac\\nSTATUS_CODE: RON-410\\nREASON: Hardware transceiver capability does not support the configured mode and bandwidth.\\nCATEGORY: user\\nSEVERITY: ERROR\\n\\nSTATUS_CODE: RON-506\\nREASON: Fetch Optics failed\\nCATEGORY: custom-action\\nSEVERITY: ERROR\\nContext [name = Fetch Optics Data error, message = ZR Fetch Optics data action returned error\\n state = {'service': ListElement name=ron-ml tag=1842926444 keys={400Gbps-Transponder-OLS}, 'endpoint': ListElement name=end-point tag=935030957 keys={P-TOPLEFT-VXR}}]\\n\"plan error-info log-entry /ron/ron-ml/log/log-entryadmin@ncs% request devices device P-TOPLEFT-VXR connectresult falseinfo Failed to connect to device P-TOPLEFT-VXR: host is unreachableadmin@ncs% request devices device P-TOPRIGHT-VXR connectresult falseinfo Failed to connect to device P-TOPRIGHT-VXR: host is unreachableadmin@ncs% *** ALARM connection-failure: Failed to connect to device P-TOPRIGHT-VXR: host is unreachableVRs are back We are back to square 0400Gbps-Transponder-OLS===================I understand thatyou has removed leading back slashes in SIP addDrop configuration .That\u2019s fine, still the problem exist Error running action for side-effectitem /cisco-ron-cfp:ron/ron-ml-plan{400Gbps-Transponder-OLS}/plan/component{ncs:selfself}/state{ncs:init}: Python cb_action error. Error: STATUS_CODE: RON-505REASON: Fetch Optics failed CATEGORY: custom-action SEVERITY: ERROR Context400Gbps-Transponder-P2P===================RPC error towards PE-A-VXR:unknown_element:ns2:interface-configurations/ns2:interface-configuration/ns1:optics/ns1:optics-modulationAs per Anoosh, we can not upgrade, and you guyswill have to dig in to this You can use our Netconf Browse if you wish andinspect the NETCONF models : 192.168.122.73 admin/Public1234!As you can see below from the XR device Netconf trace, NSO sent correct payload to the device but got unknown-element error. This causes by the device doesn't understand the payload content(s), which points to the image on the device being too old.We'd recommend to upgrade the image on your XR routers to make sure your environment is working. You can work out the image details with PMs on RON program after this. There is nothing else we can help you on this.>>>>out 25-May-2021::20:33:21.661 user: nso542/188 thandle 3712 hostname nso-ucs-haim1 device P-TOPLEFT-VXR session-id=3964231496<rpc xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\" message-id=\"4\"> <edit-config xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\"> <target> <candidate/> </target> <test-option>test-then-set</test-option> <error-option>rollback-on-error</error-option> <config> <interface-configurations xmlns=\"http://cisco.com/ns/yang/Cisco-IOS-XR-ifmgr-cfg\"> <interface-configuration> <active>act</active> <interface-name>Optics0/0/0/3</interface-name> <description>2</description> <optics xmlns=\"http://cisco.com/ns/yang/Cisco-IOS-XR-controller-optics-cfg\"> <optics-transmit-power>-90</optics-transmit-power> <optics-dwdm-carrier> <param-type>frequency</param-type> <grid-type>100mhz-grid</grid-type> <param-value>1951000</param-value> </optics-dwdm-carrier> <optics-modulation>16qam</optics-modulation> <optics-fec>fec-ofec</optics-fec> </optics> </interface-configuration> </interface-configurations> </config> </edit-config></rpc>>>>>out 25-May-2021::20:33:21.662 user: nso542/188 thandle 3712 hostname nso-ucs-haim1 device P-TOPLEFT-VXR session-id=3964231496<rpc xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\" message-id=\"5\"> <validate> <source> <candidate/> </source> </validate></rpc><<<<in 25-May-2021::20:33:21.669 user: nso542/188 thandle 3712 hostname nso-ucs-haim1 device P-TOPLEFT-VXR session-id=3964231496<rpc-reply message-id=\"4\" xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\"> <rpc-error> <error-type>protocol</error-type> <error-tag>unknown-element</error-tag> <error-severity>error</error-severity> <error-path xmlns:ns1=\"http://cisco.com/ns/yang/Cisco-IOS-XR-controller-optics-cfg\" xmlns:ns2=\"http://cisco.com/ns/yang/Cisco-IOS-XR-ifmgr-cfg\">ns2:interface-configurations/ns2:interface-configuration/ns1:optics/ns1:optics-modulation</error-path> <error-info> <bad-element>optics-modulation</bad-element> </error-info> </rpc-error></rpc-reply>OK, how about 400Gbps-Transponder-OLS SIP fetch problem ? IT is not related to XR versionThe inter-layer-link forP-TOPLEFT-VXR 0/0/0/0 andP-TOPRIGHT-VXR 0/0/0/0 were still wrong. I corrected the same pair in your older NSO. Here are what were changed:nso542@ncs% show | compare ron { inter-layer-link P-TOPLEFT-VXR 0/0/0/0 { ols-domain {- optical-add-drop 1/6/2/0/20,19;+ optical-add-drop 1/6/2/20,19; } } inter-layer-link P-TOPRIGHT-VXR 0/0/0/0 { ols-domain {- network-element daigosim9;+ network-element daigosim17;- optical-add-drop 1/3/2/0/10,9;+ optical-add-drop 1/3/2/10,9; } } }There's no more fetch SIP error but you need to update RON CFP as I mentioned last week. There was an issue working with ONC 20.4.2021 drop that require a rebuild of RON CFP.Yevgeny closes the case, will upgrade his environment."
    },
    {
        "title": "[RONCFPSD-38] config issues in Y1731 in TSDN 3.0.0 M4",
        "description": "NSO has installed with NCS 5.5.2.7 TSDN 3.0.0 M4.Attached payload for configuring y1731 for L2vpn EPVN service and L2vpn p2p service.We have the below listed issues in the configuration of y1731 through CFP. Raised JIRA ticket 1] By Default, It is always configuring SMAN with id icc-based in Ethernet CFM configurations. This should be configurable parameter where this SMAN support varies with different device types.For eg., I have created service between ASR9k and NCS55XX ., After the configuration., I face issues in bringing up the ethernet CFM.The config that got pushed:!ethernet cfm domain EVC level 4 id null service L2NM-L2NM-EVPN-VPWS-SRTE-104 xconnect group L2NM-EVPN-VPWS-SRTE-104 p2p L2NM-EVPN-VPWS-SRTE-104 id icc-based p2p 1  continuity-check interval 1s  mep crosscheck  mep-id 2!Error in device:RP/0/RSP0/CPU0:ASR9006-SDN-91#show ethernet cfm local meps Wed Aug 4 13:03:33.121 UTCDefects (from at least one peer MEP): A - AIS received        I - Wrong interval R - Remote Defect received   V - Wrong level L - Loop (our MAC received)   T - Timed out C - Config (our ID received)  M - Missing (cross-check) X - Cross-connect (wrong MAID) U - Unexpected (cross-check) P - Peer port downDomain EVC (level 4), Service L2NM-L2NM-EVPN-VPWS-SRTE-104  ID Interface (State)    Dir MEPs/Err RD Defects AIS----- ------------------------ &#8212; -------- &#8211; ------- &#8212;  1 Te0/0/0/15.104 (Up)   Up   1/1  Y RX    RP/0/RSP0/CPU0:ASR9006-SDN-91#RP/0/RSP0/CPU0:ASR9006-SDN-91#show ethernet cfm peer meps Wed Aug 4 13:04:41.942 UTCFlags:> - Ok             I - Wrong intervalR - Remote Defect received   V - Wrong levelL - Loop (our MAC received)   T - Timed outC - Config (our ID received)  M - Missing (cross-check)X - Cross-connect (wrong MAID) U - Unexpected (cross-check)<ul>- Multiple errors received  S - Standby</ul>Domain EVC (level 4), Service L2NM-L2NM-EVPN-VPWS-SRTE-104Up MEP on TenGigE0/0/0/15.104 MEP-ID 1================================================================================St  ID MAC Address  Port  Up/Downtime  CcmRcvd SeqErr  RDI Error&#8211; ----- -------------- ------- ----------- --------- ------ ----- -----X   2 0032.17ea.a000 Up   00:04:06     246   0  246  246RP/0/RSP0/CPU0:ASR9006-SDN-91#This got fixed after changing the SMAN id in the device manually as below.,!ethernet cfm domain EVC level 4 id null service L2NM-L2NM-EVPN-VPWS-SRTE-104 xconnect group L2NM-EVPN-VPWS-SRTE-104 p2p L2NM-EVPN-VPWS-SRTE-104 id number 100  continuity-check interval 1s  mep crosscheck  mep-id 2!The are the available attributes for SMAN id under ethernet cfm. Attached snapshot.2] As per the current CFP implementation, SMAN id is getting configured with mep id value. Mep id can be same for the device. But SMAN ID value should be different for each service. Since it is taking the value of mep-id itself for SMAN id also, it is not possible configure same mepid now. We are forced to change the mep-id for every service.3] It is Not able to unconfigure the y1731 configs that got pushed. Please let me know if there is any possibilities to unconfigure only the y1731 config for the particular service .We should have possibility to unconfigure the Y1731 profile association to the services. The below marked config should be configurable and unconfigurable.!interface TenGigE0/0/0/15.104 l2transport description T-SDN Interface encapsulation dot1q 104 no ethernet cfm no mep domain EVC service L2NM-L2NM-EVPN-VPWS-SRTE-104 mep-id 1 no sla operation profile loss target mep-id 2 no sla operation profile delay target mep-id 2 !",
        "comments": " For item 1) and 2): the configuration was push based on configuration governance in git. Please submit your request configuration to configuration governance team for approval.Item3): I applied your payload and able to delete ethernet-service-oam from the service. I don't see any screenshot attached for this issue. Please follow this guide to report the issue.Note: For deleting ethernet-service-oam, it needs to delete ethernet-service-oam from both sides (local and remote) at the same time.Attached email thread Postman collection for delete oam TSN 3.0- Folder- L2VPN-NM-OAM- Delete Y1731 configuration is changed in M6 to address this issue.Wiki and Recording available here - "
    },
    {
        "title": "[RONCFPSD-203] Not able to cleanup the device as it is referred to a internal service",
        "description": "NSO Access info: 172.23.92.238 [ admin/Cwork123! ]admin@ncs> show zombies % No entries found.admin@ncs> confEntering configuration mode privateadmin@ncs% delete devices device R1admin@ncs% commitAborted: illegal reference 'core-fp-delete-shutdown-service R1 GigabitEthernet 0/0/0/3 device'admin@ncs% run show all devices detailscommit-queue {  completed {    queue-item 1648635163377 {      when        2022-03-30T10:12:55.667022+00:00;      status       failed;      devices      [ R1 R10 ];      completed     [ R10 ];      failed R1 {        reason \"External error in the NED implementation for device R1: Mon Apr 4 07:29:39.982 UTC% Failed to commit one or more configuration items during a pseudo-atomic operation. All changes made have been reverted. !! SEMANTIC ERRORS: This configuration was rejected by !! the system due to semantic errors. The individual !! errors with each failed configuration command can be !! found below.interface GigabitEthernet0/0/0/3 l2transport!!% Subinterface or Layer 2 configuration conflicts with existing configuration, or configuration in this commit: Cannot configure an interface as L2 when L3 configuration exists !!end\";      }      completed-services [ /cisco-flat-L2vpn-fp-internal-remote-site:flat-L2vpn-internal-remote-site-service /cisco-flat-L2vpn-fp:flat-L2vpn /core-fp-delete-tag-service:core-fp-delete-shutdown-service /l2vpn-ntw:l2vpn-ntw/l2vpn-ntw:vpn-services/l2vpn-ntw:vpn-service ];      failed-services  [ /cisco-flat-L2vpn-fp-internal-local-site:flat-L2vpn-internal-local-site-service /core-fp-delete-tag-service:core-fp-delete-shutdown-service ];    }    queue-item 1648656408733 {      when        2022-03-30T16:07:00.793551+00:00;      status       completed;      devices      [ R1 R10 ];      completed     [ R1 R10 ];      completed-services [ /cisco-flat-L2vpn-fp-internal-local-site:flat-L2vpn-internal-local-site-service[cisco-flat-L2vpn-fp-internal-local-site:name='L2NM-L2vpn_tldp_R1_R10_dot1q-internal'][cisco-flat-L2vpn-fp-internal-local-site:pe='R1'] /cisco-flat-L2vpn-fp-internal-remote-site:flat-L2vpn-internal-remote-site-service[cisco-flat-L2vpn-fp-internal-remote-site:name='L2NM-L2vpn_tldp_R1_R10_dot1q-internal'][cisco-flat-L2vpn-fp-internal-remote-site:pe='R10'] /cisco-flat-L2vpn-fp:flat-L2vpn[cisco-flat-L2vpn-fp:name='L2NM-L2vpn_tldp_R1_R10_dot1q-internal'] /core-fp-delete-tag-service:core-fp-delete-shutdown-service[core-fp-delete-tag-service:device='R1'][core-fp-delete-tag-service:if-type='GigabitEthernet'][core-fp-delete-tag-service:if-id='0/0/0/3'] /core-fp-delete-tag-service:core-fp-delete-shutdown-service[core-fp-delete-tag-service:device='R10'][core-fp-delete-tag-service:if-type='GigabitEthernet'][core-fp-delete-tag-service:if-id='0/0/0/3'] /l2vpn-ntw:l2vpn-ntw/l2vpn-ntw:vpn-services/l2vpn-ntw:vpn-service[l2vpn-ntw:vpn-id='L2vpn_tldp_R1_R10_dot1q'] ];    }  }}admin@ncs% ",
        "comments": "Hello Shanmugavel,I would need a bit more context on this issue to RCA.But from your audit logs, I can assume that this was part of an automation run as I see the following unsupported operations:<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\"><INFO> 30-Mar-2022::18:10:31.649 nso1 ncs[32303]: audit user: admin/561699 CLI <INFO> 30-Mar-2022::18:10:31.657 nso1 ncs[32303]: audit user: admin/561699 CLI done<INFO> 30-Mar-2022::18:10:31.973 nso1 ncs[32303]: audit user: admin/561699 CLI <INFO> 30-Mar-2022::18:10:31.974 nso1 ncs[32303]: audit user: admin/561699 CLI done<INFO> 30-Mar-2022::18:10:32.288 nso1 ncs[32303]: audit user: admin/561699 CLI <INFO> 30-Mar-2022::18:10:32.289 nso1 ncs[32303]: audit user: admin/561699 CLI done<INFO> 30-Mar-2022::18:10:32.573 nso1 ncs[32303]: audit user: admin/561699 CLI <INFO> 30-Mar-2022::18:10:32.574 nso1 ncs[32303]: audit user: admin/561699 CLI done<INFO> 30-Mar-2022::18:10:32.882 nso1 ncs[32303]: audit user: admin/561699 CLI <INFO> 30-Mar-2022::18:10:32.882 nso1 ncs[32303]: audit user: admin/561699 CLI done<INFO> 30-Mar-2022::18:10:33.176 nso1 ncs[32303]: audit user: admin/561699 CLI <INFO> 30-Mar-2022::18:10:33.177 nso1 ncs[32303]: audit user: admin/561699 CLI done<INFO> 30-Mar-2022::18:10:33.509 nso1 ncs[32303]: audit user: admin/561699 CLI <INFO> 30-Mar-2022::18:10:33.510 nso1 ncs[32303]: audit user: admin/561699 CLI done<INFO> 30-Mar-2022::18:10:33.793 nso1 ncs[32303]: audit user: admin/561699 CLI <INFO> 30-Mar-2022::18:10:33.794 nso1 ncs[32303]: audit user: admin/561699 CLI done<INFO> 30-Mar-2022::18:10:34.078 nso1 ncs[32303]: audit user: admin/561699 CLI <INFO> 30-Mar-2022::18:10:34.078 nso1 ncs[32303]: audit user: admin/561699 CLI aborted<INFO> 30-Mar-2022::18:10:34.090 nso1 ncs[32303]: audit user: admin/561699 CLI <INFO> 30-Mar-2022::18:10:34.096 nso1 ncs[32303]: audit user: admin/561699 CLI done</pre></div></div>Again, I would like to strongly emphasize, deleting L2NM and Flat L2VPN in a single transaction is .This is likely why you are experiencing remaining artifacts from core-fp-delete-tag-service.Please reopen another ticket if you are able to reproduce this without executing unsupported operations. We will not spend more time debugging undefined behavior due to unsupported operations. This ticket will be junked unless proven that error is not caused by the conflicting delete.For more context on this, please refer to the following JSD ticket : Thanks,Isaac KimUnsupported operation : delete IETF L2NM and Flat L2 in single transaction.ok, Agree it is not supported operation, we will update the steps in automation but we are looking for the recovery steps here nowHello Shanmugavel,core-fp-delete-tag-service is a fully hidden servicepoint. It cannot be deleted unless with ncs_load commands which must be tailored specifically for your setup.We will not spend more time on these unsupported issues. I am very sorry. Our developer time is very valuable and we are rushing to meet our own deadlines. Please reinstall and ensure you are following our guidelines.Thanks,Isaac Kimthis will be the response \"we will not spend time in giving the solution or workaround\" when any customer get into issue like this? Take this as a negative case and give us a solution Hello Shanmugavel,We have given a fair warning here : Just like this ticket, we will not resolve your setup because you have executed unsupported operations as part of automation, even when we have given a warning as referenced in above ticket.If you feel like this response is unjustified, please escalate the issue with your manager.Thanks,Isaac Kim"
    },
    {
        "title": "[RONCFPSD-565] rename_list_entry issue for multi-key config",
        "description": "A JSON RPC rename_list_entry method is not working for multi-key scenario. Below is example from L2VPN service {  \"jsonrpc\": \"2.0\",  \"id\": 1,  \"method\": \"rename_list_entry\",  \"params\": {  \"th\" : 1,    \"from_path\" : \"/l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service{KC-L2vpn}/vpn-nodes/vpn-node{xrv9k-12}/signaling-option/ldp-or-l2tp/pw-peer-list{192.168.0.14 150}\",    \"to_keys\" :   }} ",
        "comments": "Hello Please let us know the Exact Error Message being seen.The following is the error response{  \"jsonrpc\": \"2.0\",  \"error\": {    \"type\": \"rpc.method.invalid_params_type\",    \"code\": -32000,    \"message\": \"Invalid parameters' type\",    \"data\": {      \"param\": \"to_keys\"    },    \"internal\": \"webui_util484\"  },  \"id\": 275}Thank you.Please let us know the NSO version being used.For example, I have used NSO version 6.1.3.1 and 6.1.4 and seen the error look as below:cisco@Janaki-nso-30:~/tsdn_jaduggir/T-SDN$ curl -b cookie -X POST -H 'Content-Type: application/json' -d ' {-H 'Content-Type: application/json' -d ' {\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"rename_list_entry\",\"params\":{\"th\": 1,\"from_path\": \"/l2vpn-ntw/vpn-services/vpn-service{l2nm-p2p}/vpn-nodes/vpn-node{PIOSXR-0}/signaling-option/ldp-or-l2tp/pw-peer-list{198.18.1.5 1001}\",\"to_keys\": } }'{\"jsonrpc\":\"2.0\",\"error\":{\"type\":\"data.not_writable\",\"code\":-32000,\"message\":\"Data not writable\"},\"id\":1}Created Internal ticket on NSO to address these error messages for Multi-Key List Key Modification - RT#50828Will update this ticket when we receive an update from NSO platform.Thank you.Verified on NSO 6.1.4 rename_list_entry works well. Commands below:cisco@Janaki-nso-30:~/tsdn_jaduggir/T-SDN$ curl -b cookie -X POST -H 'Content-Type: application/json' -d ' {\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"rename_list_entry\",\"params\":{\"th\": 1,\"from_path\": \"/l2vpn-ntw/vpn-services/vpn-service{l2nm-p2p}/vpn-nodes/vpn-node{PIOSXR-0}/signaling-option/ldp-or-l2tp/pw-peer-list{198.18.1.5 1001}\",\"to_keys\": } }'{\"jsonrpc\":\"2.0\",\"result\":{},\"id\":1}cisco@Janaki-nso-30:~/tsdn_jaduggir/T-SDN$cisco@Janaki-nso-30:~/tsdn_jaduggir/T-SDN$ curl -b cookie -X POST -H 'Content-Type: application/json' -d ' { \"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"validate_commit\",\"params\":{\"th\": 1}}'{\"jsonrpc\":\"2.0\",\"result\":{},\"id\":1}cisco@Janaki-nso-30:~/tsdn_jaduggir/T-SDN$cisco@Janaki-nso-30:~/tsdn_jaduggir/T-SDN$cisco@Janaki-nso-30:~/tsdn_jaduggir/T-SDN$ curl -b cookie -X POST -H 'Content-Type: application/json' -d ' { \"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"commit\",\"params\":{\"th\": 1}}'{\"jsonrpc\":\"2.0\",\"result\":{\"commit_queue\":{\"id\":1697703114206,\"status\":\"async\"}},\"id\":1}cisco@Janaki-nso-30:~/tsdn_jaduggir/T-SDN$ ncs_cli -u adminUser admin last logged in 2023-10-19T08:11:56.180103+00:00, to Janaki-nso-30, from 127.0.0.1 using webui-httpadmin connected from 10.21.180.254 using ssh on Janaki-nso-30admin@ncs> configureEntering configuration mode privateadmin@ncs% show l2vpn-ntw | display keypath/l2vpn-ntw/vpn-services/vpn-service{l2nm-p2p}/vpn-type vpws/l2vpn-ntw/vpn-services/vpn-service{l2nm-p2p}/vpn-nodes/vpn-node{PIOSXR-0}/signaling-option/ldp-or-l2tp/pw-peer-list{192.168.0.15 151}/cisco-l2vpn-ntw:mpls-label 101Verified on NSO 6.1.3.1 and the method still works correctly. See below for complete commands (and screenshot attached)cisco@janaki-41:~/tsdn_jaduggir/T-SDN$ curl -i -c cookie -X POST -H 'Content-Type: application/json' -d '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"login\",\"params\":{  \"user\":\"admin\",  \"passwd\":\"admin\"}}'HTTP/1.1 200 OKDate: Fri, 20 Oct 2023 15:25:15 GMTExpires: Thu, 01 Jan 1970 00:00:00 GMTCache-Control: private, no-cache, no-store, must-revalidate, max-age=0, proxy-revalidate, s-maxage=0Content-Length: 36Content-Type: application/json; charset=UTF-8Set-Cookie: sessionid_8080=sesssE+QqZAllnXpqgK5o9lxXw==; path=/; HttpOnlyVary: Accept-EncodingContent-Security-Policy: default-src 'self'; block-all-mixed-content; base-uri 'self'; frame-ancestors 'none';Strict-Transport-Security: max-age=15552000; includeSubDomainsX-Content-Type-Options: nosniffX-Frame-Options: DENYX-XSS-Protection: 1; mode=blockcisco@janaki-41:~/tsdn_jaduggir/T-SDN$ curl -b cookie -X POST -H 'Content-Type: application/json' -d 'Content-Type: application/json' -d '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"new_trans\",\"params\":{  \"db\": \"running\",  \"mode\": \"read_write\"}}'cisco@janaki-41:~/tsdn_jaduggir/T-SDN$ curl -b cookie -X POST -H 'Content-Type: application/json' -d ' {-H 'Content-Type: application/json' -d ' {\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"rename_list_entry\",\"params\":{\"th\": 1,\"from_path\": \"/l2vpn-ntw/vpn-services/vpn-service{l2nm-p2p}/vpn-nodes/vpn-node{PIOSXR-0}/signaling-option/ldp-or-l2tp/pw-peer-list{198.18.1.5 1001}\",\"to_keys\": } }'cisco@janaki-41:~/tsdn_jaduggir/T-SDN$ curl -b cookie -X POST -H 'Content-Type: application/json' -d ' {ntent-Type: application/json' -d ' { \"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"validate_commit\",\"params\":{\"th\": 1}}'cisco@janaki-41:~/tsdn_jaduggir/T-SDN$ curl -b cookie -X POST -H 'Content-Type: application/json' -d ' { \"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"commit\",\"params\":{\"th\": 1}}'{\"jsonrpc\":\"2.0\",\"result\":{\"commit_queue\":{\"id\":1697815563132,\"status\":\"async\"}},\"id\":1}cisco@janaki-41:~/tsdn_jaduggir/T-SDN$cisco@janaki-41:~/tsdn_jaduggir/T-SDN$ ncs --version6.1.3.1Please confirm if ticket maybe closed.NSO 6.1.3.1 and NSO 6.1.4 both work correctly for rename_list_entry. Customer confirmed that ticket can be closed."
    },
    {
        "title": "[RONCFPSD-571] RON build for CNC 6.0, NSO 6.1.4, TSDN 6.1.4 Drop 8 or 9 ",
        "description": "Hi team,Kindly share the compatible RON image that works along with CNC 6.0, NSO 6.1.4, TSDN 6.1.4 Drop 8 or 9 .As per below link , the images arenso-6.1.linux.x86_64.installer.bin + nso-6.1-ron-2.1.0.signed.bin.Kindly suggest the RON build that can be used along with CNC 6.0, NSO 6.1.4, TSDN 6.1.4 Drop 8 or 9 .",
        "comments": "Hi Ajitha.You can find RON 2.1.1 patch build here: Here's a summary of steps to install RON 2.1.1 on a setup with CNC 6.0 DTHO 9:1. make sure ncs-xxx-cisco-iosxr-749.tar.gz available2.install the below packages ncs-xxx-cisco-ron-core-fp-common-xxx.tar.gz ncs-xxx-cisco-optical-cfp-xxx.tar.gz ncs-xxx-cisco-ron-cfp-xxx.tar.gz ncs-xxx-cisco-zr-cfp-xxx.tar.gz ncs-xxx-onf-tapi-nc-xxx.tar.gz3.restart ncs with package reload4.bootstrapping RON per installation wiki5.onboard RON headend devices using CLI NED 7.49Please refer to the installation section of RON 2.1.1 for complete detailed stepsLet me know if you have any questions.Thanks,AbeHi Ajitha.You can find RON 2.1.1 patch build here:Here's a summary of steps to install RON 2.1.1 on a setup with CNC 6.0 DTHO 9:1. make sure ncs-xxx-cisco-iosxr-749.tar.gz available2.install the below packages ncs-xxx-cisco-ron-core-fp-common-xxx.tar.gz ncs-xxx-cisco-optical-cfp-xxx.tar.gz ncs-xxx-cisco-ron-cfp-xxx.tar.gz ncs-xxx-cisco-zr-cfp-xxx.tar.gz ncs-xxx-onf-tapi-nc-xxx.tar.gz3.restart ncs with package reload4.bootstrapping RON per installation wiki5.onboard RON headend devices using CLI NED 7.49Please refer to the installation section of RON 2.1.1 for complete detailed stepsLet me know if you have any questions.Thanks,AbeReached out to Ajitha and said to go ahead and close the ticket.RON 2.1.1 patch build ca be found here:Here's a quick summary of steps to install RON 2.1.1 on a setup with CNC 6.0 DTHO 9:1. make sure ncs-xxx-cisco-iosxr-749.tar.gz available2.install the below packages ncs-xxx-cisco-ron-core-fp-common-xxx.tar.gz ncs-xxx-cisco-optical-cfp-xxx.tar.gz ncs-xxx-cisco-ron-cfp-xxx.tar.gz ncs-xxx-cisco-zr-cfp-xxx.tar.gz ncs-xxx-onf-tapi-nc-xxx.tar.gz3.restart ncs with package reload4.bootstrapping RON per installation wiki5.onboard RON headend devices using CLI NED 7.49"
    },
    {
        "title": "[RONCFPSD-217] Does not have access to download custom-template.tar.gz",
        "description": "Hi Team,the custom-template.tar.gz is does not able to be downloaded as the CEC credentials are not accepted.Please help to check.",
        "comments": "Hello, the wiki page has been fixed. Please try again and confirm. Thank you.Hi,The issue has not been fixed.We are getting the following error upon clicking the hyper link.{ \"errors\" : [ {  \"status\" : 404,  \"message\" : \"File not found.\" } ]}Thanks,DineshClosing ticket as customer has confirmed that download is successful.Wiki page link was fixed and download is successful."
    },
    {
        "title": "[RONCFPSD-559] Provisioning Menu is not loading fully on regression setup",
        "description": "After installing 375 build on regression setup, the Provsioning Menu is not loading. We tried to re-install and restart NSO, but the issue still exists. Both the cert file and the auth key looks fine on both CW and NSO.Installed 387 and still seeing the same issue. Tried changing NSO to HTTP only, but it does not help. Restarted NSO, still the issue exists. This is blocking regression runs. cw-na-dg-6.0.0-541cw-na-cat-6.0.0-240-developcw-na-coe-6.0.0-264-developcw-na-platform-6.0.0-387-developJWT Logs throws errorroot@ubuntu2004:/var/log/ncs# tail -f ncs-python-cisco-cfp-jwt-auth.log2023-09-15 18:50:15.270 authenticate:261 INFO: Exception jwt-auth: HTTPSConnectionPool(host='10.23.213.27', port=30603): Max retries exceeded with url: /crosswork/sso/v2/userInfo (Caused by ProxyError('Cannot connect to proxy.', OSError('Tunnel connection failed: 504 Gateway Timeout')))2023-09-15 18:50:16.780 authenticate:261 INFO: Exception jwt-auth: HTTPSConnectionPool(host='10.23.213.27', port=30603): Max retries exceeded with url: /crosswork/sso/v2/userInfo (Caused by ProxyError('Cannot connect to proxy.', OSError('Tunnel connection failed: 504 Gateway Timeout')))2023-09-15 18:51:33.279 authenticate:261 INFO: Exception jwt-auth: HTTPSConnectionPool(host='10.23.213.27', port=30603): Max retries exceeded with url: /crosswork/sso/v2/userInfo (Caused by ProxyError('Cannot connect to proxy.', OSError('Tunnel connection failed: 504 Gateway Timeout')))2023-09-15 18:57:40.222 authenticate:261 INFO: Exception jwt-auth: HTTPSConnectionPool(host='10.23.213.27', port=30603): Max retries exceeded with url: /crosswork/sso/v2/userInfo (Caused by ProxyError('Cannot connect to proxy.', OSError('Tunnel connection failed: 504 Gateway Timeout')))NSO ? 10.195.165.178 (admin/Ovatest123@)",
        "comments": "Hi Swetha, Can you please provide the setup on which you are facing this issue?NSO - 10.195.165.178 (admin/Ovatest123@)Can I get the CNC credentials too?10.23.213.27 - admin/Ovatest123@Adding CNC host IP to no-proxy on NSO server seems to help. Will wait for Shweta to update after nightly run.Added CNC host to no_proxy fixed the issue.Runs are completed. Provisioning issue was resolved. "
    },
    {
        "title": "[RONCFPSD-583] jwt token issue in upgraded setup",
        "description": "We migrated from NSO TSDN 5.0 to TSDN 6.0 LSA setup. we moved to jwt authentication for CW. specified ip, certificate file, and port no. However JWT authentication is not successful. We use public ip for NSO and private IP for CW. We have reachability from CW to NSO. Is this enough for the authentication? Do we need connectivity from NSO to CW ?NSO : 192.168.103.235 - admin/Ovatest123@CW: ssh -L 30166:192.168.5.48:30603 root@192.168.103.138 Creds for 192.168.103.138 - root/Cwork123!Creds for CW : admin/Ovatest123@i get authentication failed message.",
        "comments": "Hi Ramakrishnan,CW should be reachable from NSO as well.Currently we are getting \"Failed to establish a new connection: Connection timed out'))\".Thanks And Regards,Nishad Subair.After establishing reachability, NSO JWT token issue is resolved. Thank you.Thank you for the update. As the issue is resolved , closing this ticket."
    },
    {
        "title": "[RONCFPSD-232] Extra Resource Pool seen in M5, ip-lsa-pool & sman-id-pool",
        "description": "Noticed the following 2 Resource Pools were added as default in TSDN 4.0.0 M5ip-lsa-pool sman-id-poolAre there expected? ",
        "comments": "Hi Crystal,It is expected one pool is for XR Y1731, and other (ip sla) for XE.Thanks,LinhHi Crystal, I will close this ticket in couple days if there is no update from your side.Thanks,Linh"
    },
    {
        "title": "[RONCFPSD-554] interfaces not listed",
        "description": "While provisioning L2VPN service in CNC, all interfaces are not listed in the CNC. This list should be coming from NSO, CFP. Some gig interfaces in shutdown mode were not listed. Those interfaces were brought up and NSO sync was performed. Why few interfaces are not listed? ",
        "comments": "CNC : 10.195.165.208 - admin/Ovatest123@NSO : 10.195.165.224 - admin/Ovatest123@Device : 192.168.5.49You can ignore this JSDSure. Will be closing this.ThanksSahithi"
    },
    {
        "title": "[RONCFPSD-540] L2 Slice ID Charcter Length Limitation",
        "description": "Hi,I'm trying to create a L2 slice which has service-id of max 19 characters. Its throwing error like below,\"error-message\": \"/l2vpn-ntw/vpn-services/vpn-service{NSS-UIT-Slice-L2-Chr-19-internal}: STATUS_CODE: TSDN-IETF-L2NM-407REASON: Missing inputCATEGORY: validationSEVERITY: ERRORContext \"But, when try to create L3 of 19 chars length it get created successfully.Attaching the payloads of L3 and L2 both.Thanks,Magesh",
        "comments": " Hi,Setup:User: nsoPwd: Vtsisco@123!Hi MagneshThere is a discrepancy between external service id and internal brigde-group name length. Dev is on going to fix this issue. I will close the ticket when the codes is merged in.Thanks,LinhHello, this issue has been fixed and merged. Fix will be available in the next drop. Issue has been fixed by changing the range of NSS service-id group from 19 to 17 to match L2 bridge-group length.CDETS tracking this issue is : CSCwh32635"
    },
    {
        "title": "[RONCFPSD-226] Links for all dependent packages so that we can consume in tm-tc packages.",
        "description": "Request from TM-TC group to provide all links.",
        "comments": "Response Captured:Hi Moksha,Custom-template-utils and Core-fp-common are cfp common packages.As mentioned in earlier emails, they are hosted in different repo.Re-adding the links from prior emails sent:CFP common packages: (Different from nso-snapshot)Official NED packages:Engineering NED packages:Please save these links for future purposes.If it is hard to download from above links, you can update using below alternate approach:We document every common package addition/update in the CHANGES file.CHANGES file is included in the build.Please look at the CHANGES file and consume the packages from build as an alternative.Please let me know if there any other issue.ThanksSahithi Email thread and the resolution attached"
    },
    {
        "title": "[RONCFPSD-568] Provision services failed with error: External error in the NED implementation for device XYZ: config exclusive: config exclusive",
        "description": "When create a NSS or L3vpn-ntw, failed with External error in the NED implementation for device XYZ config exclusive: config exclusive.The same payloads were used with M7 without any issue. On this test bed we have 3 devices with the same IOSXR version 7.11.1.27I, device TB2-PE-A and TB2-PE-C failed. Abe Tan helped debugging the issue where we check log files and also tried to run the same payload from cli with \"commit dry-run\" without any issue - only when \"commit\" the error msg displayed.admin@ncs% commit Aborted: External error in the NED implementation for device TB2-PE-C: config exclusive: config exclusiveFri Oct 13 02:30:00.422 UTCadmin@ncs%A device trace was turn on to capture log, ned-cisco-iosxr-cli-7.49-TB2-PE-C.trace, please see attached file.Please check if the issue could come from day 0 configuration or anything else that could be missing from the devices.Thanks and regards.",
        "comments": " Hello NSO team, please close the ticket - as the issue has been resolved. The device had an inconsistency alarm set thus it prevented any configuration. Thanks and regards.Spoke to Quy and found out the device had an inconsistency alarm set thus it prevented any configuration. Closing the ticket as complete"
    },
    {
        "title": "[RONCFPSD-187] Configure SRv6 SR-TE Policies failed with CLI 7.5.2",
        "description": "Hi Team,Got a report below, could you please confirm - does M4 support SRv6 sr-te policy with CLI - 7.5.2?Thanks and regards,-QuyL2VPN-SRV6 ; L3VPN-SRV6 is created on PE-A/B with 7.5.2 image, but SRV6 is not created ; throwing below error message.\u00a0Thu Mar 24 19:39:14 IST 2022:DEBUG: << \" \"error-message\": \"/cisco-sr-te-cfp-internal:sr-te/cisco-sr-te-cfp-sr-policies-internal:policies/policy{srv6_vpn_policy-5001 TB3-PE-A}: Python cb_validate error. STATUS_CODE: TSDN-SR-411REASON: SRv6 is not supported with current device or NEDCATEGORY: userSEVERITY: ERRORContext [name = SRv6 validation, message = Either device not synced or NED/device image version is not supported for SRv6 state = {'Service': 'srv6_vpn_policy-5001', 'Device': 'TB3-PE-A', 'NED-ID': 'cisco-iosxr-cli-7.38:cisco-iosxr-cli-7.38', 'Version': '7.5.2.19I'}]\"\"Server info:172.24.97.147 nso/Vtsisco@123!",
        "comments": "Hi Quy,SRv6 with Sr-ODN and SR-Policy is ONLY support for XR 7.3.2 right nowThanks,Linhhi Linh,Thank you for your update.Could you please confirm that XR 7.3.2 is the only version that supports SRv6 in NSO 4.0? From the  under item 7, it stated:\"The SRv6 feature introduced in this release is only supported on IOSXR 7.3.2 device. ReferDevice Matrix Support - CNC-3.0 - TSDN and RON. \"where the link is still referring to CNC-3.0 . Wondering if all of the matrix are also applied for 4.0 ?Thanks and regards,-QuyHi Quy,This feature is carried over from 3.0 and there is no changed in XR version support - ONLY XR 7.3.2Thanks,Linh"
    },
    {
        "title": "[RONCFPSD-193] CFP Installation and Uninstallation steps differs",
        "description": "Hi,in NSO TSDN CFP 4.0.0 M3 and M4 installation link has steps to copy the every package to /opt/ncs/package and creating sudo ln -s link to /var/opt/ncs/packages.But, the unsintallation has steps of \"sudo rm -rf /var/opt/ncs/packages/*.tar.gz\" .this confuses a new user having different steps in different places. we should have respective steps for install and uninstall in the same way.please clarify, if we can have have m3 and m4 installation as mentioned in M2 .$ sudo /etc/init.d/ncs stop$ sudo cp core-fp-packages/*.tar.gz /var/opt/ncs/packages$ sudo cp example-packages/*.tar.gz /var/opt/ncs/packages$ sudo NCS_RELOAD_PACKAGES=force /etc/init.d/ncs restartplease correct the wiki and clarification needed.Thanks,Arun.M.G",
        "comments": "Hi ArunThe steps mentioned in M4 ad M3 are performing the same functionality as the one mentioned in M2. You can use either of them to copy the packages.M4 and M3 steps are just a detailed version of the existing one and they allow you to delete the packages from your runtime directory(/var/opt/ncs/packages) but still keep the packages in your installation directory(/opt/ncs/packages/).Let us know if anything else is required or we can close the ticket.Thanks.Hi Nikhil ,Thanks for the clarification.from M3 /M4 system installation Guide and M3/M4 System uninstallation Guide, Installation guide talks about creating symbolic links , uninstallation talks about removing the packages from /var/opt/ncs/packages.does installing creating symbolic links and during uninstallation removing packages from /var/opt/ncs/packages works without unlink ?please clarifyThanks,Arun.M.GHi ArunThe below uninstallation step is removing the links created during the installation only. It's not deleting the packages but removing the links(unlinking) created in the runtime directory(/var/opt/ncs/packages)<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\">$ sudo rm -rf //opt/ncs/packages/*.tar.gz</pre></div></div>Let me know if anything else is required or I can close the ticket.Thanks, NikhilClosing the ticket as the required information has been provided."
    },
    {
        "title": "[RONCFPSD-35] hcc package issue",
        "description": "Follow the steps to setup NSO HA for 5.5.2.3 wit the following wiki link:Issue1, at step 8: Can not find HCC package for 5.5.2 under: Issue2: I got the HCC package file (ncs-5.5.2-tailf-hcc-project-5.0.0.signed.bin) from other VM. It failed with \"python not found\" when run the following command. But python 3.8 is installed on the system.root@nso-169:~/HCC# sudo sh ncs-5.5.2-tailf-hcc-project-5.0.0.signed.binUnpacking...Verifying signature...ncs-5.5.2-tailf-hcc-project-5.0.0.signed.bin: 81: python: not foundncs-5.5.2-tailf-hcc-project-5.0.0.signed.bin: 90: python: not foundERRORERROR Failed to perform signature verification.ERROR Verification requires Python version 2.7.4 or later.ERRORroot@nso-169:~/HCC# python3 -VPython 3.8.10",
        "comments": "Hi Crystal,It seems python (not python3) is not setting on the setup.Does your system has python command? If not, please create a soft link python -> python3.The issue should be resolve after this!Thanks,LinhMissing python server setting"
    },
    {
        "title": "[RONCFPSD-144] info is not populating at show devices lsa dispatch-map device",
        "description": "I have a LSA setup, after adding my device in RFS, i can see the dispatch map updated. but this tree doesn't have required information \"show devices lsa dispatch-map device\". The actual problem i have seen is in my yang file, i set node information as path \"/core-fp-common:dispatch-map/core-fp-common:device\";\u00a0even though dispatch map on cli shows it has device, while creating my plan, it errors with illegal reference error which says device doesn't exist.",
        "comments": "Hi Raja,Please share your setup info. I just want to see how do you set it up.Thanks,LinhRaja responded via email mentioning that he no longer seeing the issue with dispatch map:<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>Hi All, I was doing some trial and error and I don\u2019t see the below issue now. I will continue with the current config and update if I face any issue further. Regards,Moksha</pre></div></div>"
    },
    {
        "title": "[RONCFPSD-150] Clarification needed on RSVPTE  tunnel - IETF-TE-FP",
        "description": "Hi,we would like to know if we have support for path protection ( backup tunnel) te conifg in NSO CFP.!mpls traffic-enginterface GigabitEthernet0/0/0/6 backup-path tunnel-te 500 backup-path tunnel-te 150!Thanks,Arun.M.G",
        "comments": "We do not. Are you able to use custom templates to satisfy your requirements?Hi Reginald,Thanks for the confirmation. can you please share the details / link to make use of Custom template with example?Thanks,Arun.M.GHere you go: You probably want to use device templates over feature templatesHi Arun,Did the device templates work for you?Thanks,RegiClosing ticket due to no response from submitterProposal suggested in this ticket will not work as PLM is looking for redundancy to be supported/expressed as part of service intent. "
    },
    {
        "title": "[RONCFPSD-385] Transport Slicing - hub rt value not accepting",
        "description": "Hi,While provisioning the transport slice, I'm giving,connectivity-type : any-to-anycisco-nss:vpn-target:auto-hub-rt: autohub-rt : 0:65001:100When i commit the transaction, i'm getting the below error:reason: invalid literal for int() with base 10: '0/0/0/1'. paths: /l3nm:l3vpn-ntw/vpn-services/vpn-service{NSS-L3-Dedic-100-internal}. path: /l3nm:l3vpn-ntw/vpn-services/vpn-service{NSS-L3-Dedic-100-internal}Thanks",
        "comments": "Hi Magesh,Please share you payload.Thanks,Regi"
    },
    {
        "title": "[RONCFPSD-391] NSO TSDN 5.00-M4 FP service 250 failure",
        "description": "Service 250 also fails to be successfully deployed with working tunnels.It has single statements ; 2 head-ends and still we see no tunnel.Please review payloads (PFA) and advise.Regards,Shlomi",
        "comments": "  Had a meeting with Shlomi and tunnels are not up possibly due to missing BGP connectivity between PE-A and PE-C.Had a meeting with Shlomi and other required participants and figured out that the payload was missing some config due to which the tunnels were not getting created.Modified the payload and the tunnels were created.There was some config missing in the payload. Issue was resolved after fixing the payload"
    },
    {
        "title": "[RONCFPSD-346] Internal CS policies and VPN services mapping with parent service model",
        "description": "IN CNC UI , We have use-cases to know the mapping between internal policies/services that gets created from different model. Example for Circuit style model, it creates 2 internal SR-policies which has a different service key (Config ID/Name). The pattern we are seeing is '-internal' at the end. To understand and map the parent to the internal, we need to hardcode in our code.Is NSO model has this information available ? If not can this be a new requirement .",
        "comments": "I'm not sure what exactly you are asking? Are you asking for the parent service backpointers to be available in the model instead of using the hardcoded service names based on `-internal` suffix?Thats correct. How do we know which parent service created the internal services ?Hi Dedeepya,You should be able to \"get-modifications\" to get the underlying services and then keep track of the parent services from CNC UI?Thanks,RegiHi,Had a discussion with my team and it seems you are able to get the service-meta-data via restconf which will show the backpointers ( ie parent services ).Command:Output:<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre><vpn-services xmlns=\"urn:ietf:params:xml:ns:yang:ietf-l2vpn-ntw\" xmlns:l2vpn-ntw=\"urn:ietf:params:xml:ns:yang:ietf-l2vpn-ntw\">  <vpn-service refcounter=\"3\" backpointer=\"[ /ietf-nss:network-slice-services/cisco-nss:slice-service-plan[cisco-nss:service-id='L2-ANY-TO-ANY']/cisco-nss:plan/cisco-nss:component[cisco-nss:type='ietf-nss-nano:sdp'][cisco-nss:name='0']/cisco-nss:state[cisco-nss:name='ietf-nss-nano:config-apply'] /ietf-nss:network-slice-services/cisco-nss:slice-service-plan[cisco-nss:service-id='L2-ANY-TO-ANY']/cisco-nss:plan/cisco-nss:component[cisco-nss:type='ietf-nss-nano:sdp'][cisco-nss:name='1']/cisco-nss:state[cisco-nss:name='ietf-nss-nano:config-apply'] /ietf-nss:network-slice-services/cisco-nss:slice-service-plan[cisco-nss:service-id='L2-HUB-SPOKE']/cisco-nss:plan/cisco-nss:component[cisco-nss:type='ietf-nss-nano:shared-slice'][cisco-nss:name='L2-ANY-TO-ANY']/cisco-nss:state[cisco-nss:name='ietf-nss-nano:config-apply'] ]\"></pre></div></div>....Thanks,RegiExample you shown is for VPN services. My understanding is this will be same for SR Policy model as well. \"backpointer\" will reference the CS model instance that created these internal SR polices. Please confirm.Thank you. Hi Dedeepya,Sorry for the late response, but that's correct the service-meta-data is the same for all types of services as this is common information provided by the NSO platform and the our T-SDN CFPs itself.Thanks,Regi"
    },
    {
        "title": "[RONCFPSD-420] Device does not have a Network Element Driver registered error displayed though NSO installation was successful with devices",
        "description": "Device does not have a Network Element Driver registered error displayed though NSO installation was successful with devices",
        "comments": " As per Link Ly triage analysis, this issue seems to be related to python3 crashing on NSO VM which is due to the memory leak known issue. This was impacting the NED packages to go into operation down state and NED registration issue for all devices.Note: The NSO VM (ubuntu 18) has sufficient resources (16 CPU, 64 Memory, 350 GB HD.) allocated but still memory crash issue is seen even with 2 services. This is interrupting testing ON/OFF.Workaround: Restarting ncs service with force package reload helped to resolve the issue. NED packages were updated to open UP state and devices were in-sync."
    },
    {
        "title": "[RONCFPSD-434] Information needed on check-sync/sync-from/sync-to",
        "description": "Hi Team,I have a L3 MVPN service where I have one device out-of-sync.I want to check what will be the behavior of sync-from/sync-to on the L3 MVPN Service after I do sync-from on the device.Steps:1) Created a L3MVPN Service2) Login onto one of the device and update anything in the service3) Edit the Service, it will fail with the error device is out-of-sync4) perform sync-from on the device5) Perform sync-from or sync-toExpecting: it should pull the changes from the device and update the serviceCurrent behavior: ErrorScreenshot attached",
        "comments": "Hello, Can you please provide us with the Payload being used and the NSO version being used for this issue? Attached the payloadCustomer confirmed this is NSO 6.1 versionDo we have any defect on this? or notes?So the issue is only when performing check-sync/sync-from/sync-to on MVPN Service? Customer confirmed that there is no behavior change and it is working correctlySee CDETS for more info"
    },
    {
        "title": "[RONCFPSD-352] NSO CFP - 5.0 - M3 - namespaces changed for multiple models - ODL compilation failure.",
        "description": "The M3 wiki page, , did not mentioned any changes to the new yang files under IETF-L3NM, we have to go through the Detail section to find these newly added feature:*ietf-mvpn.yang *cisco-mvpn.yang and the replacement of the namespaces following:ietf-te-cisco => cisco-teietf-l2vpn-ntw-cisco => cisco-l2vpn-ntwietf-l3vpn-ntw-cisco-augmentations => cisco-l3vpn-ntwApart from this, for IETF-L3NM - we faced issue with ODL from the new augmentation file mentioned above when we add the new 'mvpn' feature: Failed to execute goal org.opendaylight.yangtools:yang-maven-plugin:5.0.10:generate-sources (binding) on project ietf-l3vpn-nm-inventory-nbi-plugin: yang-to-sources: One or more code generators failed, including failed list(generatorClass=exception) {org.opendaylight.mdsal.binding.maven.api.gen.plugin.CodeGeneratorImpl=java.lang.NullPointerException} -> it would be nice if the Model/Payload change page have all the newly added and actual list of new or modified yang files.",
        "comments": "Sure Quy, I will reach out to the developer who worked on this feature to add the additional new models to the models/changes page.Thanks,RegiHi Quy,I've gone ahead and update the wiki with a full list of model changes from M2--->Thanks,RegiHi Regi,Thank you so much for updating the wiki - i wish this was done at the M3 release on 10/7 so we could plan ahead - where 31 files were updated from the previous 3 files. Please keep the same update for M4 if possible.Thanks again,-QuySure, no problem. Will go ahead and close this ticket now.Thanks,Regi"
    },
    {
        "title": "[RONCFPSD-408] NSO CFP - 5.0 - M5-ENG-1 yang file changed without revision dates.",
        "description": "Best practice to add the revision when a yang file is modified, the following model yang files changed without 'revision':ietf-routing-policy.yang commenting out the block w/o revision of the following:// grouping apply-policy-group {//  description//   \"Top-level container for routing policy applications. This//   grouping is intended to be used in routing models where//   needed.\";ietf-l2vpn-ntw-nano-services.yangmodified w/o revision     ncs:pre-condition {ncs:monitor \"$SERVICE/l2vpn-ntw:vpn-nodes/l2vpn-ntw:vpn-node\" {ncs:trigger-expr \"not($SERVICE/l2vpn-ntw:vpn-type = 'vpn-common:mpls-evpn')\";+     ncs:monitor \"$SERVICE/vpn-type\" {+      ncs:trigger-expr \"not(. = 'vpn-common:mpls-evpn')\";      }     ncs:pre-condition {ncs:monitor \"$SERVICE/l2vpn-ntw:vpn-nodes/l2vpn-ntw:vpn-node\" {ncs:trigger-expr \"$SERVICE/l2vpn-ntw:vpn-type = 'vpn-common:mpls-evpn'\";+     ncs:monitor \"$SERVICE/vpn-type\" {+      ncs:trigger-expr \". = 'vpn-common:mpls-evpn'\";      }</ul>ietf-network-slice-service.yang modified w/o revision dateuses ncs:service-data;ncs:servicepoint ietf-nss-servicepoint;+   ncs:servicepoint ietf-nss-servicepoint {+    ncs:conflicts-with ietf-nss-servicepoint;+   }cisco-network-slice-service.yangmodified w/o revision date \u2013 @@ -216,6 +216,12 @@ module cisco-network-slice-service {}}}+   container sman-id-allocation-data {+    tailf:hidden full;+    leaf sman-id {+     type string;+    }+   }list dedicated-slice {Thanks and regards,-Quy",
        "comments": "Hello, we have created an internal Jira ticket to track this revision date change.Thank you.Ticket has been fixed and merged. Fix will be available in the next release (TSDN 5.0 M5). Thank you."
    },
    {
        "title": "[RONCFPSD-409] zlib 1.2.7.1 missing NSO 6.0",
        "description": "This is the error message while starting ncs/opt/ncs/current/lib/ncs/erts/bin/ncs.smp: /lib64/libz.so.1: version `ZLIB_1.2.7.1' not found (required by /opt/ncs/current/lib/ncs/erts/bin/ncs.smp)Latest zlib 1.2.7-20.el7_9 is installed in this setup Cent OS 7 setup.Exact zlib 1.2.7.1 is not available. How to proceed with starting ncs install.Setup : 172.20.63.189cnctest/Ovatest123@",
        "comments": "# yum list zlibLoaded plugins: fastestmirror, langpacksLoading mirror speeds from cached hostfile<ul>\t<li>base: centos.mirrors.hoobly.com</li>\t<li>extras: centos-distro.cavecreek.net</li>\t<li>updates: centos.vwtonline.netInstalled Packageszlib.i686                               1.2.7-20.el7_9                              @updateszlib.x86_64                              1.2.7-20.el7_9                              @updates#</li></ul>Hello, we would recommend troubleshooting this issue with your support teams.For TSDN, We have already provided the relevant info on the release email.Regardless, I have posted link from a general google search as below which may provide some pointers.Thank you.Ticket is Misrouted. Troubleshooting this issue is not in our scope.Internal comment!!CentOS-7 is based on RHEL-7 (released back in 2014), which include libc-2.17, and therefore not supported since glibc-2.19 is required. Upgrading to CentOS-8 should solve this."
    },
    {
        "title": "[RONCFPSD-435] Getting devices not have Network element driver registered in NSO",
        "description": "DescriptionInstalled NSO - ncs-6.1_221212.150815390.4b4cc38b0df7.linux.x86_64.installer.binAdded required tsdn and dlm package - nso-6.1_221212-tsdn-5.0.0-M5-NSO-Engg-1.tar.gz and cw-na-dlm-fp-5.0.0-nso-6.1-eng-38-221220.tar.gzNSO was properly connected and synced with devices. Due to power outage in lab all VM's got powered off. After bring up the VM's and devices checked the connectivity status getting this error Device <device name> does not have a Network Element Driver registeredTried removing devices and re-attached still getting same error",
        "comments": "setup detail - 10.22.179.240 - xrd1/Cwork123!Hi Murali,I saw that some of package ware not up. So I restart NCS and every thing works normally now.I forsee this isssue would happen again since the system memory is NOT up to specificationxrd1@xrd1:~$ lsmemRANGE                 SIZE STATE REMOVABLE BLOCK0x0000000000000000-0x00000000bfffffff  3G online    yes  0-230x0000000100000000-0x000000043fffffff 13G online    yes 32-135Memory block size:    128MTotal online memory:   16GTotal offline memory:   0BPlease increase the DRAM on this server. At least it should be 64GB as minimun requirementThanks,LinhThere is no update from submitter. I am going to close the ticket.Regards,Linh"
    },
    {
        "title": "[RONCFPSD-353] Issues while provisioning from NSO to Juniper device. ",
        "description": "Trying to provision from NSO to Juniper device (version:Junos: 22.1R1.10). Juniper device package install (ncs-5.7.6-juniper-junos-4.7.12.tar.gz), Device addition, ssh fetch host keys and sync succeeded. But while trying to provision, receiving error as belowError:\u26a0\ufe0f Validation failederrors: reason: Python cb_validate error. STATUS_CODE: TSDN-L3VPN-408 REASON: Router NED not supported CATEGORY: user SEVERITY: ERROR Context [name = Router NED not supported: juniper-junos-nc-4.7:juniper-junos-nc-4.7, message = Missing dynamic device mapping state = {'Device': 'F9-Juniper-vMX', 'Service': 'L3NM-L3VPN_NM-IGP-IPV4-90-internal', 'Device NED ID': 'juniper-junos-nc-4.7:juniper-junos-nc-4.7'}] . paths: /cisco-flat-L3vpn-fp-internal:flat-L3vpn{L3NM-L3VPN_NM-IGP-IPV4-90-internal F9-Juniper-vMX_1}. path: /cisco-flat-L3vpn-fp-internal:flat-L3vpn{L3NM-L3VPN_NM-IGP-IPV4-90-internal F9-Juniper-vMX_1}Kindly help fixing the issue. ThanksSetup: 10.195.165.90 - xrd1/xrd1",
        "comments": "Hi Ajitha,I'm assuming you've already created a python implementation for the juniper NED. Now, you need to set the dynamic mappings for the juniper NED for L3.:<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>admin@ncs% show cisco-flat-L3vpn-fp:cfp-configurations dynamic-device-mapping dynamic-device-mapping cisco-ios-cli-6.77:cisco-ios-cli-6.77 {  python-impl-class-name flat_l3vpn_multi_vendors.IosXE;}dynamic-device-mapping cisco-iosxr-nc-7.315:cisco-iosxr-nc-7.315 {  python-impl-class-name flat_l3vpn_multi_vendors.NativeXR;}dynamic-device-mapping cisco-iosxr-nc-7.3:cisco-iosxr-nc-7.3 {  python-impl-class-name flat_l3vpn_multi_vendors.NativeXR;}dynamic-device-mapping cisco-iosxr-nc-7.4:cisco-iosxr-nc-7.4 {  python-impl-class-name flat_l3vpn_multi_vendors.NativeXR;}dynamic-device-mapping cisco-iosxr-nc-7.5:cisco-iosxr-nc-7.5 {  python-impl-class-name flat_l3vpn_multi_vendors.UMXR;}dynamic-device-mapping cisco-iosxr-nc-7.6:cisco-iosxr-nc-7.6 {  python-impl-class-name flat_l3vpn_multi_vendors.UMXR;}dynamic-device-mapping cisco-iosxr-nc-7.7:cisco-iosxr-nc-7.7 {  python-impl-class-name flat_l3vpn_multi_vendors.UMXR;}</pre></div></div>Thanks,RegiHi Reginald, I have added Juniper NED . would you please suggest the steps for Python implementation for the Juniper NED/to check if its done correctly.I can see the Juniper package in \"show packages package oper-status\" and im able to add Juniper ned to device and sync it. But i dont see juniper equivalent of \"cisco-flat-L3vpn-fp:cfp-configurations\". Would you please suggest to resolve thisHi Ajitha,T-SDN does not support Juniper devices by default. You can leverage \"multi-vendor\" support by writing your own package which translates L3 Service configs to Juniper NED configuration.For more details, please refer to our wiki: Thanks,RegiSpoke to Ajitha, she will reach out to CX since it seems they added Juniper support"
    },
    {
        "title": "[RONCFPSD-347] Could not provision L2VPN service with 700 EP",
        "description": "NCS - 5.7.5.1, Scale setup with 25K devices.Tried to create L2VPN ELAN with 500 EP. It completed in 26 mins.L2-EVPN_MP_ELAN_14 Attempted to create the same with 700 EP. It took 75 mins and it timed out with following message<errors xmlns=\"urn:ietf:params:xml:ns:yang:ietf-restconf\"> <error>  <error-type>application</error-type>  <error-tag>malformed-message</error-tag>  <error-path></error-path>  <error-message>rfs-3: transport timeout; closing session</error-message> </error></errors>Service : L2-EVPN_MP_ELAN_15Setup : 172.20.63.132 - cnctest/Ovatest123@ - CFS172.20.63.148,172.20.63.149,172.20.63.150 - Same credentialsNeed support to provision service upto 1000 EP. ",
        "comments": "Hi Rama, would you be able to tell me how long it took for the commit to timeout (75 minutes for single service before timeout)? Also is this a single L2VPN MP service or several services?Thanks,Isaac KimWhen you commit your L2 service, could you execute the commit with the following settings:commit | details very-verbose | save commit-output.txtOnce done, could you upload the commit-output.txt to this ticket?Thanks,Isaac KimI execute this command as REST api using curl command. This is a single L2VPN service with 700 end points from 700 devices. i dont execute explicit commit.  The script completed in 4551 Seconds, same as 75 mins. Attaching the payload to this ticket. You can remove first and last line in the payload.Hi Rama,Can you try directly load merging the payload into NSO and see what the error message may be?If you're still getting transport timeout issues, then you may want to adjust your device timeouts:Globally:<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>admin@ncs% show devices global-settings     connect-timeout 250;read-timeout  250;write-timeout  250;</pre></div></div>Per Device:<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>set devices device rfs-3 write-timeoutset devices device rfs-3 read-timeoutset devices device rfs-3 connect-timeout</pre></div></div>Thanks,RegiAfter sync-from, and increasing the timeout, service with 700EP created in 3052 seconds.Trying the same with 1000 EP times out.2406.955curl: (56) Recv failure: Connection reset by peerreal  40m6.966suser  0m0.055ssys   0m0.066sFinished 10 Service: L2-EVPN_MP_ELAN_20 to L2-EVPN_MP_ELAN_29 Took: 2411 SecondsCan you do a direct load onto NSO? It may help clarify the issue here, since \"Connection reset by peer\" is a pretty broad message.Thanks,RegiI loaded in NSO UI. Though it logged out after some time, i could see the service created with 1000 EP. Do we have a timeout that can be configured for a REST api request. curl timed out because it took around 40 minutes. Hi Srini,As discussed offline, please try with timeout option on curl client such as:<tt>curl --connect-timeout <duration> <URL></tt>Thanks,Van"
    },
    {
        "title": "[RONCFPSD-421] ELAN /ETREE Provisioning issue - NSO 6.1 - TSDN 5.0.0 M5+ - nso-6.1_221212-tsdn-5.0.0-M5-NSO-Engg-1.tar.gz",
        "description": "ELAN /ETREE Provisioning issue - NSO 6.1 - TSDN 5.0.0 M5+ - nso-6.1_221212-tsdn-5.0.0-M5-NSO-Engg-1.tar.gzCW 206 , Cat 215 and SH 242 combo installed with latest NSO 6.1 TSDN 5.0.0 M5 .( NSO 6.1 - TSDN 5.0.0 M5+ Engg Build., - nso-6.1_221212-tsdn-5.0.0-M5-NSO-Engg-1.tar.gz)We see issue in provisioning ELAN/ETREE services with below error. errors: reason: /cisco-flat-L2vpn-fp-internal-site:flat-L2vpn-internal-site-service{L2NM-MG-EVPN-MP-ELAN-2345-internal ASR9006-SDN-128_a1}/flat-L2vpn-evpn-multipoint/site{ASR9006-SDN-128_a1}/split-horizon: the 'when' expression \"../leaf\" failederrors: reason: /cisco-flat-L2vpn-fp-internal-site:flat-L2vpn-internal-site-service{L2NM-MG-EVPN-MP-ETREE-internal ASR9006-SDN-91_a1}/flat-L2vpn-evpn-multipoint/site{ASR9006-SDN-91_a1}/split-horizon: the 'when' expression \"../leaf\" failedAttached payload and snapshotsNOte: this was working fine in NSO 6.0 M5 .",
        "comments": " This is known issue we already filed a RT "
    },
    {
        "title": "[RONCFPSD-390] Scope of support for L2/L3 vpn services over SRv6 policies",
        "description": "Hi,We have several features to support services over SRv6 policies in CNC 5.0 / SH 5.0, but according to the attached sheet the only supported service will be L3VPN over SRv6 ODN policies.Can you please clarify the scope of the support from NSO perspective in CFP for TSDN 5.0.0 ? Regards,Leonid.",
        "comments": "Hi Leonid,We support only SR-ODN/SRv6-ODN for L3VPN and both SR-POLICY and SR-ODN for L2VPV P2P.Can you let us know what's the source of the attached sheet?Thanks,NikhilHi Leonid,Let us know if you need anything else from our side or we may close the ticket.Thanks,NikhilThank you for the quick response,What is the support for L2VPN EVPN and L2VPN ELAN/ETREE services ?Regards,Leonid.Hi LeonidFor L2VPN EVPN, we support both SR-Policy and SR-ODN and L2VPN ELAN/E-TREE, we support SR-ODN.Thanks,NikhilProvided required information to the user.Just a small update, L2VPNP2P does not support SR-ODN.When you are saying that \"For L2VPN EVPN, we support both SR-Policy and SR-ODN\" - do we support also L2VPN EVPN over SRv6-TE and SRv6-ODN or only regular (v4) SR-TE/ODN ?"
    },
    {
        "title": "[RONCFPSD-384] Information needed on L3 MVPN Dynamic/Static Tree-SID",
        "description": "Hi Team,It will be helpful if I can get more information on below items:1) mvpn-ipmsi-tunnel-ipv4 and mvpn-spmsi-tunnel-ipv4 From the payloads in TSDN5.0 Wiki, I found that tunnel-type in both is always same. Is this the case or user can define different options in both. if not permitted then will there be any errors2) IPv6 supported3) What platform versions are supported.4) There is vpn-service-topology that is introduced for L3, do we have sample payloads for P2P, any-to-any, hub-and-spoke5) For switch-wildcard, what other values are there apart from source-group.Thanks,Kanchan",
        "comments": "Hi Kanchan,<ul>\t<li>1) mvpn-ipmsi-tunnel-ipv4 and mvpn-spmsi-tunnel-ipv4From the payloads in TSDN5.0 Wiki, I found that tunnel-type in both is always same. Is this the case or user can define different options in both. if not permitted then will there be any errors > tunnel-type will be <tunnel-type>sr-mpls-p2mp</tunnel-type> for dynamic and tunnel-type will be <tunnel-type>static-sr-mpls-p2mp</tunnel-type> for static use cases. in dynamic , tunnel-type allways will be 'sr-mpls-p2mp' for both mvpn-ipmsi-tunnel-ipv4 and mvpn-spmsi-tunnel-ipv4.</li>\t<li>2) IPv6 supported > No. Only Ipv4 is supported now.</li>\t<li>3) What platform versions are supported. > Mvpn is supported by all XR versions as mentioned in the release wiki.Please refer to the following  Please note that Route Policy data-mdt is supported from cisco-iosxr-nc-7.5.2+</li>\t<li>4) There is vpn-service-topology that is introduced for L3, do we have sample payloads for P2P, any-to-any, hub-> and-spoke > Please add the multicast containers from the mvpn payloads to the existing payloads you have for P2P, any-to-any, hub-and-spoke.</li>\t<li>5) For switch-wildcard, what other values are there apart from source-group. > switch-wildcard can be either 'source-group' or 'star-star'. 'star-star' is used for mdt partition.</li></ul>Thanks,Nishad Subair.Hi Nishad,Thanks for the all the responses.For L3 P2P, H;S, Any-to-any can you provide the link for the payloads? I have payloads for only L2 Service.Also wanted to check if we support L3 Static/Dynamic MVPN with service assurance?Thanks,KanchanHi Nishad,Do we also support XRd deployments for L3 MVPN ?Thanks,KanchanHi Nishad, Is Tree-SID supported on XE devices?Thanks,KanchanHi Kanchan,Not supported on XE devices.Thank you,Nishad Subair"
    },
    {
        "title": "[RONCFPSD-151] How to define Roles in P2MP in EVPN-MP In Flat Mode",
        "description": "I amreferring the FLAT model. node-roleis not there So I willfollow your logic PIOSXR-0 \u2013 HUBPIOSXR-1..N \u2013 SPOKEs\u00a0",
        "comments": "L2NM used hub and spoke terminology. Flat-L2 uses \"tree\" terminology ( ie. root/leaf ). The corresponding config for node-role in flat-L2 is called \"leaf\""
    },
    {
        "title": "[RONCFPSD-145] need help with cleanup procedure on LSA setup",
        "description": "when i'm triggering cleanup on CFS, it always responds back with ok in north bound response. For example, if the device is out of sync with RFS, the North bound response with CFS for cleanup says ok. I expect the cleanup to fail because device is out of sync. In other words, requirement is to cleanup the service in one transaction from client to CFS to RFS. Can you please guide me ",
        "comments": "Can you please give me the setup where this issue has occurred?Thanks Sahithi,CFS - 10.64.96.102 nso/Cwork123!RFS - 10.64.96.124 nso/Cwork123!Device - 10.64.96.113 cisco / Cwork123!Hi Sahithi, Did you get a chance to look into it ? Please let me know if you need more infoHi Raja,Checked your setup.I do not see any of the T-SDN services on your setup.I see TM-TC FP package and an action call in audit Are you trying perform cleanup on tm-tc service?ThanksSahithiHi Sahithi, yes i'm trying to run cleanup on tm-tc service. Sorry i guess i was not clear. The issue is not related to tsdn fp.Hi Raja,TM-TC FP must have implemented their custom action for cleanup of their service. We are not aware of the implementation in TM-TC.Can you please approach the team which owns this FP?"
    },
    {
        "title": "[RONCFPSD-192] CNC M4 pacakges are referencing NETCONF NED in bootstrap files",
        "description": "CNC M4 pacakges are referencing NETCONF NED in bootstrap files.This should be changed to CLI NED.admin@ncs> show configuration cisco-sr-te-cfp:cfp-configurations dynamic-device-mapping cisco-ios-cli-6.77:cisco-ios-cli-6.77 {\u00a0\u00a0\u00a0 python-impl-class-name sr_te_multi_vendors.IosXE;}dynamic-device-mapping cisco-iosxr-nc-7.315:cisco-iosxr-nc-7.315 {\u00a0\u00a0\u00a0 python-impl-class-name sr_te_multi_vendors.NativeXR;}dynamic-device-mapping cisco-iosxr-nc-7.3:cisco-iosxr-nc-7.3 {\u00a0\u00a0\u00a0 python-impl-class-name sr_te_multi_vendors.NativeXR;}dynamic-device-mapping cisco-iosxr-nc-7.4:cisco-iosxr-nc-7.4 {\u00a0\u00a0\u00a0 python-impl-class-name sr_te_multi_vendors.NativeXR;}dynamic-device-mapping cisco-iosxr-nc-7.5:cisco-iosxr-nc-7.5 {\u00a0\u00a0\u00a0 python-impl-class-name sr_te_multi_vendors.UMXR;}admin@ncs> more\u00a0 SR-multi-vendor-iosxe-cli.xml<config xmlns=\"http://tail-f.com/ns/config/1.0\">\u00a0 <cfp-configurations xmlns=\"http://cisco.com/ns/nso/cfp/cisco-tsdn-sr-te\">\u00a0\u00a0\u00a0 <dynamic-device-mapping>\u00a0\u00a0\u00a0\u00a0\u00a0 <ned-id>cisco-ios-cli-6.77:cisco-ios-cli-6.77</ned-id>\u00a0\u00a0\u00a0\u00a0\u00a0 <python-impl-class-name>sr_te_multi_vendors.IosXE</python-impl-class-name>\u00a0\u00a0\u00a0 </dynamic-device-mapping>\u00a0 </cfp-configurations></config>\u00a0more\u00a0 SR-multi-vendor-iosxr-netconf.xml <config xmlns=\"http://tail-f.com/ns/config/1.0\">\u00a0 <cfp-configurations xmlns=\"http://cisco.com/ns/nso/cfp/cisco-tsdn-sr-te\">\u00a0\u00a0\u00a0 <dynamic-device-mapping>\u00a0\u00a0\u00a0\u00a0\u00a0 <ned-id>cisco-iosxr-nc-7.3:cisco-iosxr-nc-7.3</ned-id>\u00a0\u00a0\u00a0\u00a0\u00a0 <python-impl-class-name>sr_te_multi_vendors.NativeXR</python-impl-class-name>\u00a0\u00a0\u00a0 </dynamic-device-mapping>\u00a0\u00a0\u00a0 <dynamic-device-mapping>\u00a0\u00a0\u00a0\u00a0\u00a0 <ned-id>cisco-iosxr-nc-7.4:cisco-iosxr-nc-7.4</ned-id>\u00a0\u00a0\u00a0\u00a0\u00a0 <python-impl-class-name>sr_te_multi_vendors.NativeXR</python-impl-class-name>\u00a0\u00a0\u00a0 </dynamic-device-mapping>\u00a0\u00a0\u00a0 <dynamic-device-mapping>\u00a0\u00a0\u00a0\u00a0\u00a0 <ned-id>cisco-iosxr-nc-7.315:cisco-iosxr-nc-7.315</ned-id>\u00a0\u00a0\u00a0\u00a0\u00a0 <python-impl-class-name>sr_te_multi_vendors.NativeXR</python-impl-class-name>\u00a0\u00a0\u00a0 </dynamic-device-mapping>\u00a0\u00a0\u00a0 <dynamic-device-mapping>\u00a0\u00a0\u00a0\u00a0\u00a0 <ned-id>cisco-iosxr-nc-7.5:cisco-iosxr-nc-7.5</ned-id>\u00a0\u00a0\u00a0\u00a0\u00a0 <python-impl-class-name>sr_te_multi_vendors.UMXR</python-impl-class-name>\u00a0\u00a0\u00a0 </dynamic-device-mapping>\u00a0 </cfp-configurations></config>",
        "comments": "Hello,CLI NEDs are Native to TSDN and can be used at all times (has nothing to do with the above output/bootstrap)TSDN additionally provides option to test Netconf NEDs as seen in the above output created by the bootstrap files.If you do not want to use Netconf NEDs then not loading these bootstrap files will suffice.Please let me know if this helps.Thank you.Can we skip dynamic mapping configuration for CLI NED's?Yes, we can skip dynamic mapping configuration for CLI NED's because CLI is native and will work without any bootstrap configloaded in.Thanks for the update.For CLI NED update wiki as to not require explicit dynamic mapping configuration Thank you. The wiki has been updatedYou will see a comment as below which indicates that the bootstrap files are optional.Please let me know if I may close this ticket.<tt>## CFP Multi-Vendor Dynamic Mapping - Optional</tt><tt>for</tt><tt>CLI NED but required</tt><tt>for</tt><tt>NETCONF NED ##</tt><tt>==========================================================================================</tt><tt>load merge SR-multi-vendor-iosxr-netconf.xml</tt><tt>load merge L3VPN-multi-vendor-iosxr-netconf.xml</tt><tt>load merge L2VPN-multi-vendor-iosxr-netconf.xml</tt><tt>load merge IETF-TE-multi-vendor-iosxr-netconf.xml</tt>Closing ticket as issue is clarified.Updated Wiki with Information about CLI being native to TSDN and no bootstrap config required in the case of CLI."
    },
    {
        "title": "[RONCFPSD-34] Provide sample configs and operational status for Y.1731 config",
        "description": "Can you provide sample configs that you used for below combinations and share the output of Y.1731 operational commands:XR ; XR deviceXE ; XE deviceXR ; XE device (this one I got from Sujay. I used VPN service config to configure probes between 2 XR devices)</ul>Y.1731 Operational Commands for XR:show ethernet sla statistics\u2022show ethernet cfm peer meps </ul>XE operational sample:XE-PE1#show ethernet cfm statisticsBRAIN MAC: 001e.49ac.dcbfDomainName: ncsMA Name: L2NM-xe-y173-xeMPID: 3 Last clearing of counters: never CCMs:  Transmitted:        101  Rcvd Seq Errors:    0 LTRs:  Unexpected Rcvd:       0  Total Tx LTR:         0  Total Rx Valid LTR:      0  Total Rx Invalid LTR:     0  Rx Invalid Relay Action:   0 LTMs:  Total Tx LTM:         0  Total Rx Valid LTM:      0  Total Rx Invalid LTM:     0 LBRs:  Transmitted:         0  Rcvd Seq Errors:    0  Rcvd in order:        0  Rcvd Bad MSDU:     0  Rx Invalid LBR:        0 LBMs:  Total Tx LBM:         0  Total Rx Valid LBM:      0  Total Rx Invalid LBM:     0XR operational sample:RP/0/RSP0/CPU0:PE1#show ethernet cfm peer mepsSat Jul 31 01:12:59.435 UTCFlags:> - Ok             I - Wrong intervalR - Remote Defect received   V - Wrong levelL - Loop (our MAC received)   T - Timed outC - Config (our ID received)  M - Missing (cross-check)X - Cross-connect (wrong MAID) U - Unexpected (cross-check)<ul>- Multiple errors received  S - Standby</ul>Domain nso (level 1), Service L2NM-xr-y1731-xrUp MEP on HundredGigE0/0/0/3 MEP-ID 1================================================================================St  ID MAC Address  Port  Up/Downtime  CcmRcvd SeqErr  RDI Error&#8211; ----- -------------- ------- ----------- --------- ------ ----- -----X   2 1c00.0063.1d0c Up   00:06:29     389   0  389  389RP/0/RSP0/CPU0:PE1#show ethernet sla statisticsSat Jul 31 01:13:43.434 UTCSource: Interface HundredGigE0/0/0/3, Domain nsoDestination: Target MEP-ID 2================================================================================Profile 'loss-profile', packet type 'cfm-loss-measurement'Scheduled to run every 1min first at 00:00:49 UTC for 1minOne-way Frame Loss (Source->Dest)~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~1 probes per bucketNo stateful thresholds.Bucket started at 01:09:49 UTC Sat 31 July 2021 lasting 1min  Pkts sent: 60; Lost: 0 (0.0%); Corrupt: 0 (0.0%);          Misordered: 0 (0.0%); Duplicates: 0 (0.0%)  Result count: 0  Min: 0.000%; Max: 0.000%; Mean; 0.000%; StdDev: 0.000%;Bucket started at 01:10:49 UTC Sat 31 July 2021 lasting 1min  Pkts sent: 60; Lost: 0 (0.0%); Corrupt: 0 (0.0%);          Misordered: 0 (0.0%); Duplicates: 0 (0.0%)  Result count: 0  Min: 0.000%; Max: 0.000%; Mean; 0.000%; StdDev: 0.000%;Bucket started at 01:11:49 UTC Sat 31 July 2021 lasting 1min  Pkts sent: 60; Lost: 0 (0.0%); Corrupt: 0 (0.0%);          Misordered: 0 (0.0%); Duplicates: 0 (0.0%)  Result count: 0  Min: 0.000%; Max: 0.000%; Mean; 0.000%; StdDev: 0.000%;One-way Frame Loss (Dest->Source)~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~1 probes per bucketNo stateful thresholds.Bucket started at 01:09:49 UTC Sat 31 July 2021 lasting 1min  Pkts sent: 60; Lost: 0 (0.0%); Corrupt: 0 (0.0%);          Misordered: 0 (0.0%); Duplicates: 0 (0.0%)  Result count: 0  Min: 0.000%; Max: 0.000%; Mean; 0.000%; StdDev: 0.000%;Bucket started at 01:10:49 UTC Sat 31 July 2021 lasting 1min  Pkts sent: 60; Lost: 0 (0.0%); Corrupt: 0 (0.0%);          Misordered: 0 (0.0%); Duplicates: 0 (0.0%)  Result count: 0  Min: 0.000%; Max: 0.000%; Mean; 0.000%; StdDev: 0.000%;Bucket started at 01:11:49 UTC Sat 31 July 2021 lasting 1min  Pkts sent: 60; Lost: 0 (0.0%); Corrupt: 0 (0.0%);          Misordered: 0 (0.0%); Duplicates: 0 (0.0%)  Result count: 0  Min: 0.000%; Max: 0.000%; Mean; 0.000%; StdDev: 0.000%;",
        "comments": "Hello Nipa,Thanks for sharing the payloads. Helped us validate the configurations on our testbeds.I didn\u2019t see any noticeable differences between what you shared and what we configured on our testbed.Also, here are my findings in the outputs that you shared. Can you please double check:Output for \u2018show ethernet cfm peer meps\u2019:Peer mep status is showing \u2018X\u2019 and not \u2018>\u2019(Ok)Output for \u2018show ethernet sla statistics\u2019:Only showing \u2018Loss\u2019 related stats which is inline with what we see in our testbedI don\u2019t see any Probes stats being reported for Jitter ; LatencyBut I see that Service configuration shows that Delay profile got attached to the ServiceThanks,-LingeshPayload have been provided. Further support details will be given on "
    },
    {
        "title": "[RONCFPSD-186] Error: on line 2: unknown namespace: http://com/cisco/cfp-common-status-codes in status-code-cfp",
        "description": "Raising same issue again.10.56.116.162 nso/ Public1234!Error when trying to run this:cd nso-<NSO-Version><del>tsdn</del><Release-Version>/tsdn-lsa/tsdn-lsa-rfs/bootstrap-datancs_cli -u <user>% configure% unhide debug% load merge SR-status-codes.xml% load merge SR-internal-plan-monitor.xml% load merge RSVP-TE-status-codes.xml% load merge RSVP-TE-internal-plan-monitor.xml% load merge rfs-custom-template-settings.xml% load merge L3VPN-status-codes.xml% load merge L3VPN-internal-plan-monitor.xml% load merge L2VPN-status-codes.xml% load merge L2VPN-internal-plan-monitor.xml% load merge dispatch-map-settings.xml% load merge commit-queue-settings.xml% load merge bootstrap-autopopulate-dispatch.xml% commit",
        "comments": "Hi Aviv,I look at your setup and I don't see any package installed.nso@ncs> show packages package% No entries found.nso@ncs>You need to install packages before load merge bootstrap xml files-LinhI am going to close the ticket if I don't receive any new update.Thanks,Linh"
    },
    {
        "title": "[RONCFPSD-569]  cnc-custom metadata for two configs \"ietf-te-service\" and \"policy\" in L2VPN service.",
        "description": "We are planning to add a similar support as the interface list for two fields in L2VPN. Can you please help by adding a similar cnc-custom metadata for two configs \"ietf-te-service\" and \"policy\" in L2VPN model. Please note here there is a new attribute added \"leaf-validation\" : \"true\", compare to the other cnc-custom meta data we had in the other fields.For the policy the path is \"/l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service/vpn-nodes/vpn-node/te-service-mapping/te-mapping/sr-policy/policy\" and the following is the cnc-custom meta-data annotation tailf:meta-data \"cnc-custom\" {   tailf:meta-value '   {    \"dependency\": \"[]\",    \"type\": \"dropdown\",    \"field\": \"policy-list\",\u2002\u2002\u2002\u2002\u2002\"leaf-validation\" : \"true\",    \"pre-select\": \"none\"   }';  }For ietf-te-service the path is \"/l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service/vpn-nodes/vpn-node/te-service-mapping/te-mapping/te-tunnel-list/ietf-te-service\" and the cnc-custom meta-data annotation will be tailf:meta-data \"cnc-custom\" {   tailf:meta-value '   {    \"dependency\": \"[]\",    \"type\": \"dropdown\",    \"field\": \"ietf-te-service-list\",\u2002\u2002\u2002\u2002\u2002\"leaf-validation\" : \"true\",    \"pre-select\": \"none\"   }';  }",
        "comments": "Thanks Demeke for creating thisHi Can you please confirm if we would still require the ietf_l2vpn_ui_validation.yang i.e.below annotation in the build along with the new requirement? // annotate a single path tailf:annotate \"/ietf-l2vpn-ntw:l2vpn-ntw/ietf-l2vpn-ntw:vpn-services/ietf-l2vpn-ntw:vpn-service/ietf-l2vpn-ntw:vpn-nodes/ietf-l2vpn-ntw:vpn-node/cisco-l2vpn-ntw:te-service-mapping/cisco-l2vpn-ntw:te-mapping/cisco-l2vpn-ntw:te/cisco-l2vpn-ntw:sr-policy/cisco-l2vpn-ntw:sr-policy/cisco-l2vpn-ntw:policy\" {  tailf:meta-data \"ui-data-validation\" {  tailf:meta-value \"leaf-validation\";  } }Internal JIRA ticket -> Latest Green Build CCO : Any update?Hi Sahithi, I installed the dev image and it works as expected. Please don't merge this change into CFP release that goes with the CNC 6.0 release train. As this change will break existing implementation it only should be merge into the CFP release that goes with CNC 7.0.Thanks Demeke!Ticket is completed and merged starting CNC 7.0."
    },
    {
        "title": "[RONCFPSD-541] Isolation type missing for L2 P2P dedicated Slice",
        "description": "Hi,When we create L2P2P dedicated Slice. NSO UI doesn't show up isolation type.Where as it does show up for other types like HS.Kindly let us know.",
        "comments": " Hi Naveenkumar,Isolation type and single-sided-control are removed from NSS L2-P2P in 6.0.Regards,LinhHi Linh, I do not see this reflected in . Did we miss anything here? It state in this sectionHello, please let us know if ticket maybe resolved.If no response is received, ticket will be closed EOD 8/26/2023.Hi Janaki,There is a meeting around this issue.Kindly don't close it.Thanks,NaveenPer the discussing meet, CNC team will make change in CNC UI. So I closed this ticket.Regards,Linh"
    },
    {
        "title": "[RONCFPSD-227] No device level failure details for L2VPN service",
        "description": "1. Make one of the devices out of sync. (eg. PE-7)2. Provision L2vpn service  Failed as expected.  But on CNC UI Component Errors page does not show PE-7 in device table.  The NSO-UI page shows empty \"status-code-details\" 3. Provision SRv6 policy  Failed as expected.  It does show \"PE-7\" on device table in CNC-UI.  It also has \"status-code-details\" on NSO-UI.Is there a reason why L2vpn behaves differently?screenshots and payload attached.NSO version: 5.7.2.1TSDN version: 4.0.0 M4",
        "comments": " Hi Crystal,From looking at the Screenshots, it seems to me that the L2VPN configuration in itself is erroneous and thus there was no push to the device. The Error about device config is showing at the top of the Screenshot on the L2VPN page. The SRV6 on the other hand seems to have a config push which was failed due to device not being In Sync. Can you please confirm that the L2VPN config being pushed to the device is correct in the first place ...?Please also let me know the setup details if I can log into it and reproduce issue.Thank you.Hello, please let us know the status of this ticket so it may be closed. Thank you.Hi Janaki,The L2VPN configuration is a good one which has been used for many times as regression test. I am able to reproduce the issue. Here is the setup info.:CW URL: pw: Cwork123!NSO IP: 2001:420:10e:201d:172:23:85:193user: rootPw: Vtsisco@123!L2vpn service payload attached Hi Crystal, From further investigation this behavior is expected due to resource allocation in the payload.We will mark the plan as failed and an alarm text will be seen on NSO.Thank you.Regards,Janaki DuggiralaExpected behavior with Resource Allocation in L2VPN."
    },
    {
        "title": "[RONCFPSD-233] NSO not closing Restconf stream sessions",
        "description": "This is triaged from wider team.I see that each Restconf stream is opening a new session, and session remains opened even when the request is closed.Also double checked the NSO documentation, and dont see nothing mentioning any logout is needed for such requests, also no login cookie token involved here.This is easily reproduced from CURL:admin@ncs> show users | countCount: 45 linesnso5711@iorgad-exsi-vm1:~$ curl -kisu USER:PASS -X GET -H \"Accept:text/event-stream\" HTTP/1.1 200 OKDate: Tue, 26 Apr 2022 05:16:47 GMTCache-Control: private, no-cache, must-revalidate, proxy-revalidateContent-Type: text/event-streamTransfer-Encoding: chunkedPragma: no-cacheContent-Security-Policy: default-src 'self'; block-all-mixed-content; base-uri 'self'; frame-ancestors 'none';Strict-Transport-Security: max-age=15552000; includeSubDomainsX-Content-Type-Options: nosniffX-Frame-Options: DENYX-XSS-Protection: 1; mode=block^Cnso5711@iorgad-exsi-vm1:~$admin@ncs> show users | countCount: 46 lines",
        "comments": "Hi Liran,The restconf command that you test is for stream notification subscription and it is designed to have a very long session timeout.If you test on a normal restconf command, NSO does terminate the session. Take authgroup restconf for exampleadmin@ncs> show users | countCount: 9 linescurl -is -u admin:Cisco123# -H \"Accept: application/yang-data+xml\" HTTP/1.1 200 OKDate: Tue, 26 Apr 2022 20:51:30 GMTLast-Modified: Sat, 23 Apr 2022 01:36:47 GMTCache-Control: private, no-cache, must-revalidate, proxy-revalidateEtag: \"1650-677834-287817\"Content-Type: application/yang-data+xmlTransfer-Encoding: chunkedPragma: no-cacheAccess-Control-Allow-Origin: *Content-Security-Policy: default-src 'self'; block-all-mixed-content; base-uri 'self'; frame-ancestors 'none';Strict-Transport-Security: max-age=15552000; includeSubDomainsX-Content-Type-Options: nosniffX-Frame-Options: DENYX-XSS-Protection: 1; mode=block<authgroups xmlns=\"http://tail-f.com/ns/ncs\" xmlns:ncs=\"http://tail-f.com/ns/ncs\"> <group>  <name>iosxe_authgroup</name>  <default-map>   <remote-name>admin</remote-name>   <remote-password>$9$gdKMS2xf8pAySVzPZFeL/JZwwo6KF59UeIbvjYi/6fM=</remote-password>   <remote-secondary-password>$9$2DS2LsLUzsfBSnKEf+NJ4bugTxihmHR94nDcuGFtX+A=</remote-secondary-password>  </default-map> </group> <group>  <name>iosxr_authgroup</name>  <default-map>   <remote-name>admin</remote-name>   <remote-password>$9$h2kB2zmyVMWY+ZCttz5hrk0erNZ0MKKwrubw0Pv04iU=</remote-password>   <remote-secondary-password>$9$DoPJbqjNbu3ZCNbnImg8F3UPZ5Oof7QcMUbtrOaG0Gk=</remote-secondary-password>  </default-map> </group> <group>  <name>vxr_iosxr_authgroup</name>  <default-map>   <remote-name>cisco</remote-name>   <remote-password>$9$gyy5jCiJ/zUjBygSj80ToSrb4XKWmRSZUyWb3xaxFug=</remote-password>   <remote-secondary-password>$9$XFRCcOBiq0dVnWwAlt7hImmJvJ3xrQToaaIEOya7h6Q=</remote-secondary-password>  </default-map> </group></authgroups>admin@ncs> show users | countCount: 9 linesadmin@ncs>Termination session also shows in audit.log<INFO> 26-Apr-2022::13:51:30.065 linh-nso-172-8 ncs: audit user: admin/182 assigned to groups: ncsadmin,ncsoper,admin,wheel<INFO> 26-Apr-2022::13:51:30.066 linh-nso-172-8 ncs: audit user: admin/182 created new session via rest from 10.155.144.11:65404 with http<INFO> 26-Apr-2022::13:51:30.066 linh-nso-172-8 ncs: audit user: admin/182 RESTCONF: request with http: GET /restconf/data/tailf-ncs:devices/authgroups HTTP/1.1<INFO> 26-Apr-2022::13:51:30.074 linh-nso-172-8 ncs: audit user: admin/182 RESTCONF: response with http: HTTP/1.1 /restconf/data/tailf-ncs:devices/authgroups 200 duration 196521 ms<INFO> 26-Apr-2022::13:51:30.074 linh-nso-172-8 ncs: audit user: admin/182 terminated session (reason: normal)So if content-Type: is event-stream, it has a very long session timeout. Again it is by design.Thanks,LinhHi Liran,I will close this ticket in next few days if I don't see any update on your side.Thanks,LinhThis is first time we are aware that NSO sessions remain open.This creates an issue with CNC, thus requesting here a solution from NSO team.To add some context, from past issues, it was observed that stream connections were idle and did not receive any notifications without any indication this is why daily stream refresh mechanism was added, by closing the request and open a new one. Without it, there were notifications loss. Without closing sessions of closed connections by NSO, it can lead to reaching sessions limit and possibly further implications. Please note, additional ticket was opened for NSO team for option to use keep-alive as default at CNC. If it was added, we may have consider reducing the need for daily refresh mechanism. The option is supported and there was a request to add it to CNC NSO installation official guidelines, but it was rejected by NSO team.This leads to a problem with all possible considered solutions:1.\tDaily refresh mechanism, current situation: sessions count keep increasing, it can lead to reaching sessions limit and possibly further implications.2.\tRemove daily refresh mechanism: notification loss situations observed.3.\tRemove daily refresh mechanism together with keep-alive: rejected by NSO team to document it as CNC installation guidelines, and was not included in testing.Adding:Even regardless of daily refresh mechanism, NSO sessions remain open is still an issue, as in multiple scenarios, like CNC cluster restart, VM restart, service restart, leader change, user remove/add of NSO provider, patches installation, version update and more, a new request is triggered, leading to leftover NSO session from previous request. Over time, NSO sessions count can keep increasing. Also got indications from CX that additional clients may open NSO notification stream requests, which can lead to additional leftover NSO sessions on each disconnection / request stop.This is getting escalated from the customer and project manager, and triaged also from wider team.The keep-alive ticket:HI Lin/Van and Luan/Sahithi,Do we need to open an RT for this?Thanks,NipaHi Liran,Thanks for sharing the previous JSD. I reverified the settings as described this ticket. Event-connection session timeout works as expect with 4.0 M5 also as long as keepalive flag is in ncs.conf. To reiterate configuration setting, <ul>\t<li>this flag '<keepalive>true</keepalive>' must be configured in ncs.conf.</li>\t<li>if keepalive-timeout is provided, the session will be closed by this time value</li>\t<li>if keepalive-timeout is not provided, the session will be close in 3600 sec.</li></ul>Again, this settings works fine in 4.0 M5 Thanks,LinhAs written, keep-alive is supported, but it was officially rejected by NSO team to document it as CNC installation guidelines, therefore not included in CNC and was not included in testing - therefore it is not the current solution. Team still blocked and waiting for a solution from NSO team for this issue.Hi Liran,ncs.conf file has many configurations and it is really part of the platform. It does not make sense for us/the CFP team to keep repeating the documentation.Thanks,NipaPlatform provide a keep-alive settings in ncs.conf to resolve this issue.Regards,Linh"
    },
    {
        "title": "[RONCFPSD-555] NSO LSA HA after switchover observation",
        "description": "Setup: NSO LSA L3 HA - CFS - 192.168.5.67 , 192.168.6.67 \u2013 VIP \u2013 3.3.3.7 - nsoaz1/Cnc@1234\u00a0\u00a0NSO LSA L3 HA - RFS1 - 192.168.5.68 , 192.168.6.68 \u2013 VIP \u2013 4.4.4.7 - nsoaz1/Cnc@1234\u00a0\u00a0NSO LSA L3 HA - RFS2 - 192.168.5.69 , 192.168.6.69 \u2013 VIP \u2013 5.5.5.7 - nsoaz1/Cnc@1234\u00a0\u00a0Hi team,Kindly suggest on below points.Observation 1:After NSO LSA L3 HA (CFS+RFS) Switchover from AZ1 to AZ2, CRUD operations accepted only after executed below commands.request cluster remote-node rfs-1 ssh fetch-host-keysrequest cluster remote-node rfs-2 ssh fetch-host-keysrequest devices fetch-ssh-host-keysrequest devices sync-fromShow cluster device notification status goes from \u2018up to \u2018-\u2018 state.Observation 2:NSO allows changing Circuit style Resource pool . But, receiving attached error while trying auto bidirectional association id during CS policy creationObservation 3:No change made to color pool association. But after NSO LSA L3 HA (CFS+RFS) Switchover, new CS policy creation with auto color edits existing CS policy that was created with auto color pool.Same observation for disjoint also.",
        "comments": " Hi Ajitha.Lets schedule a session to further investigate/validate observed behaviors.Thanks,AbeDid a session with Ajitha and confirmed the following cli commands are necessary after failover (observation 1):1. request cluster remote-node * ssh fetch-host-keys2. request devices fetch-ssh-host-keys3. request devices sync-fromFor observations 2 and 3, dry run error was avoided when triggering failover using ncs stop/start, instead of disabling HA (and not re-enabling HA) from the primary node.We did observe that after successful failover between primary and secondary nodes, applying CS SR policy shows inconsistent behavior where the dry-run values for color, disjoint and bi-directional fields where but was .I suspect some issue from the UI side and Ajitha will reach out to UI team and verify issue.Did a session with Ajitha and confirmed the following cli commands are necessary after failover (observation 1):1. request cluster remote-node * ssh fetch-host-keys2. request devices fetch-ssh-host-keys3. request devices sync-fromFor observations 2 and 3, dry run error was avoided when triggering failover using ncs stop/start, instead of disabling HA (and not re-enabling HA) from the primary node.We did observe that after successful failover between primary and secondary nodes, applying CS SR policyshows inconsistent behavior where the dry-run values for color, disjoint and bi-directional fields wherebut was.I suspect some issue from the UI side and Ajitha will reach out to UI team and verify issue."
    },
    {
        "title": "[RONCFPSD-582] Provisioning L3/L2 vpn services throws illegal reference from NSO UI but same service payload works from ncs_cli",
        "description": "Hi Janaki,As discussed over Webex call, as part of this cdets - CSCwe53683 changes I am hitting below error when provisioning service from NSO UI.The same service payload when loaded and merged from ncs_cli works fine without any validation error.I am opening a JIRA ticket to resolve this discrepancy between NSO UI and ncs_cli.So, from Drop10 TSDN image onwards, we need to first create route-policy that will auto-create route-profile-identifiers.Services referring to this route-policy and route-profile identifiers will allow provisioning only if these entities are pre-existing in NSO and CNC.Tried to create route-policy first and then service provisioning from nso UI works fine.NSO logs have been collected and posted in box location - Thanks,Gomathi.",
        "comments": "Attaching payloads with vpn profiles, route-profile-identifiers, l3vpn service all in one single payload that worked on ncs_cli without any error.  Hi Gomathi,The payload is working for me in the UI too similar to cliThanksSahithiVerified that NSO UI and NSO CLI are working consistently in use case where1. Load RP (without routing-profile-indetifiers)2. Load Service3. Error is seen \"Illegal Ref --\"Attached verification screenshots.Resolution Notes:> When the service and the route-policy is loaded at the same time without creating routing-profile-identifiers, user will see an Illegal Ref Error.> This behavior comes from CDETS CSCwe53683 (VPN profiles are not auto created like cnc 4.x).> User will have to modify any payloads that manually create the routing-profile-identifier and instead first create the route-policies, NSO will auto-create identifiers and then load the service.Please let us know if we can assist further.The validation error was displayed from UI but not from ncs_cli when Janaki and me tried to load the payload and commit. @Janaki - can you confirm that we were able to commit the full payload during debugging?Showed the output of \"show | compare\" to Sahithi yesterday where all config changes were accepted to be pushed to device from ncs_cli.Shared the NSO setup details to Janaki during debugging the issue. Not sure how it got fixed on ncs_cli as well after that.I have shared the NSO logs with all the transactions performed. Hope it has the trace logs of the commit performed with full payload as reference point."
    },
    {
        "title": "[RONCFPSD-580] phased provisioning with no networking",
        "description": "We are using phased provisioning for migrating devices in our scale setup. From TSDN 5.0 to TSDN 6.0 Drop 10. we need options in the xml payload for using the option no-networking.   <action-name>migrate</action-name>    <variable>     <name>new-ned-id</name>     <expr>/packages/package/component/ned/cli/ned-id</expr>    </variable> I tried a new variable, it didnt work. Kindly suggest.request devices device PIOSXR-0 migrate new-ned-id cisco-iosxr-cli-7.52 no-networking",
        "comments": "setup details 192.168.103.236admin / Ovatest123@Hi Srini,As discussed, please use the latest phased-provisioning-1.1.0 package and then try the migration with no-networking.For any empty type leaf, just give the variable name --><variable> <name>no-networking</name> </variable>Let us know if it works for you.Thanks.Suggested user to use the new phased-provisioning package to migrate devices with no-networking"
    },
    {
        "title": "[RONCFPSD-225] Not able to provision ELAN/ETREE-ODN services, existing route-policies are added even after deleting.",
        "description": "Hi-Not able to provision ELAN/ETREE-ODN services, existing route policies are added in the provisioning even after deleting.Tried to create the ELAN-ODN service with route-policy 350, but the provisioning is not successful ; it's adding 450 route-policy which was created sometime back ; deleted from devices ; NSO also, still it's showing on the provisioning.Thu Apr 21 16:32:57 IST 2022:DEBUG: << \"  <error-path xmlns:l2vpn-ntw=\"urn:ietf:params:xml:ns:yang:ietf-l2vpn-ntw\">/l2vpn-ntw:l2vpn-ntw/l2vpn-ntw:vpn-services/l2vpn-ntw:vpn-service</error-path>\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \"  <error-message>External error in the NED implementation for device xrd-2: Thu Apr 21 11:02:34.097 UTC&#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \"&#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \"% Failed to commit one or more configuration items during a pseudo-atomic operation. All changes made have been reverted.&#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \" !! SEMANTIC ERRORS: This configuration was rejected by &#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \"!! the system due to semantic errors. The individual &#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \"!! errors with each failed configuration command can be &#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \"!! found below.&#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \"&#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \"&#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \"!&#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \"extcommunity-set opaque COLOR_350&#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \" 350&#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \"end-set&#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \"!&#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \"!!% Policy uses policy . must be defined before can be attached.&#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \"route-policy bgp_in&#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \" apply SET_COLOR_EVPN_MP_service_RP-L2NM-ODN-xrd-2-350&#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \" apply SET_COLOR_EVPN_MP_service_RP-L2NM-ODN-xrd-2-450&#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \" pass&#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \"end-policy&#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \"!&#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \"!!% Policy uses policy . must be defined before can be attached.&#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \"route-policy SET_COLOR_EVPN_MP_service_RP-L2NM-ODN-xrd-2-350&#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \" if rd in (100.100.100.116:12345) then&#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \"  set extcommunity color COLOR_350&#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \" endif&#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \"end-policy&#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \"!&#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \"!!% Policy uses policy . must be defined before can be attached.&#13;\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \"end</error-message>\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \" </error>\"Thu Apr 21 16:32:57 IST 2022:DEBUG: << \"</errors>\"",
        "comments": "Please take a look, Setup details belowCW- 172.24.97.142 XRD VM- 172.27.226.62Devices - 192.168.5.17 - 192.168.5.24Hi Ragesh,We are not able to login to the setup CW- 172.24.97.142 .Please suggest.Also please provide the payloads used.Thanks,Nishad Subair.Hi Nishad,We are able to login the CW setup with 172.24.97.142 admin/Public123!Payload attached which we used for the testing. Please take a look. Hi Ragesh,We are still not able to login to the setup CW- 172.24.97.142 .We are getting 'Connection closed by remote host'.Please suggest.Thanks ,NishadHi Nishad,Are you accessing Crosswork UI or ssh session?I have mentioned both the credentials below ; we don't see any issue on accessing the crosswork UI ; ssh.Currently the setup is not in problem state, but you can re-create the issue after creating the multiple route-policies and attached to the services.Crosswork UI can access with admin/Public123!SSH can access with cw-admin/Cwork123!Hi Ragesh,I am able to login successfully now.Please suggest that 172.24.97.147 is the correct NSO.Regards,Nishad Subair.Yes Nishad, 172.24.97.147 is the NSO we used on the Setup."
    },
    {
        "title": "[RONCFPSD-543] CNC",
        "description": "NCS: 6.1.2tmtc-6.0.0-nso-6.1.2.20230725.0caa29b7.tar.gzdlm-6.0.0-nso-6.1.2.20230725.9da7ff81.tar.gz1) We have re-install devices to 7.8.2, 7.9.2 and 7.10.1.352) Once devices are installed, we have added them in CW via CSV3) Now I see that NSO state in DLM is empty.4) devices are shown added in NSO. 5) Now perform sync from on 10.56.116.25 - XTC6) Observed that device is not registered.7) tried to /etc/init.d/ncs stop. This command was hanging.logs: 10.56.116138: /home/nso/tsdn-6.0.0-nso-6.1.2.20230725.4df2068e/data_082823_213637.tgznso/Public1234!Now I have power off and power on. perform : sudo NCS_RELOAD_PACKAGES=force /etc/init.d/ncs restartnow ncs is up. But wanted to know why this issue came",
        "comments": "Hi ,We checked the log and didn't find any relevant information to identify the issue why it happened.We need some environment o reproduce this issue. Let us know where we can reproduce this issue,"
    },
    {
        "title": "[RONCFPSD-557] Need help in configuring NSO HA with different time zones",
        "description": "Hi team,Brought up NSO L3 HA. Would you please help in configuring the secondary node NSO HA in different time zone.Note: For Crosswork, we have a field in installation file to mention the time zone. trying to check if there is similar way for NSO.",
        "comments": "Hi Ajitha,Let's schedule a session to sync up and discuss.Thanks,AbeHad a session with Ajitha and helped her configure NTP config on all nodes. This is a primary requirement in LSA (HA) so that all nodes belonging to the cluster are configured to use UTC and are in sync despite having different local time due being situated in different timezones.Issue is fixed now and nodes are ntp synced. Moving ticket to resolved.Thank you,AbeHad a session with Ajitha and helped her configure NTP config on all nodes. This is a primary requirement in LSA (HA) so that all nodes belonging to the cluster are configured to use UTC and are in sync despite having different local time due being situated in different timezones.Issue is fixed now and nodes are ntp synced. Moving ticket to resolved.Thank you,Abe"
    },
    {
        "title": "[RONCFPSD-231] On ncs 5.4.6, clean up of service is leading to zombie",
        "description": "  we create the service in single transaction ( stack mode ). I have observed that NSO responds with ok and then config is pushed to device which is contrary to previous functionality on 5.4.2 where only after config is pushed to device, nso responds with ok. Also, after cleaning up the service, we have observed that service stays as zombie. Below is the ip and creds of NSO, attached payload and command to create ; cleanup service  IP: 10.64.96.124 ( nso / Cwork123! )  command to create service : netconf-console --host=10.64.96.124 -u nso -p Cwork123! --port=2022 --rpc=payload.xml  command to clean up service: tm-tc-actions cleanup service Crosswork_1001 no-networking false",
        "comments": " Hi Raja,I logged on your setup and saw you did not configure nacm user correctlynso@ncs% show nacmread-default   permit;write-default  permit;exec-default   permit;groups {  group ncsadmin {    user-name [ private ];  }  group ncsoper {    user-name [ public ];  }Please correct it according to the wiki Also zombie that I saw is from tm-tc packagenso@ncs> show zombieszombies service /cisco-tm-tc-fp-internal:tm-tc pending-deleteWe are NOT the owner of the TM-TC package. Please contact the owner of this package for precise steps/command to cleanup the zombieThanks,LinhHi Linh, I added the following nacm config set nacm groups group ncsadmin user-name nsoi still see the same issue. Can you please test same usecase on a clean setup with proper nacm permissions and confirm.I see that it was tested on corrupted setup with existing zombies.We faced similar issue of plan not-reached and zombies not back tracking correctly when nacm permissions are not set correctly.ThanksSahithiHi Raja,I was able to cleanup zombie by going down to device levelnso@ncs% request tm-tc-actions cleanup service Crosswork_1001 device 10.64.96.123 no-networking truesuccess truedetailCleaning up TMTC service: Crosswork_1001 Removed all plan components Removing zombie service: /ncs:zombies/ncs:service{\"/cisco-tm-tc-fp-internal:tm-tc[name='Crosswork_1001'][node-name='10.64.96.123']\"} Removed zombie service Removed service oper Removed side-effects Removed side-effects Removed kickers Removed kickers Cleanup Successful for Crosswork_1001nso@ncs% run show zombies% No entries found.Please let me know if I can close the ticketRegards,LinhHi LinhUp on running the command for first time, we can observe that there is a zombie with pending-delete. After running the command again, the zombie is getting removed. please find screenshot in attachments. I have created another setup, please use it to debug10.104.127.17  nso / Cwork123!Hi Raja,As the rule of thumb, cleanup action should be used as the last resort. These are steps you should follow1. Delete the service2. If zombie stay behind then do a cleanup action.It seems to me that you perform a cleanup action without deleting the service first because I saw this warning \"...Not able to retrieve diffset for zombie ...\"Thanks,LinhHi Moksha,Glad the clean up worked with change . If you want me to file an RT Below details are required to file a RT:Problem statement.Expected behavior.NSO logs.Clear steps to reproduce the issue.Sample package/reproduction. Priority.Found in Version.When you provide the sample package. Please give the steps on how to reproduce the issue with it when installed locally.ThanksSahithiProblem statement : Up on cleaning up the service, there is a zombie created despite config delete is successful. When clean-up is retried, the zombie is getting cleared. Expected behaviour: There should not be any zombie if device config delete is successful NSO logs : Clear steps to reproduce the issue: \u2022\tInstall the following functional pack on ncs version 5.4.6. - \u2022\tSet the following commands on ncs_cli 1.\tset cisco-tm-tc-fp:cfp-configurations dynamic-device-mapping cisco-iosxr-cli-7.33:cisco-iosxr-cli-7.33 python-impl-class-name tm_tc_multi_vendors.IosXR2.\tset cisco-tm-tc-fp:cfp-configurations stacked-service-enabled\u2022\tRun the following command to create the service ( the device key is 10.64.96.113 in given payload, change it as required ) - netconf-console -u nso -p Cwork123! --port=2022 --rpc=payload.xml\u2022\tRun the following command to clean up the service ( the device key is 10.64.96.113 in given command, change it as required ) - tm-tc-actions cleanup service Crosswork device 10.64.96.113 no-networking false\u2022\tShow zombies should display the zombie created due to cleanup\u2022\tRun again the same cleanup command \u2022\tShow zombies output should be empty, refer to attached screenshotSample package/reproduction : Priority :Found in Version : 5.4.6 Hi Moksha,The package you have given is with tm tc functionality. NSO team would not understand the tm-tc functionality. They will not be able to debug the clean up action. This ticket would be rejected if I file with FP specific logic. is something which is generic just for the NSO i.e remove all the TM-TC code, isolating just the issue with NSO here.Please create a sample package with example service and action which is replicates this issue.You can find example sample packages under -> nso-5.4.6/examples.ncs/getting-started/developing-with-ncsClean up is something which is used as last resort.ThanksSahithiHi Could you please answer the question by Sahithi?ThanksNipaPlease reply to Sahithi's question above.Thanks,NipaEmail from Moksha on 04/28+ TeamHi Sahithi / Nipa,Is there a way we can go ahead with tm-tc package for now, we never tried this and it might take some more time to understand and build the sample package.Regarding cleanup, we do it only when the devices gets removed from our application, which is not frequent.Regards,MokshaHi Moksha,Do you have a queue on RT system to file a defect? if so, please go ahead and file it. If not, let me know I will try and get you an access.Thanks,NipaHi Nipa, I don't have details on how to file a RT. Please provide the link, i can try and let you know if i have access. Regarding the cleanup, i already responded on email we do it only when the devices gets removed from our application, which is not frequent. During cleanup, we removed the configuration and remove the service in single transaction. Here is the link for RTClose this since the issue is not on TSDN CFGRegards,Linh"
    },
    {
        "title": "[RONCFPSD-219] Permission required",
        "description": "Hello,Please enable access for the user sivakbal@cisco.com. I would need to check the tickets raised for SH program.Thanks,Siva.",
        "comments": "What exactly are you requesting access for?Thanks,RegiAccess to view and create the tickets.It seems you already have access to view/create tickets, since you were able to create the current ticket?Tried to access the ticket attached here. It is not accessible. Permission denied is returned. Could you check?Gotcha, when the tickets are created. The person who creates the ticket need to add everyone who needs access to the ticket.I have added you to . Can you check if it works now?You've also been added to CNC-Group, so you should have all access now to other tickets. Just make sure to log back out and login then retry and let me knowThank you, it worked. Appreciate it.No problem. I'll go ahead and close this ticket now.Thanks,Regi"
    },
    {
        "title": "[RONCFPSD-36] NCS 5.5.2.3 with M4 - Reverse Diff issue",
        "description": "<Filed for Arun.M.G>Hi Core FP Team,NSO : 10.56.116.240 ( installed with 5.5.2.3 M4) ( credentials : nso/Public1234!)since i am facing the reverse diff issue in 5.5.2.3 M4., I am trying to follow the wiki NSO Upgrade from 5.5.2.3 to 5.5.2.7 for CNC - M4 - Core FP - Confluence Eng SJC1 (cisco.com)While trying the step 1, the command \"show core-fp-release release function-pack-store build\" doesnt show any output.Wanted to know if it is fine to proceed with other steps or this will block anything to upgrade to 5.5.2.7 ?Attached mail has details of the issue and the fix #44719.Reverse Diff issue:nso@ncs> request l2vpn-ntw vpn-services vpn-service L2VPN_NM_P2P_SRTE-101 get-modifications reversecli {  local-node {    data -flat-L2vpn L2NM-L2VPN_NM_P2P_SRTE-101-internal {service-type p2p;flat-L2vpn-p2p {pw-id 101;local-site {pe A-PE1;if-type GigabitEthernet;if-id 0/0/0/6;if-encap dot1q;vlan-id 101;sub-if-id 101;xconnect-group-name L2VPN_NM_P2P_SRTE-101;p2p-name L2VPN_NM_P2P_SRTE-101;sr-te {preferred-path {       -          policy L2NM-P2P-SRTE-114-119;       -        }}control-word no;pw-class L2VPN_NM_P2P_SRTE-101;xconnect-local-ip 192.168.0.2;xconnect-remote-ip 192.168.0.18;}remote-site {pe A-PE6;if-type GigabitEthernet;if-id 0/0/0/6;if-encap dot1q;vlan-id 101;sub-if-id 101;xconnect-group-name L2VPN_NM_P2P_SRTE-101;p2p-name L2VPN_NM_P2P_SRTE-101;sr-te {preferred-path {       -          policy L2NM-P2P-SRTE-119-114;       -          fallback disable;       -        }}control-word no;pw-class L2VPN_NM_P2P_SRTE-101;}}       -}        devices {          device A-PE1 {            config {              interface {                GigabitEthernet-subinterface {GigabitEthernet 0/0/0/6.101 {mode l2transport;description \"T-SDN Interface\";encapsulation {dot1q {       -                vlan-id 101;       -              }       -            }       -          }                }              }       -      l2vpn {       -        pw-class L2NM-EVPN-SRTE-104 {       -          encapsulation {       -            mpls {       -              preferred-path {       -                sr-te {       -                  policy srte_c_104_ep_192.168.0.16;       -                  fallback disable;       -                }       -              }       -            }       -          }       -        }       -        pw-class L2VPN_NM_P2P_SRTE-101 {       -          encapsulation {       -            mpls {       -              preferred-path {       -                sr-te {       -                  policy srte_c_101_ep_192.168.0.18;       -                }       -              }       -            }       -          }       -        }       -        xconnect {       -          group L2NM-EVPN-SRTE-104 {       -            p2p L2NM-EVPN-SRTE-104 {       -              interface GigabitEthernet0/0/0/6.104;       -              neighbor-evpn {       -                neighbor {       -                  evpn 2 54 53 {       -                    pw-class L2NM-EVPN-SRTE-104;       -                  }       -                }       -              }       -            }       -          }       -          group L2VPN_NM_P2P_SRTE-101 {       -            p2p L2VPN_NM_P2P_SRTE-101 {       -              interface GigabitEthernet0/0/0/6.101;       -              neighbor 192.168.0.18 101 {       -                ip-version ipv4;       -                pw-class L2VPN_NM_P2P_SRTE-101;       -              }       -            }       -          }       -        }       -      }            }          }          device A-PE6 {            config {              interface {                GigabitEthernet 0/0/0/6 {       -          description \"T-SDN Interface\";       +          shutdown;                }                GigabitEthernet-subinterface {       -          GigabitEthernet 0/0/0/6.101 {       -            mode l2transport;       -            description \"T-SDN Interface\";       -            encapsulation {       -              dot1q {       -                vlan-id 101;       -              }}}                }              }l2vpn {pw-class L2VPN_NM_P2P_SRTE-101 {encapsulation {mpls {preferred-path {sr-te {       -                  policy srte_c_101_ep_192.168.0.2;       -                  fallback disable;       -                }}}}}xconnect {group L2VPN_NM_P2P_SRTE-101 {p2p L2VPN_NM_P2P_SRTE-101 {interface GigabitEthernet0/0/0/6.101;neighbor 192.168.0.2 101 {       -                ip-version ipv4;       -                pw-class L2VPN_NM_P2P_SRTE-101;       -              }}}}}            }          }        }</ul>  }}nso@ncs>Thanks,Arun.M.G",
        "comments": " Arun upgrade to NSO 5.5.2.7 which resovled the reverse diff issue"
    },
    {
        "title": "[RONCFPSD-190] NSO_LSA: Load Bootstrap Data Failure ",
        "description": "Does not able to commit the following boostrap data post tsdn installation. The commit throws the \"application communication failure\"admin@ubuntu2004:~/nso-5.7.2.1-tsdn-4.0.0-M3/tsdn-lsa/tsdn-lsa-rfs/bootstrap-data$ ncs_cli -u adminUser admin last logged in 2022-03-28T06:22:47.088218+00:00, to ubuntu2004, from 172.29.104.187 using cli-sshadmin connected from 172.29.104.187 using ssh on ubuntu2004admin@ncs> configureEntering configuration mode privateadmin@ncs% unhide debugadmin@ncs% load merge SR-status-codes.xmladmin@ncs% load merge SR-internal-plan-monitor.xmladmin@ncs% load merge RSVP-TE-status-codes.xmladmin@ncs% load merge RSVP-TE-internal-plan-monitor.xmladmin@ncs% load merge rfs-custom-template-settings.xmladmin@ncs% load merge L3VPN-status-codes.xmladmin@ncs% load merge L3VPN-internal-plan-monitor.xmladmin@ncs% load merge L2VPN-status-codes.xmladmin@ncs% load merge L2VPN-internal-plan-monitor.xmladmin@ncs% load merge dispatch-map-settings.xmladmin@ncs% load merge commit-queue-settings.xmladmin@ncs% load merge bootstrap-autopopulate-dispatch.xmladmin@ncs% commitAborted: application communication failureadmin@ncs% exit",
        "comments": "Hi Dinesh,Could you please share the setup info so we can check what's going on?Or alternatively, could you please share all the NSO logs if you can?NSO IP: 10.104.57.133 admin/Ovatest123@Hi Dinesh,I'm not able to access the NSO.But based on the sync-up session we had, we found your java-vm ran out-of-memory when loading the packages.Can you please try to either increase the memory allocation to your NSO VM, or use the NCS_JAVA_VM_OPTIONS flag to restrict the java-vm max memory usage to below system capability, i.e.:export NCS_JAVA_VM_OPTIONS=-Xmx2GYou will need to do \"request packages reload\" after above adjustment.Please try and let me know if this resolves the issue.Hi Linmao,Thank you for your observation. It fixed the issue when I increased the VM Memory from the resource allocation.Unfortunately \" export NCS_JAVA_VM_OPTIONS=-Xmx2G\" did not help me.Thanks,DineshHi Dinesh,Thanks for confirming that the issue is resolved!For the second option with theNCS_JAVA_VM_OPTIONS flag, you will need to restart NSO (<tt>sudo</tt><tt>/etc/init</tt><tt>.d</tt><tt>/ncs</tt><tt>restart-with-package-reload</tt>) for it to take effect. Sorry for missing this earlier.Please let me know if we can close this ticket.Thanks,Hi Linmao, Yes, The ticket can be closed.Thank you for looking into the issue.Thanks,Dinesh"
    },
    {
        "title": "[RONCFPSD-184] System installation link for installing NCS version 5.7.2.1 is removed from m3 and m4",
        "description": "Hi,We dont see the system installation steps for NSO 5.7.2.1 NCS version . do we have any other page to refer for the installation of NSO version?in CFP installation, it says, The following assumptions are done for given installation and verification steps :NSO is installed in System-Install mode .Please provide installation steps for 5.7.2.1Thanks,Arun.M.G",
        "comments": "Usually we don't handle NSO installation guide. It belongs to the platform team. As your request, this is the link Hi Linh,Thanks, May i know who is handling the confluence updates.? on which category to raise jira ticket , if we need to get the confluence page updated?can this be redirected to the respective team?we had this page till 4.0.0 M2.but not in M3 and M4.Hi Arun,These pages are for internal use ONLY. We decided to remove them because we don't want to update in every releaseThanks,Linh"
    },
    {
        "title": "[RONCFPSD-22] Unable to set RON default controller using RESTCONF when its value is empty",
        "description": "Hi,During fresh install and when RON default-controller is empty,When I try to send RESTCONF PATCH request to default-controller then NSO responds with below error message,\"ietf-restconf:errors\": {                                          \"error\": [                                                  {                                                      \"error-type\": \"application\",                                        \"error-tag\": \"invalid-value\",                                       \"error-path\": \"/cisco-ron-cfp:ron/default-optical-controller\",                       \"error-message\": \"patch to a nonexistent resource\"                            }                                                    ]                                                    }                                                    }     Whereas , after setting default-controller from NSO , I am able to change/set using PATCH RESTCONF request.From CNC we need to set this value when the default-controller value is empty as well.Kindly help us in fixing this issue.Thanks,Naveen",
        "comments": "Hi Mohit,As per our web-ex discussion , the details are as follows,The path which I tried is below,http://<tt>nso.host</tt>:<tt>nso.port</tt>/restconf/data/cisco-ron-cfp:ron/default-optical-controllerMethod : PATCHBody: {  \"cisco-ron-cfp:default-optical-controller\": \"onc-real-new\"}Response:\"ietf-restconf:errors\": {                                          \"error\": [                                                  {                                                      \"error-type\": \"application\",                                        \"error-tag\": \"invalid-value\",                                       \"error-path\": \"/cisco-ron-cfp:ron/default-optical-controller\",                       \"error-message\": \"patch to a nonexistent resource\"                            }                                                    ]                                                    }                                                    }     Method : POST Response:{  \"ietf-restconf:errors\": {    \"error\": [      {        \"error-type\": \"application\",        \"error-tag\": \"malformed-message\",        \"error-path\": \"/cisco-ron-cfp:ron/default-optical-controller\",        \"error-message\": \"unknown element: default-optical-controller in /cisco-ron-cfp:ron/cisco-ron-cfp:default-optical-controller/cisco-ron-cfp:default-optical-controller\"      }    ]  }}Hi Naveen,From your details above it seems like you are using wrong api url and request body. Could you please try the below requests and let me know if it works for you. I tested these on my setup with fresh install when there is no default optical controller present.Thanks,Mohit BUrl : Request Body:{\"cisco-ron-cfp:ron\":{\"default-optical-controller\":[\"onc-real-new\"]}}Response status code returned: 204 No ContentUrl : Request Body:{\"default-optical-controller\":[\"onc-real-new\"]}Response status code returned: 201 CreatedAfter discussion on webex, we were able to resolve the issue. kindly refer ticket notes for more details."
    },
    {
        "title": "[RONCFPSD-153] Aborted: application communication failure",
        "description": "Operation failed while performing commit command as part of:Configure Bootstrap dataLoad merge the following files from config to activate notificationsAfter running commit I get the following:Aborted: application communication failure",
        "comments": "Hello, please attach the files that caused this error, and let us know how to access the setup where this error is seen. Thank you.10.56.116.162 nso/Public1234&#33;I just checked your system and most of packages are not upnso@ncs> show packages package oper-status                                                        PACKAGE                 PROGRAM                                    META   FILE                 CODE   JAVA      PYTHON     BAD NCS PACKAGE PACKAGE CIRCULAR  DATA   LOAD  ERRORNAME             UP ERROR  UNINITIALIZED UNINITIALIZED VERSION NAME   VERSION DEPENDENCY ERROR  ERROR INFO---------------------------------------------------------------------------------------------------------------------------------------cisco-aa-service-assurance  -  -    -       X       -    -    -    -      -    -   -cisco-flat-L2vpn-fp      -  -    -       X       -    -    -    -      -    -   -cisco-flat-L2vpn-fp-internal -  -    -       X       -    -    -    -      -    -   -cisco-flat-L3vpn-fp      -  -    -       X       -    -    -    -      -    -   -cisco-flat-L3vpn-fp-internal -  -    -       X       -    -    -    -      -    -   -cisco-ios-cli-6.77      X  -    -       -       -    -    -    -      -    -   -cisco-iosxr-cli-7.38     X  -    -       -       -    -    -    -      -    -   -cisco-iosxr-nc-7.3      X  -    -       -       -    -    -    -      -    -   -cisco-iosxr-nc-7.315     X  -    -       -       -    -    -    -      -    -   -cisco-iosxr-nc-7.4      X  -    -       -       -    -    -    -      -    -   -cisco-iosxr-nc-7.5      X  -    -       -       -    -    -    -      -    -   -cisco-rsvp-te-fp       -  -    -       X       -    -    -    -      -    -   -cisco-sr-te-cfp        -  -    -       X       -    -    -    -      -    -   -cisco-sr-te-cfp-internal   -  -    -       X       -    -    -    -      -    -   -cisco-tsdn-core-fp-common   -  -    -       X       -    -    -    -      -    -   -core-fp-common        -  -    -       X       -    -    -    -      -    -   -core-fp-delete-tag-service  -  -    -       X       -    -    -    -      -    -   -core-fp-plan-notif-generator -  -    -       X       -    -    -    -      -    -   -custom-template-utils     -  -    -       X       -    -    -    -      -    -   -flat-l2vpn-multi-vendors   -  -    -       X       -    -    -    -      -    -   -flat-l3vpn-multi-vendors   -  -    -       X       -    -    -    -      -    -   -ietf-l2vpn-nm         -  -    -       X       -    -    -    -      -    -   -ietf-l3vpn-nm         -  -    -       X       -    -    -    -      -    -   -ietf-te-fp          -  -    -       X       -    -    -    -      -    -   -lsa-utils           -  -    -       X       -    -    -    -      -    -   -resource-manager       X  -    -       -       -    -    -    -      -    -   -rsvp-te-multi-vendors     -  -    -       X       -    -    -    -      -    -   -sr-te-multi-vendors      -  -    -       X       -    -    -    -      -    -   -I checked python version. The system have a wrong python3 version. Minimum version is 3.8nso@abendavi-nso1-cisco:~$ python3Python 3.6.9 (default, Jul 17 2020, 12:50:27) on linuxType \"help\", \"copyright\", \"credits\" or \"license\" for more information.Please correct your python according the wiki Closing ticket since Python version was noted to be incorrect when ticket was created.Python error identified. Closing ticket."
    },
    {
        "title": "[RONCFPSD-147] Please provide access ",
        "description": "ELAN Device Configuration Reference: E-TREE Device Configuration Reference: Model Reference: ",
        "comments": "Can you double check if you're signed into github? Please let me know if that was issue or if you still don't have access.Thanks,Regi"
    },
    {
        "title": "[RONCFPSD-392] L3VPN as part of core FP ",
        "description": "Question 1:Kindly suggest, If L3VPN Functional pack location will be moved from example packages folder to Core packages folder from this release (NSO 6.0 - TSDN 5.0 - M4). Also, Please suggest if there is any impact/changes with respect to its consumption in CNC.Question 2:With respect to the New VPN model changes, above page gives the Payload Difference. Kindly suggest if there is any Device config level changes or updation( IOS XR . Do we have any wiki (similar to above payload wiki) to track the changes/updation.",
        "comments": "Hi AjithaIETF-L3VPN-NM is still an example package in this release. It will be moved to core packages in future release.There are no changes with respect to the device level config. The device config remains the same.Thanks,NikhilProvided the required information to the user."
    },
    {
        "title": "[RONCFPSD-386] Transport Slice: Connectivity Type and global-rd Clarification",
        "description": "Hi,Need a clarification on Connectivity Type and global-rd.When connectivity type is set to \"any-to-any\" and global-rd set to \"auto\",can we add \"hub-rt\" in transport slice?",
        "comments": "Yes, RD (route-distinguisher) and RT (route-target) are different. \"global-rd\" is only applicable for configuring RDs; where, \"hub-rt\" is used to configure RTs for hubs.Thanks,RegiThanks Reginald"
    },
    {
        "title": "[RONCFPSD-351] Ingress/Egress QoS Override",
        "description": "Hi,I'm developing slice provisioning by forming yang model in M3.How do I set the value \"No Override\" or \"Not Set\" or \"Node\" using the model?Which attribute has to be used?",
        "comments": "For Ingress QoS Override and Egress QoS Override, we have 3 values.1. No Override2. Not Set3. NoneHow do i set one of these values to an attribute?Hi Magesh,I'm not sure I understand your question. Are these attributes device configurations? What exactly are you trying to override?Thanks,RegiHi,I'm referring to the QoS: \"cisco-nss:qos-policy\"Ingress and Egress QoS override (if set) will apply these QoS profiles specified on the SDP interface instead of the QoS profiles referenced in the catalog. Currently we don't have QoS under SDPs in model. HI Magesh,That is correct. The QoS override under SDP is currently not implemented. That feature is more of a stretch goal and may or may not be implemented for 5.0.Thanks,RegiThanks Reginald"
    },
    {
        "title": "[RONCFPSD-437] \"Loopback101\\\" is an invalid value when create a slice use loopback interface type",
        "description": "On CNC UI, create a slice use Interface Type = Loopback, it failed with the following error:[{\"Message\":\"invalid value for: ac-tp-id in /ietf-nss:network-slice-services/ietf-nss:slice-service[ietf-nss:service-id='SliceL3Ded523Lpback']/ietf-nss:sdps/ietf-nss:sdp[ietf-nss:sdp-id='5']/ietf-nss:attachment-circuits/ietf-nss:attachment-circuit[ietf-nss:ac-id='6']/ietf-nss:ac-tp-id: \\\"Loopback0\\\" is an invalid value.\",\"nsoResponse\":\"invalid value for: ac-tp-id in /ietf-nss:network-slice-services/ietf-nss:slice-service[ietf-nss:service-id='SliceL3Ded523Lpback']/ietf-nss:sdps/ietf-nss:sdp[ietf-nss:sdp-id='5']/ietf-nss:attachment-circuits/ietf-nss:attachment-circuit[ietf-nss:ac-id='6']/ietf-nss:ac-tp-id: \\\"Loopback0\\\" is an invalid value.\"}]From NSO UI, it gets the similar error when adding an SDP node.Screenshots attached.Is Loopback not supported for Slice or it is a product bug?Build combo:CW 220, CDG 247, COE 236, CAT 231, NSO6.1+TSDN M5",
        "comments": "Hi Crystal,This is a bug in the model. Please file a CDETs.Thanks,RegiThanks Reginald. CSCwe11532 is opened to track the issue.-CrystalFixing it in the CDET filed."
    },
    {
        "title": "[RONCFPSD-423] too many open files - scale setup",
        "description": "We have LSA scale setup with 25K devices with 3 RFS, 1 CFS, with 160K VPN services. We are sending REST API to provision more VPN services. We have set the files limit as specified in the install instruction. However while creating services, we get this critical error message and NCS is stopped.ncs.log:<CRIT> 6-Jan-2023::03:23:23.995 scale-nso2-CFS-133 ncs: - Writing state file failed: /var/opt/ncs/state/global.data: too many open files (emfile)ncs.log:<CRIT> 6-Jan-2023::03:23:24.037 scale-nso2-CFS-133 ncs: - Writing state file failed: /var/opt/ncs/state/global.data: too many open files (emfile)For such a scale setup, what is the recommended no of files value that should be setup. We are facing this issue for the second time in 3 days.setup: 172.20.63.133cnctest/Ovatest123@",
        "comments": "Hi Rama,Please update limits in  file  to :<ul>\t<li>soft nproc 100000</li>\t<li>hard nproc 100000</li>\t<li>soft nofile 100000</li>\t<li>hard nofile 100000</li>\t<li>soft core unlimited</li>\t<li>- nofile 100000</li></ul>we have used above settings in our scale lab.ThanksPriyankaWe are hitting this issue more often. We are provisioning ELAN service with 5 end points. Even 100K limit is not enough. I suspect there could be memory leak.Can you check this setup. Out of file descriptors for accept() - process limit reached# lsof | wc -l209011# lsof | grep ncs | wc -l8522#<CRIT> 9-Jan-2023::12:48:49.653 scale-nso2-CFS-133 ncs: - Out of file descriptors for accept() - process limit reached<CRIT> 10-Jan-2023::05:33:29.469 scale-nso2-CFS-133 ncs: - Daemon ncs-dp-2730-ietf-l3vpn-nm:main:9 timed out<CRIT> 10-Jan-2023::06:17:47.598 scale-nso2-CFS-133 ncs: - Out of file descriptors for accept() - process limit reached<CRIT> 10-Jan-2023::06:17:47.599 scale-nso2-CFS-133 ncs: - Writing state file failed: /var/opt/ncs/state/global.data: too many open files (emfile)<CRIT> 10-Jan-2023::09:59:36.011 scale-nso2-CFS-133 ncs: - Out of file descriptors for accept() - process limit reached<CRIT> 10-Jan-2023::14:54:51.177 scale-nso2-CFS-133 ncs: - Out of file descriptors for accept() - process limit reached<CRIT> 11-Jan-2023::03:28:11.120 scale-nso2-CFS-133 ncs: - Out of file descriptors for accept() - process limit reached<CRIT> 11-Jan-2023::05:33:01.156 scale-nso2-CFS-133 ncs: - Out of file descriptors for accept() - process limit reachedHi Rama,I checked your scale NSO :Your max user process is 4096 :$ ulimit -a core file size     (blocks, -c) unlimiteddata seg size      (kbytes, -d) unlimitedscheduling priority       (-e) 0file size        (blocks, -f) unlimitedpending signals         (-i) 531115max locked memory    (kbytes, -l) 64max memory size     (kbytes, -m) unlimitedopen files           (-n) 200000pipe size      (512 bytes, -p) 8POSIX message queues   (bytes, -q) 819200real-time priority       (-r) 0stack size       (kbytes, -s) 8192cpu time        (seconds, -t) unlimited virtual memory     (kbytes, -v) unlimitedfile locks           (-x) unlimitedIn my NSO it is : admin1@NOS5-172-73:~$ admin1@NOS5-172-73:~$ ulimit -a core file size     (blocks, -c) 0data seg size      (kbytes, -d) unlimitedscheduling priority       (-e) 0file size        (blocks, -f) unlimitedpending signals         (-i) 1031601max locked memory    (kbytes, -l) 65536max memory size     (kbytes, -m) unlimitedopen files           (-n) 100000pipe size      (512 bytes, -p) 8POSIX message queues   (bytes, -q) 819200real-time priority       (-r) 0stack size       (kbytes, -s) 8192cpu time        (seconds, -t) unlimitedvirtual memory     (kbytes, -v) unlimitedfile locks           (-x) unlimitedPlease update that value as well.Do following steps : sudo vi /etc/sysctl.confkernel.pid_max = 4194303To effect changes to take place :sudo sysctl -pPlease try after above and let me know if you see still see issue.ThanksPriyankaHi Priyanka,Am seeing below error while trying these steps. Am i missing some thing ?$ sudo vi /etc/sysctl.conf$ sudo sysctl -pvm.swappiness = 10sysctl: cannot stat /proc/sys/vn/nfs_cache_pressure: No such file or directorykernel.pid_max = 4194303Thanks,Sreedhar.Hi Sreedhar ,I was successfully able to update the max processes limits on your NSO :$ $ ulimit -a core file size     (blocks, -c) 0data seg size      (kbytes, -d) unlimitedscheduling priority       (-e) 0file size        (blocks, -f) unlimitedpending signals         (-i) 531115max locked memory    (kbytes, -l) 64max memory size     (kbytes, -m) unlimitedopen files           (-n) 200000pipe size      (512 bytes, -p) 8POSIX message queues   (bytes, -q) 819200real-time priority       (-r) 0stack size       (kbytes, -s) 8192cpu time        (seconds, -t) unlimitedmax user processes       (-u) 200000virtual memory     (kbytes, -v) unlimitedfile locks           (-x) unlimited$ $ Please run your tests and let us know if you still see issue.ThanksPriyanka "
    },
    {
        "title": "[RONCFPSD-345] Permission to view the pages",
        "description": "Not able to view the pages of below ,Permission denied. Please allow permission.",
        "comments": "Hi Magesh,Please try now.Thanks,Regi"
    },
    {
        "title": "[RONCFPSD-379] NSO CFP - 5.0 - M4 'container policy-definitions' was commented from new yang: ietf-routing-policy.yang",
        "description": "From cisco-tsdn-core-fp-common folder, a new yang file was added \"ietf-routing-policy.yang\" the policy-definitions was commented out therefore our compilation failed.Please see the attachment for line# and details.From grouping apply-policy-group {} ...leaf-list import-policy {    type leafref {      path \"/rt-pol:routing-policy/rt-pol:policy-definitions/\"      + \"rt-pol:policy-definition/rt-pol:name\";      require-instance true;     }and    leaf-list export-policy {     type leafref {      path \"/rt-pol:routing-policy/rt-pol:policy-definitions/\"       + \"rt-pol:policy-definition/rt-pol:name\";      require-instance true;     }where policy-definitions was used under the leafref but the container policy-definitions was under commented block.Please check.Thanks and regards,-Quy",
        "comments": " Hi Quy,Grouping apply-policy-group in ietf-routing-policy.yang is not used in the code. So ideally should not be getting a compilation error.But as you mentioned , ODL compiler showed compilation error regarding the grouping apply-policy-group having the leafref where the policy-definitions and policy-definition was used in a path.We will take care of this as part of the next release.Regards,Nishad Subair"
    },
    {
        "title": "[RONCFPSD-378] NSO CFP - 5.0 - M4 ietf-l3vpn-ntw.yang removed the \"uses vpn-common:service-status;\" from container vpn-services",
        "description": "Regarding ietf-l3vpn-ntw.yang:under container vpn-services {} the \"uses vpn-common:service-status;\" was removed - our compilation failed without this service-status.We have uncommented for now.Was this commented out by mistake or meant to be?Please see the block of 'container vpn-service' from the attached file.Thanks and regards,-Quy",
        "comments": " Hi Quy,We are not using vpn-common:service-status.Please suggest the purpose of the usage and if any functionality is depended on it.Regards,Nishad Subair."
    },
    {
        "title": "[RONCFPSD-422] slo-sle-template description shows \"exists\" if left blank ",
        "description": "When slo-sle-template is created with blank, it shows \"exists\". Is it expected?Attaching the screenshot.",
        "comments": "Hi Kanchan ,Please provide the set up info where this is reproducible.Also please provide the payload/steps as well as i am not able to replicate the same.Regards,Nishad SubairHi Kanchan,Please try without sending the attribute <template-description></template-description> in the payload if value is not being set.Regards,Nishad Subair.Hi Nishad,This is part of payload, so if value is not given then UI should be able to handle the blank. Thanks,KanchanRaised RT-50045 with NSO UI team for the issue.Hi Kanchan,RT has been resolved and the fix is available in the NSO build : 6.1_230309.150845399.3f9c3d6ad347.Please verify.Thanks And Regards,Nishad Subair."
    },
    {
        "title": "[RONCFPSD-344] NSO CFP - 5.0 - M2 - payload IETF Network Slice Service failed for L2",
        "description": "Was using payloads under Network Slice Services, found some name and contents mismatched:IETF-NSS-L3-ANY-TO-ANY-SHARED.xmlIETF-NSS-L3-HUB-SPOKE-DEDICATED.xmlgot some failure when using the IETF-NSS-L2-ANY-TO-ANY-SHARED.xml due to the missing Resource Pool Notes: Reginald was helping to resolve this ticket - the doc was fixed as well.",
        "comments": "Issue was resolved as per Quy's comment. We should really add L2 resource pools are part of init-data"
    },
    {
        "title": "[RONCFPSD-350] M2 and M3 yangmodel mismatch",
        "description": "Hi,I'm developing the code for transport slice provisioning. I have formed yang model in M2 version. Now M3 also came up. Some of the attributes in M2 has been changed in M3.M2:<div class='table-wrap'><table class='confluenceTable'><tbody><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>   +--rw ietf-nss-cisco:vpn-targets</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'> +--rw ietf-nss-cisco:vpn-target* </td></tr></tbody></table></div>M3:<div class='table-wrap'><table class='confluenceTable'><tbody><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>   +--rw cisco-nss:vpn-targets</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'> +--rw cisco-nss:vpn-target* </td></tr></tbody></table></div>Is it a permanent change? Also, it'll be difficult for me to change the model every time the new release comes.",
        "comments": "Hi Magesh,Yes, this change is permanent. We have changed ALL of the namespace for the cisco augmentations for the IETF models in order to follow more closely to the yang standards.Thanks,Regi"
    },
    {
        "title": "[RONCFPSD-436] CAT/NSO works incorrectly when 2 Circuit style policy created with same headend tailend color",
        "description": "Tested in build CW 218 NSO 6.1 M5+Setup - CW - 10.195.165.70 - admin/Cnc@1234 - cw-admin/Ovatest123@NSO - 10.195.165.75 - xrd1/xrd1Created a Circuit style policy and verify the policy details and map view in TE page.Now create another Circuit style policy with same Headend/Endpoint/color but all other values are different.In device, configuration of first CS policy is overwritten with second CS policy information but CNC/NSO holds both CS policy.NSO check sync fails for the first CS policy. - NSO CFP OBSERVATION2 different CS policy in CAT UI Provisioning NSO page cross launches to same CS policy in TE page.Among its corresponding SR policies, if a policy forward works , reverse throws error \"unable to locate policy\" and vice versa.Defect CSCwe10254 raised for the same.",
        "comments": "Hi, there is a uniqueness constraint on SR-TE Policies in general.If you refer to our SR-TE Detailed Wiki () you can see there is a link on \"SR-TE\" as shown below: If you click on the \"SR-TE\" (), it will take you to a overview of SR-TE with a slide deck describing SR-TE constraints and behavior. If you go to slide 10, you will see: Here we can see, at a given head-end, an SR-TE Policy is uniquely identified by<ol>\t<li>color</li>\t<li>endpoint</li></ol>As Circuit Style SR-TE Policy is simply a bidirectional pair of SR-TE Policies, it follows the same constraints as SR-TE Policies.As such, it is invalid to create SR-TE Policies with same head-end, color, and endpoint. This applies to CS SR-TE Policies as well. I hope this helps answer your question.Thanks,Isaac KimDocumentation has been updated to reflect this condition.Documentation Updated."
    },
    {
        "title": "[RONCFPSD-387] Slice Provisioning Issue",
        "description": "Hi,While provisioning a slice, getting below error,{\"nsoResponse\":\"[{\\\"Context\\\":\\\"[name = BGP AS Validation, message = BGP routing process is not configured on the device state = {'Endpoint': 'xrv9k-23_SDP-1-1', 'Keypath': '/cisco-flat-L3vpn-fp-internal:flat-L3vpn{NSS-Dedic-200-internal xrv9k-23_SDP-1-1}'}]\\\",\\\"Category\\\":\\\" validation\\\",\\\"Message\\\":\\\"/flat-L3vpn{NSS-Dedic-200-internal xrv9k-23_SDP-1-1}: STATUS_CODE: TSDN-L3VPN-415\\\",\\\"Severity\\\":\\\" ERROR\\\",\\\"StatusCode\\\":\\\"/flat-L3vpn{NSS-Dedic-200-internal xrv9k-23_SDP-1-1}: TSDN-L3VPN-415\\\",\\\"Reason\\\":\\\" BGP routing process is not configured on the device\\\"}]\",\"status\":\"failure\"}payload attached.Could you please help me?",
        "comments": " Hi Magesh,You'll need to pre-configure the BGP on the XR device as a requirement for slicing, since slicing will pick up the BGP process from the XR device.Thanks,RegiHi Reginald,How do we configure that? can you pls give me any reference/material to follow?ThanksMageshI'm assuming you're using XR CLI NED, you can use the following command:<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>set devices device PIOSXR-0 config router bgp bgp-no-instance 100</pre></div></div>The above is day0 and only need to configured once per device.Thanks,RegiThanks Regi"
    },
    {
        "title": "[RONCFPSD-393] 6.0 getting access denied on load merge operation ",
        "description": "Installed NSO 6.0 + FP. I see 2 issues (maybe related): 1. Packages core-fp-common and resource-manager failed to load with same error:<ul><ul><ul>ALARM package-load-failure: LOAD_PACKAGE</ul></ul></ul> 2. When try to run the \"load merge\" operations - getting access denied. The files has all running permissions and belong to the current user I defined. when doing this operation - it fails:cd /home/nso600/nso-6.0-tsdn-5.0.0-M4+ENG-34/tsdn/bootstrap-datancs_cli -u adminconfigureunhide debugload merge CS-SR-internal-plan-kicker.xmlgetting:Error: access deniedcan you have a look and tell what went wrong on install process? server is 10.56.58.145 (nso600/Public1234!)Thanks!",
        "comments": "PLMK once you update your Java version.hi Sahithi, I have fixed the java version issue, and now all packages are UP. Still facing issue of access denied when I try to do load merge. hi, I see that there is no \"set\" command on ncs cli, and no nacm permissions - is there a way to resolve those issues? NCS 6.0 successfully installed."
    },
    {
        "title": "[RONCFPSD-146] Got 404 access error when trying to access a few TSDN FP info in github ",
        "description": "Hi,Getting 404 access error when I tried to access below info. Is this github access permission issue ?Please let me know.Thanks,Jen-ShueELAN Device Configuration Reference: E-TREE Device Configuration Reference: Model Reference: ",
        "comments": "From the screenshot, it doesn't look like you're logged into github. Can you login and try again?Hi Jen Shue,As Discussed, you have access now.Closing thread.Thanks,Priyanka"
    },
    {
        "title": "[RONCFPSD-152] Provision policy failed on LSA setup with illegal reference",
        "description": "I have a LSA setup with 1 CFS and 2 RFS. PE-A is associated with rfs-29. I am able to onboard LSA providers and devices to CW cluster. When provision an sr-te policy either from CNC UI or NSO, both failed the validation with illegal reference.Steps:1. from NSO commit manager load the payload xml file (attached) 2. Click \"Native Config\" tab   The following error message shows:\"errors: reason: illegal reference. paths: /ncs:devices/device{rfs-29}/config/cisco-sr-te-cfp-internal:sr-te/cisco-sr-te-cfp-sr-policies-internal:policies/policy{srte_c_401_ep_100.100.10.3 PE-A}/head-end. path: /ncs:devices/device{rfs-29}/config/cisco-sr-te-cfp-internal:sr-te/cisco-sr-te-cfp-sr-policies-internal:policies/policy{srte_c_401_ep_100.100.10.3 PE-A}/head-end\"",
        "comments": " Hello, Please kindly share the setup info so I may verify the devices/config.CFS: 172.23.213.30RFS: 172.23.213.29 ; 172.23.213.39id/pw: root/Vtsisco@123!Let me know if you need any other information.Hello, I have been able to load the policy succesfully on rfs-29.rfs-29 was out of sync and thus the policy error is seen as above.There are alarms to indicate the rfs-29 was down for sometime (PE-A may have been onboarded during that time).Under CFS - the dispatch map contained the device but the config under the rfs node wasnt showing the device:admin@ncs% show devices lsa dispatch-mapdevice PE-A {ned-id  cisco-iosxr-cli-7.38:cisco-iosxr-cli-7.38;remote-node rfs-29;}admin@ncs% show devices device rfs-29 config devices deviceNo entries found.When a compare config was requested, it indicated the device rfs-29 was out of sync.I have executed a sync-from on the rfs nodeadmin@ncs% request devices device rfs-29 sync-fromresult trueNow, the policy is onboarded successfully.admin@ncs% show sr-te policies policy srte_c_401_ep_100.100.10.3head-end PE-A;tail-end 100.100.10.3;color 401;binding-sid 11111;path 401 { dynamic { metric-type latency; pce; }}Thanks Janaki for finding the device OOS issue and resolve it. I went ahead and provision an L2vpn service from CNC and it stuck in \"In-Progress\" state. Cross launch to NSO the plan data showed 5/8 completed. Screenshots attached. Can you help to take a look?Hi Crystal, after investigation it seemed like the redeploy of service did not happen correctly. Everything else seemed to be in place, the logs indicate that the kickers etc were triggered properly but for some unknown reason the redeploy did not go through fully.When I redeployed the service it worked well and I also deleted the config and re-loaded it which also worked well.Please verify and let me know.Thanks Janaki for investigating the issue. I went ahead and delete the L2vpn service from CNC UI. But the entry still showed on CNC UI. When I cross launch to view in NSO, NSO UI showed \"path does not exist\". There seems to be a disconnect between CNC and NSO. Can you check if the correct status has been sent to CNC?Thanks.Hi Crystal, Sure! I can look at it, but it would be better to track this above issue in a new ticket.Please kindly proceed with opening up another ticket for troubleshooting this issue.Can you please confirm if the original issue with the illegal reference is fixed so I may proceed with closing this ticket?Please let me know.Sure Janaki. The illegal reference issue is resolved. You can close this ticket. I will open new ticket to track the other issue. Thanks again for your help.Thank you!rfs-29 was out of sync and thus the policy error is seen as above. Alarms indicate node had lost connectivity which resulted in the out of sync. Issue was fixed on the setup by manually running a sync from on the rfs-29 node."
    },
    {
        "title": "[RONCFPSD-185] NSO crashed and won't start, after services deletion commands",
        "description": "As part of SH automation execution the NSO crashed and won't start, after executing the following commands:\"delete flat-L3vpn\",\"delete flat-L2vpn\",\"delete l3vpn-ntw\",\"delete l3vpn-route-policy\",\"delete l2vpn-ntw\",\"delete l2vpn-route-policy\",\"delete sr-te\",\"delete te\"VM details:10.56.112.77auto1/Public1234!system installationNSO 5.7.2.1 + CFP M3/var/log/ncs/ncs.logJob logs:Link:console logs:...0:35:19 admin@ncs% 00:35:19 2022-03-22T00:35:19: %TESTCASES-INFO: Command to be executed: delete te00:35:19 delete te00:35:19 00:35:19 00:35:19 00:35:19 admin@ncs% 00:35:19 commit00:35:20 Commit complete.00:35:20 00:35:20 00:35:20 00:35:20 admin@ncs% 00:35:20 exit00:35:20 00:35:20 admin@ncs> 00:35:20 exit00:35:20 00:35:32 2022-03-22T00:35:31: %TESTCASES-INFO: Waiting 6.0 minutes for services to be deleted...FAILED TO CONNECT THE NSO CLI:...00:41:33 Last login: Mon Mar 21 22:35:07 2022 from 10.56.22.10100:41:33 \ufffd]00:41:33 00:41:33 2022-03-22 00:41:33,350: %UNICON-INFO: +++ initializing handle +++00:41:33 1337;RemoteHost=auto1@gd-oashery-nso\ufffd\ufffd]1337;CurrentDir=/home/auto1\ufffd\ufffd]1337;ShellIntegrationVersion=16;shell=bash\ufffd\ufffd]133;C;\ufffd00:41:33 \ufffd]1337;RemoteHost=auto1@gd-oashery-nso\ufffd\ufffd]1337;CurrentDir=/home/auto1\ufffd\ufffd133;D;0\ufffd\ufffd]133;A\ufffdauto1@gd-oashery-nso:~$ \ufffd]133;B\ufffdncs_cli -u admin00:41:33 \ufffd[?2004l\ufffd]133;C;\ufffdFailed to connect to server00:41:33 \ufffd]1337;RemoteHost=auto1@gd-oashery-nso\ufffd\ufffd]1337;CurrentDir=/home/auto1\ufffd\ufffd133;D;1\ufffd\ufffd]133;A\ufffdauto1@gd-oashery-nso:~$ \ufffd]133;B\ufffd00:42:33 00:42:33 2022-03-22 00:42:33,500: %UNICON-ERROR: Timeout occurred : Timeout value : 6000:42:33 Command sent: ncs_cli -u admin00:42:33 Pattern: 00:42:33 Got: '1337;RemoteHost=auto1@gd-oashery-nso\\x07\\x1b]1337;CurrentDir=/home/auto1\\x07\\x1b]1337;ShellIntegrationVersion=16;shell=bash\\x07\\x1b]133;C;\\x07\\x1b]1337;RemoteHost=auto1@gd-oashery-nso\\x07\\x1b]1337;CurrentDir=/home/auto1\\x07\\x1b133;D;0\\x07\\x1b]133;A\\x07auto1@gd-oashery-nso:<sub>$ \\x1b]133;B\\x07ncs_cli -u admin\\x1b133;C;\\x07Failed to connect to server\\x1b]1337;RemoteHost=auto1@gd-oashery-nso\\x07\\x1b]1337;CurrentDir=/home/auto1\\x07\\x1b133;D;1\\x07\\x1b]133;A\\x07auto1@gd-oashery-nso:</sub>$ \\x1b]133;B\\x07'00:42:33 2022-03-22T00:42:33: %TESTCASES-ERROR: \ufffd[31mERROR occurred in send_line: ('Failed to match buffer on spawn', TimeoutError('Timeout occurred'))\ufffd[0m\ufffd[39m...",
        "comments": " Hi Ofir,With the help from Isaac, we could not conclude what is root cause for the crash from the attached logs. We will try to reproduce this issue in the local setup. Please share all payloads of services before massive service deletion. Let see if we can reproduce the issue.Please confirm is it CNC 4.0 M4 build? Is there any settings that need to know to make it happens like CQ etc ...Thanks,LinhHello Ofir,I am assisting with RCA for this failure you are seeing.Would you be able to give me access to your Jenkins console logs : Thanks,Isaac KimHi Isaac, I don't have permissions for the Jenkins, but you can watch these logs at: or . btw, I re-installed the NSO (5.7.2.1 + M3) from scratch and when when the services have created via CW nso proxy REST API, in CW they displayed as in progress, now I'm not sure whether it's related to the same issue but it's worth to check that from NSO POV the services created properly, and the new NSO installation are correct, can you please help us verifying that ? it's the same NSO details:10.56.112.77auto1/Public1234!CW:10.56.112.51( ssh: cw-admin/Public1234! , UI: admin/Public1234!)Hi Ofir, All services that you push to NSO are not in 'reached' state because you don't set a proper username in nacm. This user 'auto1' (see the screen shot) is used to communicate to with NSO but it is not set proper access in nacm auto1@ncs% show nacm groups group ncsadmin user-name [ admin cw-admin private ]; 'auto1' should be member of nacm ncsadmin group-LinhHi Linh,we dont have such steps in installation confluence page.attached snapshot.Hi Arun,That is the same command in general. Only difference is it is going deep down inner level ( like a filter) so you could see it clearly.Thanks,LinhHi Linh, after fixing the nacm permissions, I re-deploy all the services, the status was green for all services, but then I started the automation script, after the execution of the delete commands, the nso server was crashed again, can you please take a look on it now ? the nso is down.Hi Ofir, Please leave the system as it for now. The team and I will take a look. We will let you know when we are done!Thanks,LinhSure, Linh. you can do the investigation, until Sunday we must have a solution so we won't be blocked.Thanks,Ofir. Can I have Jenkins console url again?Thanks,LinhHello Ofir,Would you be able to provide alternative links for new console logs? I cannot access the above link.Thanks,Isaac Kimis it ok ? Yes thank you!Will take a look now.Thanks,Isaac KimHello Ofir,Looking at your console logs, I can see something that stood out:<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\">480: 2022-03-25T17:20:17: Cleanup CFP Services481: 2022-03-25T17:20:17: Command to be executed: delete flat-L3vpndelete flat-L3vpn[ok][2022-03-25 14:20:14][edit]admin@ncs% 485: 2022-03-25T17:20:17: Command to be executed: delete flat-L2vpndelete flat-L2vpn[ok][2022-03-25 14:20:15][edit]admin@ncs% 489: 2022-03-25T17:20:18: Command to be executed: delete l3vpn-ntwdelete l3vpn-ntw[ok][2022-03-25 14:20:15][edit]</pre></div></div>We can see here that both flat-L3vpn and l3vpn-ntw servicepoints are being deleted in the same transaction. This is not supported behavior.With TSDN stacked services, only the top level NB servicepoint that is being used for provisioning can be interacted with.For example:l3vpn-ntw => If you are using l3vpn-ntw for L3 provisioning, then you can only use l3vpn-ntw (no flat-L3vpn)flat-L3vpn => If you are using flat-L3vpn for L3 provisioning, then you can only use flat-L3vpn (no l3vpn-ntw)l2vpn-ntw => If you are using l2vpn-ntw for L2 provisioning, then you can only use l2vpn-ntw (no flat-L2vpn)flat-L2vpn => If you are using flat-L2vpn for L2 provisioning, then you can only use flat-L2vpn (no l2vpn-ntw)From the above console logs, you can see that both l3vpn-ntw and flat-L3vpn servicepoints (and both L2 servicepoints) are being targeted. This will lead to undefined behavior and will definitely cause race conditions.Could you please try to reinstall your backup and try to remove the conflicting operations?Thanks,Isaac KimHi Isaac, This automation flow is being executed for a long time, I can send you prev logs, after upgrading to 5.7.2.1 + M3 it started to crash, this deletion script is been used by other teams as well, nothing has changed from our side but the NSO version which was upgraded, what do you mean by installing backup ? should I re-install everything all over again ? sorry but it's not acceptable solution, as the process is long and it takes the entire day for that, if it's not supported operation, I think you need to block it, anyway, crashing the entire NSO server and re-install is required, not acceptable.Hi Issac,As Ofir said, it is not acceptable for the System to crash in any race condition.we will modify the automation steps . but lets have CDETS on it to fix the issue.Ofir., please riase CDETS referring to this Jira ticket.Thanks,Arun.M.GHi Arun,Because the delete operation has conflicting servicepoints, the behavior afterwards is undefined. I can see from NSO crash dump that the issue stems from undefined plan path for ietf te from NSO side effect of trying to reactive redeploy zombie. Now we have to step through the entire delete flow to see where the race condition lies.To reiterate, it may not be acceptable for race conditions, but this is undefined behavior because there is conflict in servicepoint interaction. Again, with undefined behavior, the outcome is unpredictable which can cause crash like this.To be frank, it is unacceptable to continue using conflicting operations as part of automation flow. This needs to be resolved to have valid automation runs.I am continuing to look into this issue despite the undefined nature of the outcome.I will update on this ticket once we confirm exact root of issue.Thanks,Isaac KimPlease do not raise a CDETS for this ticket yet as we do not know if the issue stems from TSDN service logic, from platform failure, or from the undefined behavior due to servicepoint conflict.Until we identify root cause of issue, we should not jump to any conclusions.Because the automation NSO setup is reused across runs, the issue can stem from previous state. Because the NSO setup is \"cleared\" using conflicting delete operations, any run after the first run on virgin NSO setup is invalid.I wil be debugging on the earliest NSO logs provided as this should be the cleanest state. I can see that IETF TE oper-data was able to be referenced by platform correctly before the mass delete operation (which has conflicting servicepoint delete). After this transaction is processed, I can see NSO cannot access IETF TE oper-data plan path anymore. Any logs or automation \"runs\" after this point must be assumed invalid due to the conflicting operations.Hello Ofir and Arun,Thank you for your patience on this issue.With your input, we have been able to reproduce this issue consistently on our local setups and isolate the source of the issue.Reproduction Steps:1. Load merge all L2 payloads (as defined in Jenkins console logs) and all IETF TE payloads2. commit3. Wait for plan to be reached for all services4a. Failed Delete Commands :<ul>\t<li>delete flat-L2vpn</li>\t<li>delete l2vpn-ntw</li>\t<li>delete l2vpn-route-policy</li>\t<li>delete te</li>\t<li>commit\t<ul>\t\t<li>RESULT : NSO crash OR stuck IETF TE zombie</li>\t</ul>\t</li></ul>4b. Successful Delete Commands :<ul>\t<li>delete l2vpn-ntw</li>\t<li>delete l2vpn-route-policy</li>\t<li>delete te</li>\t<li>commit\t<ul>\t\t<li>RESULT : Services Deleted, Zombies cleared</li>\t</ul>\t</li></ul>If you would like to have more details on our reproduction setup, please let me know and I can provide exact steps.Based on these results, I believe that fixing the conflicting delete operations can resolve your issue. If you fix the conflicting delete operations but still face NSO crash, please let us know so we can investigate further.For your existing TSDN + NSO automation setup, I have tried to recover the CDB, but because there are pending zombies with illegal references, I was not able to load the CDB files into a running NSO (which is required for CDB manipulation with ncs_load). Unfortunately, it seems like you will have to reinstall TSDN.For preventing this conflicting delete operations from occurring on service side, please feel free to open an enhancement request and we will see how we can implement some checks to prevent this from happening again.Thanks,Isaac KimHi Isaac,Thanks for the comments and suggestion. we agree on the steps. but NSO crash is not accepted in any Race condition. we should need to have a fix to avoid the issue hitting at customer side with this race condition.Thanks,Arun.M.GHi, raised CDETS for tracking, please keep this Jira ticket as a reference to cdets bug for further investigation.Thanks,Ofir.Hello Arun and Ofir,After discussing with team, we have come to conclusion that despite the undefined nature of the delete operations, it is not acceptable for NSO to crash in any circumstance.Thank you for raising the CDETs. We will look into the crash further now that we have a reproducible procedure.Yes, we will leave this ticket open for now and I will update this ticket if we have any progress on the CDETs.Thanks,Isaac KimThank you Isaac and team for the understanding.Late update, reproduction setup was provided to platform team few week ago. Waiting to get assigned to engineer.Hello Ofir and Arun, we have gotten a reply from platform team and we are working to bring a fix for TSDN 5.0.This issue seems quite rare. Despite this, the workaround for TSDN 4.0 is the following:<ol>\t<li>Only delete top layer service</li>\t<li>When deleting service, use the full path to service instance</li></ol>I have added a warning in our TSDN 4.0 documentation for this.For TSDN 5.0, we will absorb the platform fix for this.Thanks,Isaac KimWorkaround provided for TSDN 4.0 and fix will be absorbed for TSDN 5.0"
    },
    {
        "title": "[RONCFPSD-23] Test: What NSO version is supported",
        "description": "Test: What NSO version is supported",
        "comments": "In this version, we support NSO 5.5.2 and 5.4.3.2In this version, we support NSO 5.5.2 and 5.4.3.2Thanks, I am happy"
    },
    {
        "title": "[RONCFPSD-37] Need to know the status of RON state 506,410",
        "description": "\"message\": \"Error running action for side-effect item /cisco-ron-cfp:ron/ron-ml-plan{200_mux1}/plan/component{ncs:self self}/state{ncs:init}: Python cb_action error. Error: RON-410Hardware capability for the {QDD-400G-ZR-S, muxponder, 200} cannot be foundSTATUS_CODE: RON-506REASON: Fetch Optics failedCATEGORY: custom-actionSEVERITY: ERRORContext [name = Fetch Optics Data error, message = ZR Fetch Optics data action returned error state = {'service': '200_mux1', 'endpoint': 'P-TOPLEFT-VXR'}]\"",
        "comments": "Hi Aarthi,We are looking into your issue. Please standby as we might need more info from your end debug your system.Please provide the following:<ol>\t<li>NSO version</li>\t<li>CFP build version</li>\t<li>Device type and version used for testing</li>\t<li>Add clear steps to reproduce an issue this includes details if some steps were done through NSO UI/CLI or through CNC UI, details on commit options used, order in which payloads were pushed, plan status in between, etc.</li>\t<li>All relevant payloads.</li>\t<li>NSO logs including trace if there was something pushed to the device</li>\t<li>In some cases, we\u2019d like to understand the use-case where we see users performing certain actions especially when some steps are done through NSO UI/CLI.</li></ol>I can also take a look around and check your testbed if you provide credentials here.Thank you,AbeThe issue is resolved now. Thanks for the clarification Abe. You can close the TicketHi Aarthi,To find out more about RON status code displayed on the service-plan, please use. This will display both the reason and recommended-actions for any given RON status codeAs for the reason you have encountered the above issue,it is because of provisioning muxponder with 200 bandwidth when ZR-only (not ZR+) can only do muxponder = 400, and therefore not supported.Please let me know if answers your queries or if you have additional questions regarding this ticket.Thank you,AbeThanks Aarthi. Closing the ticket now.Answered all questions from Aarthi. Setting the issue as resolved and closing the ticket."
    },
    {
        "title": "[RONCFPSD-191] Service creation via restconf proxy API is failing",
        "description": "In the latest CW builds the service creation via:\"/crosswork/proxy/nso/restconf/data\" is failing, I noticed that now the proxy urls contains \"jsonrpc\" instead of \"restconf\", is it a known change ? if yes, do you know who can provide us the updated urls and payloads ?Setup details:NSO:10.56.112.77auto1/Public1234!CW:10.56.112.51( ssh: cw-admin/Public1234! , UI: admin/Public1234!)",
        "comments": "Hi OfirWe do not have information about the urls used by the CNC UI. Please reach out to the CNC UI team. They should be able to assist you here.Thanks,NikhilWe have found the root cause, it's on ifra-services side. Closing the ticket as the issue is with the infra services side"
    },
    {
        "title": "[RONCFPSD-218] Device added in one RFS is not seen in the CFS while creating service",
        "description": "Server details:CFS: 10.56.116.151RFS1: 10.56.116.152RFS2: 10.56.116.153login: nso/Public1234!ui ; backed both creds are same as mentioned aboveDevices I have in RFS1: PE-A,PE-B and 4 core devicesDevice I have in RFS2 : PE-CNow tried to create a service between PE-B to PE-C. Got following error:1/1. .../vpn-node-id illegal referenceVPN-node-id:PE-C\"I am not able to create connection between two RFS nodes via CFS\"Payload is attached",
        "comments": " Hi Sampath,Seem like the device was not synced to the dispatch map properly. You can see from the output below that it does not exist on the CFS.<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>admin@ncs% show devices lsa dispatch-map device device CE-A {  ned-id   cisco-iosxr-cli-7.38:cisco-iosxr-cli-7.38;  remote-node sareddyd-esxi-01-vm2;}device CE-B {  ned-id   cisco-iosxr-cli-7.38:cisco-iosxr-cli-7.38;  remote-node sareddyd-esxi-01-vm2;}device P-BOTTOMLEFT {  ned-id   cisco-iosxr-cli-7.38:cisco-iosxr-cli-7.38;  remote-node sareddyd-esxi-01-vm2;}device P-BOTTOMRIGHT {  ned-id   cisco-iosxr-cli-7.38:cisco-iosxr-cli-7.38;  remote-node sareddyd-esxi-01-vm2;}device P-TOPLEFT {  ned-id   cisco-iosxr-cli-7.38:cisco-iosxr-cli-7.38;  remote-node sareddyd-esxi-01-vm2;}device P-TOPRIGHT {  ned-id   cisco-iosxr-cli-7.38:cisco-iosxr-cli-7.38;  remote-node sareddyd-esxi-01-vm2;}device PE-A {  ned-id   cisco-iosxr-cli-7.38:cisco-iosxr-cli-7.38;  remote-node sareddyd-esxi-01-vm2;}device PE-B {  ned-id   cisco-iosxr-cli-7.38:cisco-iosxr-cli-7.38;  remote-node sareddyd-esxi-01-vm2;}device sareddyd-esxi-01-vm2 {  ned-id cisco-nso-nc-5.7:cisco-nso-nc-5.7;  local;}device sareddyd-esxi-01-vm3 {  ned-id cisco-nso-nc-5.7:cisco-nso-nc-5.7;  local;}</pre></div></div>To remedy this issue you can run the following command to sync the device from RFS-2.<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>request devices lsa dispatch-map sync remote-nso sareddyd-esxi-01-vm3</pre></div></div>Let me know if you have any further questions.Thanks,RegiI have updated the wiki to include this in our troubleshooting guide for devices missing in the dispatch map: "
    },
    {
        "title": "[RONCFPSD-556] Enable NSO HA on IPv6 setup",
        "description": "Configured an NSO HA, follow this wiki link on an IPv6 setup:\"show high-availability status\" on primary node is OK, but not on secondary node. Is there any configuration missing for IPv6?Primary:admin@ncs> show high-availability statushigh-availability status mode primaryhigh-availability status current-id masterhigh-availability status assigned-role primaryhigh-availability status read-only-mode falseSecondary:admin@ncs> show high-availability statushigh-availability status mode nonehigh-availability status read-only-mode falseHere are the HA configuration on both nodes:Primary:admin@ncs% show high-availability token $9$a5bEJW74JrgYUlTImS7p4Fj3gvN/kxwhwVBGFmBjJok=;ha-node master {  address   fded:1bc1:fc3e:96d0:192:168:5:41;  nominal-role primary;}ha-node standby {  address     fded:1bc1:fc3e:96d0:192:168:5:42;  nominal-role   secondary;  failover-primary true;}settings {  enable-failover  true;  start-up {    assume-nominal-role true;    join-ha       true;  }  reconnect-interval 15;  reconnect-attempts 3;}Secondary:admin@ncs% show high-availability token $9$9Kw3nWwqYpFjnk2FlX+8dr41rA3SUQ5cb02x3u+ZHPo=;ha-node master {  address   fded:1bc1:fc3e:96d0:192:168:5:41;  nominal-role primary;}ha-node standby {  address     fded:1bc1:fc3e:96d0:192:168:5:42;  nominal-role   secondary;  failover-primary true;}settings {  enable-failover  true;  start-up {    assume-nominal-role true;    join-ha       true;  }  reconnect-interval 15;  reconnect-attempts 3;}",
        "comments": "Hi Crystal,Can you provide access to the nodes so we can take a look?Thanks,AbeHi Abe,The NSO is using private subnet. You will need to reach it from jump host. NSO has been configured with dual-stack. Jump host: 172.20.111.162id: pw: root/Cwork123!NSO 41: 192.168.5.41 NSO 42: 192.168.5.42id/pw: root/Vtsisco@123!Thanks.-CrystalHi Crystal,Show high availability status on both nodes now shows HA has been stablished.Primary_node:root@ncs> show high-availability statushigh-availability status mode primaryhigh-availability status current-id masterhigh-availability status assigned-role primaryhigh-availability status read-only-mode falseID ADDRESS-------------------------------------------standby fded:1bc1:fc3e:96d0:192:168:5:42Secondary_node:root@ncs> show high-availability statushigh-availability status mode secondaryhigh-availability status current-id standbyhigh-availability status assigned-role secondaryhigh-availability status be-secondary-result initializedhigh-availability status primary-id masterhigh-availability status read-only-mode falsePer NSO admin guide (attached, ), to support ipv4 and ipv6 access simultaneously, we need to configure extra-listen for each agent and transport, where additional IP address and port pairs can be configured. (for ipv4 0.0.0.0, for ipv6 \"::\")example:<!-- Use the built-in SSH server --><ssh> <enabled>true</enabled> <ip>0.0.0.0</ip>  <port>2024</port> <extra-listen> <ip>::</ip>  <port>2024</port> </extra-listen></ssh>Please let me know if you have any other questions. Designating the issue resolved and ticket will be closed now.Thanks,AbeHi Crystal,Show high availability status on both nodes now shows HA has been stablished.Primary_node:root@ncs> show high-availability statushigh-availability status mode primaryhigh-availability status current-id masterhigh-availability status assigned-role primaryhigh-availability status read-only-mode falseID ADDRESS-------------------------------------------standby fded:1bc1:fc3e:96d0:192:168:5:42Secondary_node:root@ncs> show high-availability statushigh-availability status mode secondaryhigh-availability status current-id standbyhigh-availability status assigned-role secondaryhigh-availability status be-secondary-result initializedhigh-availability status primary-id masterhigh-availability status read-only-mode falsePer NSO admin guide (attached, ), to support ipv4 and ipv6 access simultaneously, we need to configure extra-listen for each agent and transport, where additional IP address and port pairs can be configured. (for ipv4 0.0.0.0, for ipv6 \"::\")example:<!-- Use the built-in SSH server --><ssh><enabled>true</enabled><ip>0.0.0.0</ip><port>2024</port><extra-listen><ip>::</ip><port>2024</port></extra-listen> </ssh>Please let me know if you have any other questions. Designating the issue resolved and ticket will be closed now.Thanks,AbeIncluding more information Abe shared here for future reference. Add \"extra-listen\" for <ha> section in ncs.conf. <ha>   <enabled>true</enabled>   <ip>0.0.0.0</ip>   <port>4570</port>   <extra-listen>    <ip>::</ip>    <port>4570</port>   </extra-listen>   <tick-timeout>PT20S</tick-timeout> </ha>Attached are other info. Abe shared."
    },
    {
        "title": "[RONCFPSD-230] L3VPN service creation is failing on LSA HA setup (CFS in HA and 2 RFS in HA)",
        "description": "Hi Team,I have installed TSDN M5 with LSA (CFS in HSA and RFS in HA). I am trying to create L3VPN service which is failing. Can somebody take a look into the setup.Setup:CFS VIP: 172.201.00.71:8080admin/Ovatest123@RFS-HA-70:172.201.00.70:8080admin/Ovatest123@RFS-HA-78:172.201.00.78:8080admin/Ovatest123@Thanks,Kanchan",
        "comments": "Hi Kanchan,Please correct the setup IP you provided. It has a typo and i could not log on your setup. Also can you provide the error messages and provide a playload?Thanks,LinhHi Linh,Sorry for the typo: Setup:CFS VIP:172.20.100.71:8080admin/Ovatest123@RFS-HA-70:172.20.100.70:8080admin/Ovatest123@RFS-HA-78:172.20.100.78:8080admin/Ovatest123@Thanks,KanchanHere are the payload After submiter correct the tsdn-kicker-events name. Services work as expected. Closed the ticket-LinhFixed after correctiing tsdn-kicker-events"
    },
    {
        "title": "[RONCFPSD-224] TSDN-2.0.0 permanent zombie state on service deletion",
        "description": "Delection of a ietf-te-fp service never happens. It remains in zombie state. Using NSO netsim devices that are in sync and reachable. Attached is a file with the commands and available logs.",
        "comments": " Is this related to \"RT-45602: Show zombies stuck and transaction locked for deletion from NSO UI\" ?Hi PauloWe tried to reproduce this with TSDN 2.0code and netsim device but it seems to be working fine for us. Can you please share the setup details where you see this issue?Thanks, NikhilHi Nikhil, I've shared with you (check email) a cisco.box folder with your complete system setup in a docker container. You can have it running in just a few minutes. Below is a file with the detail description of all steps needed to start the container and reproduce the delete problem. Hi Paulo,We checked the setup and found that the python version being used is 3.6.8 whereas the recommended version is 3.8 or above.Please upgrade the python version and then test the functionality. Let us know if you still see issues after the upgrade.Attaching the pre-requisites for TSDN 2.0.0.Thanks, NikhilHi Nikhil,I update the docker container to use python 3.8.6. I see the same behaviour.Vodafone testing environment is already using 3.8.6, and I see the same behaviour there.Deletion of NSO services remains in Zombie State and manually cleanup is always required.Hi Paulo,I checked the setup and found that you haven't configured nacm user correctly.admin@ncs% show nacm read-default deny;write-default deny;exec-default deny;groups { group ncsadmin { user-name [ private ]; } group ncsoper { user-name [ public ]; }}Please correct it as below. The steps are mentioned in the wiki url as well.Thanks,NikhilHi Nikhil, Problem is solved! Thank you very much for your assistance and help! Ticket can be closedClosing the ticket as the issue is resolved."
    },
    {
        "title": "[RONCFPSD-542] Do we support transport slice with SRv6?",
        "description": "Question 1: In CNC6.0 we started to support transport slicing. Like to confirm if we support SRv6 in the slice? If we do, the flow will be 1. create the ODN with SRv6 enabled 2. create an NSST with the above ODN3. create L3 slice with the above NSSTQuestion 2: L2 slice with SRv6 is not supported, is this correct?",
        "comments": "Hello Crystal,Question 1:L3 with Srv6 ODN is supported with resulting config looking as attached in screenshot.Question 2:L2 with Srv6 ODN is supported with resulting config looking as below:  l2vpn {    xconnect {      group NSS-L2-P2P-internal {        p2p NSS-L2-P2P-internal {          interface GigabitEthernet0.100;          neighbor-evpn-service {            neighbor {              evpn evi 1 service 1 {                segment-routing {                  srv6;                }                locator MAIN;              }            }          }        }      }    }  }Please let us know if this helps.Regards,Janaki DuggiralaCustomer confirmed ticket maybe resolved with provided information for srv6."
    },
    {
        "title": "[RONCFPSD-581] CFS in scale setup not coming up after migration",
        "description": "We had 3 RFS, 1 CFS setup migrated from TSDN 5.0 to TSDN6.0 Drop 10. Following migration wiki.3 RFS have come up. But CFS did not come up, so increased the time out, but still no luck.Deleted the 5.0 packages from /var/opt/ncs/packages and copied 6.0 packages. For CFS, is this step right step ?Can you help.setup : 192.168.103.235",
        "comments": "credentials for CFS - 192.168.103.235 (cnctest/Ovatest123@) or admin/Ovatest123@Trying to start NSO.Saw the error below:Dec 01 17:39:51 scale-nso-CFS-235 ncs: - Cannot bind to internal socket 127.0.0.1:4569 : address already in useStopped all NSO, and all unnecessary NCS processes.Starting NCS now.Confirmed NSO is running and packages are up. Please see screenshot.Customer verified that issue is resolved and ticket can be closed. "
    },
    {
        "title": "[RONCFPSD-585] Migrated CFS bootstrap steps failing",
        "description": "We migrated TSDN LSA setup from TSDN 5.0 to 6.0. While verifying the boot strap steps, show status-code-cfp command alone is failing. Remaining steps are successful. Kindly help to resolve this issue.admin@ncs% show status-code-cfp----------------^syntax error: element does not existadmin@ncs%Setup : CFS 192.168.103.235RFS1 192.168.103.236, 237, 238admin/Ovatest123@",
        "comments": "Please enter \"unhide debug\" and then run status code command to verify such as :admin@ncs% unhide debugadmin@ncs% show status-code-cfp....status-code-cfp SR;Good. thank you for the help.Customer confirmed that issue is resolved and information has been received."
    },
    {
        "title": "[RONCFPSD-208] Multiple route policies are attached to the parent route-policy even though payloads don't have multiple policies. The payload is attached is for reference.",
        "description": "Multiple route policies are attached to the parent route-policy even though payloads don't have multiple policies. The payload is attached is for reference.route-policy bgp_inapply SET_COLORv4_service_RP-L2NM-ODN-xrd-1-350apply SET_COLORv4_service_RP-L2NM-ODN-xrd-1-450passend-policy",
        "comments": " Hi Ragesh,I can see that from your output, we can see an additional route policy being attached that is not defined in the payload mentioned in this ticket \"RP-L2NM-ODN-xrd-1-450\".To RCA this issue, I would need some more context about your NSO. The payload itself does not provide enough information to debug. To fast-track RCA, would you be able to provide your system ssh credentials? I will not make any changes.Thanks,Isaac KimHi Isaac,I have modified the configuration on device ; did sync-from, Not sure what configuration will have on the NSO, Please take a look on the NSO.NSO- 172.24.97.147Hi Ragesh,On your machine, I can see the following:<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\">admin@ncs% show l2vpn-rr-parent-route-policy...l2vpn-rr-parent-route-policy bgp_in xrd-1 { original-rr-route-policy ; local-route-policy RP-L2NM-ODN-xrd-1-350 {  ipv4; } local-route-policy RP-L2NM-ODN-xrd-1-450 {  ipv4; }}admin@ncs% show l2vpn-route-policy | nomore | match RP-L2NM-ODN-xrd-1-450[ok][2022-04-08 13:39:47][edit]admin@ncs% show l2vpn-ntw | nomore | match RP-L2NM-ODN-xrd-1-450[ok][2022-04-08 13:34:53][edit]</pre></div></div>It seems like there was a L2 service that referenced a valid l2vpn-route-policy \"RP-L2NM-ODN-xrd-1-450\". Somehow, this reference and l2vpn-route-policy definition was deleted without invoking service callbacks.Would you be able to tell me all the operations that were done related to \"RP-L2NM-ODN-xrd-1-450\"? Did you execute a cleanup action without first deleting service?Thanks,Isaac KimHi Issac,Yes, I configured the RP-L2NM-ODN-xrd-1-450 route policy for different L2VPN tunnels ; deleted the L2VPN service ; the route-policy from the CW-server. Later when we provide the other L2VPN service with RP-L2NM-ODN-xrd-1-350, both the route-policy is pushing to the device.Hi Ragesh,Sorry for the very delayed response. This scenario goes against NSO's fastmap functionality. That lingering route policy should have been removed as part of the associated L2 service delete unless no-deploy option was used for the delete commit or if cleanup action was used without first invoking delete which could cause race conditions.If you encounter this issue again, please feel free to update this ticket. I will take another look at your system and try to RCA the issue.Thanks,Isaac KimPlease open new JSD if encountered again."
    },
    {
        "title": "[RONCFPSD-546] One of the 2nd clusters in NSO LSA HA with L3 network shows RFS nodes as down",
        "description": "Issue: One of the 2nd clusters in NSO LSA HA with L3 network shows RFS nodes as downSteps:1. I have setup LSA on two pairs of VMs - 1 cluster with 1 CFS, 2 RFS and another cluster with 1 CFS, 2 RFS.2. 1st cluster came up fine and status is UP for RFS nodes in \"show cluster\".3. 2nd cluster displays the status as down for RFS nodes.4. I checked CFS is able to connect to RFS nodes via port 2022. sync-from and ssh fetch-host keys returned true as well.5. admin@ncs> show cluster              LAST  RECEIVEDNAME     NAME STATUS EVENT NOTIFICATIONS--------------------------------------------------nso-cw2-rfs1nso-cw2-rfs2                      LOCAL REMOTEREMOTE NODE  ADDRESS    PORT CHANNELS USER  USER  STATUS TRACE-----------------------------------------------------------------------------nso-cw2-rfs2 192.168.6.63 2022 -     admin admin  down  disablednso-cw2-rfs1 192.168.6.62 2022 -     admin admin  down  disabledJanaki and Linh helped to check the setup and everything seems to correct with configurations. Hence, need help to resolve this issue so that NSO LSA with L3 can with HA mode.",
        "comments": "Assigning to Van to please check the cluster.Hi Gomathi,After I enable device notificationset cluster device-notifications enabledThe cluster is upadmin@ncs% run show cluster                                    RECEIVEDNAME     NAME         STATUS LAST EVENT         NOTIFICATIONS--------------------------------------------------------------------------------------nso-cw2-rfs1 device-notifications up   0000-01-01T00:00:00-00:00 0nso-cw2-rfs2 device-notifications up   0000-01-01T00:00:00-00:00 0                      LOCAL REMOTEREMOTE NODE  ADDRESS    PORT CHANNELS USER  USER  STATUS TRACE-----------------------------------------------------------------------------nso-cw2-rfs1 192.168.6.62 2022 -     admin admin  up   disablednso-cw2-rfs2 192.168.6.63 2022 -     admin admin  up   disabledRegards,LinhHi Linh,After enabling the device notification on cw2-cfs1, show cluster shows rfs nodes as up which is different setting from tsdn wiki.I enabled back HA on both cw1-cfs1 and cw2-cfs2 below is the output:cw1-cfs1:admin@ncs> show cluster                                    RECEIVEDNAME     NAME         STATUS LAST EVENT         NOTIFICATIONS--------------------------------------------------------------------------------------nso-cw1-rfs1 device-notifications up   0000-01-01T00:00:00-00:00 0       ncs-events      up   0000-01-01T00:00:00-00:00 0nso-cw1-rfs2 device-notifications up   0000-01-01T00:00:00-00:00 0       ncs-events      up   0000-01-01T00:00:00-00:00 0                      LOCAL REMOTEREMOTE NODE  ADDRESS    PORT CHANNELS USER  USER  STATUS TRACE-----------------------------------------------------------------------------nso-cw1-rfs2 192.168.5.32 2022 -     admin admin  up   disablednso-cw1-rfs1 192.168.5.31 2022 -     admin admin  up   disabledcw2-cfs1:dmin@ncs> show cluster                                    RECEIVEDNAME     NAME         STATUS LAST EVENT         NOTIFICATIONS--------------------------------------------------------------------------------------nso-cw1-rfs1 device-notifications -    0000-01-01T00:00:00-00:00 -       ncs-events      -    0000-01-01T00:00:00-00:00 -nso-cw1-rfs2 device-notifications -    0000-01-01T00:00:00-00:00 -       ncs-events      -    0000-01-01T00:00:00-00:00 -Is the above output on cw2-cfs1 expected?Before enabling HA, cw2-cfs1 showed as below:admin@ncs% run show cluster                                    RECEIVEDNAME     NAME         STATUS LAST EVENT         NOTIFICATIONS--------------------------------------------------------------------------------------nso-cw2-rfs1 device-notifications up   0000-01-01T00:00:00-00:00 0nso-cw2-rfs2 device-notifications up   0000-01-01T00:00:00-00:00 0                      LOCAL REMOTEREMOTE NODE  ADDRESS    PORT CHANNELS USER  USER  STATUS TRACE-----------------------------------------------------------------------------nso-cw2-rfs1 192.168.6.62 2022 -     admin admin  up   disablednso-cw2-rfs2 192.168.6.63 2022 -     admin admin  up   disabledadmin@ncs% exitadmin@ncs> request high-availability enableresult enabledI enabled HA on all NSO LSA nodes, except, cw1-rfs1 and cw2-rfs1 all other nodes are returning expected hcc and ha configs in L3 mode. cw2-rfs1 gives below misconfiguration error:admin@ncs> show high-availability statushigh-availability status mode nonehigh-availability status assigned-role secondaryhigh-availability status be-secondary-result \"error (69) - configuration mismatch\"high-availability status primary-id masterhigh-availability status read-only-mode falseI double checked all configs they seem to be configured correctly. CSR router is able to ping corresponding VIP IP on each related pair of cfs and rfs nodes.Can you check and confirm on above secondary node HA config error on cw2-rfs1.Thanks,Gomathi.Hi Gomathi,Can you check bgp router connection and configuration?nso-cw2-rfs1 (192.168.5.31)admin@ncs% show high-availability token $9$i61J6fDpauBiYapug5zczA4QRcuXHc1A/4+s7Lde8oI=;ha-node master { address 192.168.5.31; nominal-role primary;}ha-node standby { address 192.168.6.62; nominal-role secondary; failover-primary true;}admin@nso-cw1-rfs1:~$ Peer AS Up/Down State |#Received Accepted 65137 3d 11:02:52 Establ | 3 3-----------------------nso-cw2-rfs1 (192.168.6.62)admin@ncs% show high-availability token $9$hMmeGxncwdpTtiNNsNpU/w42hZ3BjEztZawyaVoTBug=;ha-node master { address 192.168.5.31; nominal-role primary;}ha-node standby { address 192.168.6.62; nominal-role secondary; failover-primary true;}admin@nso-cw2-rfs1:~$ Peer AS Up/Down State |#Received Accepted 65137 00:21:34 Establ | 4 4Hi Van,Below is the bgp configs on cw2-rfs1 - csr:router bgp 65137 template peer-policy ha-peer route-reflector-client send-community both exit-peer-policy ! template peer-session rfs1-peer remote-as 65138 exit-peer-session ! template peer-session rfs2-peer remote-as 65139 exit-peer-session ! bgp log-neighbor-changes timers bgp 1 10 10 neighbor 192.168.5.31 remote-as 65138 neighbor 192.168.6.62 remote-as 65139 ! address-family ipv4 redistribute connected neighbor 192.168.5.31 activate neighbor 192.168.5.31 send-community both neighbor 192.168.6.62 activate neighbor 192.168.6.62 send-community extended exit-address-familycsr-cw1-cw2-rfs1#ping 192.168.5.31Type escape sequence to abort.Sending 5, 100-byte ICMP Echos to 192.168.5.31, timeout is 2 seconds:!!!!!Success rate is 100 percent (5/5), round-trip min/avg/max = 1/1/1 mscsr-cw1-cw2-rfs1#ping 12.12.12.12Type escape sequence to abort.Sending 5, 100-byte ICMP Echos to 12.12.12.12, timeout is 2 seconds:!!!!!Success rate is 100 percent (5/5), round-trip min/avg/max = 1/1/1 mscsr-cw1-cw2-rfs1#ping 192.168.6.62Type escape sequence to abort.Sending 5, 100-byte ICMP Echos to 192.168.6.62, timeout is 2 seconds:!!!!!Success rate is 100 percent (5/5), round-trip min/avg/max = 1/1/1 mscsr-cw1-cw2-rfs1#ping 13.13.13.13 >>>> VIP of cw1-rfs2/cw2-rfs2 not pingable from csr.Type escape sequence to abort.Sending 5, 100-byte ICMP Echos to 13.13.13.13, timeout is 2 seconds:.....Success rate is 0 percent (0/5)csr-cw1-cw2-rfs1#csr-cw1-cw2-rfs1#ping 11.11.11.11Type escape sequence to abort.Sending 5, 100-byte ICMP Echos to 11.11.11.11, timeout is 2 seconds:!!!!!Success rate is 100 percent (5/5), round-trip min/avg/max = 1/1/1 msThanks,Gomathi.Hi Gomathi,Found duplicate stream notification entries in ncs.conf,\"dispatch-map-update\" in secondary node and \"service-aa-changes\" in primary node. HA is up after removing the extra config and restarting...admin@ncs> show high-availability high-availability enabledhigh-availability status mode primaryhigh-availability status current-id masterhigh-availability status assigned-role primaryhigh-availability status read-only-mode falseID ADDRESS -----------------------standby 192.168.6.62 Hi Van,Thanks for looking into the issue and fixing it!There was no error during ncs packages reload operation after ncs.conf file update on cw2-rfs2 node. Hence, not sure how the duplicate entries got added in ncs.conf file.I remember during ansible script execution the duplicate entries error was thrown during ncs packages reload. I removed them and restarted ncs with manual installation and it worked fine.On this VM, show hcc was fine and only HA had the issue. As the error was generic and ncs restart also worked didn't have clue that ncs.conf file had duplicate entries.It would help user if error was specific during HA config issue.Thanks,Gomathi.Hi Gomathi,The config syntax was fine as NSO can handle the duplications at start up but not forgiving when doing config comparison for HA. Best practice for setting up HA is replicating exact application and config on both nodes (NSO version, package versions, ncs.conf, HA/hcc config).It's a little vauge but \"error (69) - configuration mismatch\" should have pointed us to check HA/hcc config, ncs.conf.Regards,Van"
    },
    {
        "title": "[RONCFPSD-220] IPv6 CFS and RFS UI takes very long to load, sometimes fails to load.",
        "description": "Hi Team,I have IPv6 LSA setup. I am facing issues to load the CFS and RFS UI on ipv6 address.setup:CFS: (admin/Ovatest123@)RFS(rfs-62): (admin/Ovatest123@)RFS(rfs-63): (admin/Ovatest123@)RFS(rfs-67): (admin/Ovatest123@)Thanks,Kanchan",
        "comments": "Kanchan to get back after confirming that there is no routing issue in their lab.VM issue caused this"
    },
    {
        "title": "[RONCFPSD-234] NSO CFP - TSDN M4/M5 wiki need update.",
        "description": "Hi NSO-CFP team,Based on the Millstone releases for M4 and M5, NSO team has confirmed there are no model changes.From both TSDN-M4 and M5 wiki links, under Model and Payload Changes, the information are identical to TSDN-M3 wiki.\u00a0 If M4 ; M5 did not have any model changes, this section should either be emptied or should have a note that the information was copied from M3 for referencing purpose.Even with no model changes, we found the following yang files were modified:cisco-flat-L2vpn-fp-internal-common.yangietf-l2vpn-ntw-cisco-augmentations.yangietf-l2vpn-ntw.yangplease see the attached diff output snapshotsWe tried to check the CHANGES text file for more info but unable to get any relevant data.We would like to have a change log if possible to know which yang files were modified for each milestone.\u00a0 This will help us identify the changes and incorporate them to our code and avoid the situation above.Please update the milestone wiki as we do follow this closely for each releases.\u00a0 All of the information from NSO wiki must be up to date as much as possible.Thanks and regards!",
        "comments": "Hi Quy,The changes you mentioned are either internal model changes which do not impact payload or the model structure.All these changes mentioned do not impact north bound model.I agree that we should have cleared the page. I will clear the page.We update the revision date on all the yang models for every change made. ThanksSahithiThanks Sahithi for looking into this. Agree these are not a payload impacting changes, but as we include these models on the cnc side compilation and validations, we want to absorb these changes to avoid any specific issue that may occur due to these changes. Also in the past the internal model changes were showed up in the plan data (as xpaths) and we had trouble un/marshaling them though the cnc binding without the changed models. So, please inform us any changes (change log would be good) that you might have done on each release so that we can better evaluate and integrate them in CNC binding to avoid any issues later.Added list of models changed from M6 Wiki.Closing this ticket.ThanksSahithi"
    },
    {
        "title": "[RONCFPSD-552] L3VPN service shows \"Unable to fetch interface id always\"",
        "description": "For \"interface-id\" field under path ,/l3nm:l3vpn-ntw/vpn-services/vpn-service{B4_Bkp_B4_Sync}/vpn-nodes/vpn-node{P-BOTTOMRIGHT}/vpn-network-accesses/vpn-network-access{Crosswork always displays a message \"Unable to fetch interface-id. Please enter a valid interface-id\"Kindly suggest,Is there a way \"Interface-id\" under below path can be learnt and shown as a drop down or can it list available interface values? ",
        "comments": "Updated Ajitha on the issue. Not CFP issue.UI team looking at the issue"
    },
    {
        "title": "[RONCFPSD-195] T-SDN CFP 3.0.0 - PCE-Initiated / PCC-Initiated provisioning flows",
        "description": "Hi All,We are working on an SDN project for Telefonica Germany and Brasil for thecustomization of T-SDN CFP 3.0.0 for L3VPN and L2VPN services withclassic MPLS underlay and TE underlay with these components:VPN Service - IETF L3NM and L2NM ModelsTE Transport - RSVP-TE/IETF-TE Model and SR-TE PolicySDN Orchestration and Automation - CNC 3.0 + SR-PCEThe scope of the project is to have a productized and supported implementation ofNSO + T-SDN CFP 3.0.0 + SDK + CNC suite + SR-PCE + OpenConfig NEDThe project has some complexity in the Automation design and implementationfor the T-SDN CFP 3.0.0 and CNC components alignment/customization, especiallyfor making CNC aware of deviated/customer specific IETF YANG models.please I would need an help to understand the provisioning flows in this setup:CNC (COE+CDG) + NSO + T-SDN CFP 3.0.0 + SR-TEI am looking into the code for T-SDN 3.0 CFP, but cannot find a final flow logicfor the IETF-TE and SR-TE provisioning in case of PCE-Initiated vs PCC-Initiated.Q1) Please do you have a documentation about this?Q2) I found PCE-Initiated JSON payloads, but please do you have an example about PCC-Initiated JSON payloads?Please could you confirm:Q3) For PCE-Initiated policies, is this the flow? \u2014> COE + NSO with T-SDN CRUD to SR-PCE with REST API &#8211; SR-PCE to devices with PCEPQ4) For PCC-Initiated policies, is this the flow? \u2014> COE + NSO with T-SDN CRUD to devices with NSO templates and NED (yellow path in the attached diagram)Q5) Which is the trigger or YANG leaf to determine if the policy should be PCE-Initiated or PCC-Initiated?Q6) For IETF-TE and SR-TE?ThanksRegardsGiorgio",
        "comments": "Hi Giorgio,Can we schedule a webex meeting?I can reach out to you on teams.I will be adding Sujay to the meeting. He should be able answer most of your queries. ThanksSahithiUpdate from Giorgio```Hi Sahithi,thanks for the availabilityI have managed to find an explanation\u2026I will continue to investigate tomorrow and Friday and let you know early next weekto schedule a call.Regards. Giorgio```Hi Giorgio,Will be closing this ticket since there is no update.ThanksSahithiThe submitter found the explanation for the query in JSD."
    },
    {
        "title": "[RONCFPSD-33] Issues while pushing Y.1731 configs",
        "description": "Wanted to start this thread while Im checking with CFM team about the Y.1731 issues that we are running into in our testbed.We tried the latest function pack and ran into couple of issues:peer-mep status reporting errorsProbes not going through(100% Lost, for Jitter ; Latency)Did you run into these issues while you were testing and validating Y1.731? Wondering if these are specific to our testbed. But I didnt find any such testbed specific issues so far.",
        "comments": "Hi Lingesh,Can you provide the payloads that you push? Also which device version and platform that you are test it on?Does the plan show in reached after the configuration is push?Thanks,LinhPlease refer to CDETS: CSCvz21907, for payload detailsY1731 parameter configurations was changed. Please see the recording as guidelineWiki and Recording available here - Solution team need to restest this scenarios with M6 build"
    },
    {
        "title": "[RONCFPSD-27] Few RON ML services stuck in Provisioning state and Auto deleted from NSO - Unable to delete them from CNC UI",
        "description": "Hi team,Setup: CNC UI: 10.195.165.76 \u2013 admin/Public1234!, NSO: 10.195.165.211 \u2013 nso210/nso210I have created a RON ML service name \u2018def from CNC Optical services UI. The service showed success and configuration pushed to devices as well. But in couple of minutes the RON ML service \u2018def automatically removed from NSO and CNC UI shows the service in provisioning status. Kindly help troubleshoot.And In response to mail reply, I havent sent any delete request from Restconf. If so, I. believe the service must be deleted from CNC UI as well.",
        "comments": "Please check with the team responsible for the server with IPthrough which \"def\" service delete was issued to NSO as captured in the following NSO audit.log messages. From NSO CFP perspective, the service got deleted as it was requested to.<INFO> 22-Jul-2021::17:41:04.843 nso211 ncs: audit user: nso210/31397 created new session via rest from :58655 with https<INFO> 22-Jul-2021::17:41:04.844 nso211 ncs: audit user: nso210/31397 RESTCONF: request with https: HTTP/1.1The delete notification issue CDETCSCvz11506 is resolved so closing this case.Fixed this issue as part of CSCvz11506 and the fix is available in Aug 13th Build."
    },
    {
        "title": "[RONCFPSD-156] T-SDN L3NM CLI problem with route-policies spaces",
        "description": "In L3VPN CFP (L3NM), when programming a route-policy there is a blank space discrepancy between the CFP template and the outcome in XR when using CLI NED.This is well known when dealing with string leafs.The outcome is that the target devices (Node-4 in this example) are in-sync but compare-config is not empty. This can be fixed by adapting the template with blank spaces to match XR string encoding.Regards,Roqueadmin@ncs> request devices device Node-4 compare-configdiff\u00a0devices {\u00a0\u00a0\u00a0\u00a0 device Node-4 {\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 config {\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0route-policy PASS_ALL {-\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 valuepass;+\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 value\"\u00a0 pass\";\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 }\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 }\u00a0\u00a0\u00a0\u00a0 }\u00a0}",
        "comments": "Hi Roque, Can I please get a sample payload for this? Would like to reproduce this on our system. Thank you!Hello Roque, please let us know if we can get a payload for investigating this issue. Thank you!Hi,This ticket has been pending for some time.Please provide a reply by end of week. Otherwise this ticket will be closed.Thanks,Isaac KimHere you have but you can use the dcloud demos for CNC and follow their instructions that it will happen always.admin@ncs> show configuration l3vpn-route-policy VPN-101-ROUTE-POLICYcolor 4001 {  ipv4 {    prefix [ 30.2.1.0/24 30.2.2.0/24 30.2.3.0/24 ];  }}color 4003 {  ipv4 {    prefix [ 10.9.0.0/16 10.9.54.0/24 10.9.55.0/24 10.9.56.0/24 30.1.1.0/24 30.1.2.0/24 30.1.3.0/24 ];  }}admin@ncs>admin@ncs> show configuration l3vpn-ntw vpn-profiles valid-provider-identifiers routing-profile-identifier VPN-101-ROUTE-POLICYNo entries found.admin@ncs>admin@ncs> show configuration l3vpn-ntw vpn-services vpn-service vpn-101ie-profiles {  ie-profile vpn-101-profile {    rd 0:65000:101;    vpn-targets {      vpn-target 1 {        route-targets 0:65000:101;        route-target-type both;      }    }  }}vpn-nodes {  vpn-node Node-4 {    custom-template ct-tpa;    local-autonomous-system 65000;    vpn-network-accesses {      vpn-network-access Node-4-vpn1 {        port-id GigabitEthernet0/0/0/1;        connection {          encapsulation-type tagged-int;          tagged-interface {            type dot1q;            dot1q-vlan-tagged {              cvlan-id 101;            }          }        }        ip-connection {          ipv4 {            address-allocation-type static-address;            static-addresses {              primary-address Node-4-vpn1-ipv4-address;              address Node-4-vpn1-ipv4-address {                provider-address 30.1.2.1;                prefix-length  24;              }            }          }        }        routing-protocols {          routing-protocol Node-4-routing {            type bgp;            bgp {              peer-autonomous-system 65003;              address-family     [ ipv4 ];              redistribute-connected-ipv4-af;              neighbor        [ 30.1.2.2 ];            }          }        }      }    }    node-ie-profile     vpn-101-profile;  }  vpn-node Node-5 {    custom-template ct-tpa;    local-autonomous-system 65000;    vpn-network-accesses {      vpn-network-access Node-5-vpn1 {        port-id GigabitEthernet0/0/0/1;        connection {          encapsulation-type tagged-int;          tagged-interface {            type dot1q;            dot1q-vlan-tagged {              cvlan-id 101;            }          }        }        ip-connection {          ipv4 {            address-allocation-type static-address;            static-addresses {              primary-address Node-5-vpn1-ipv4-address;              address Node-5-vpn1-ipv4-address {                provider-address 30.1.1.1;                prefix-length  24;              }            }          }        }        routing-protocols {          routing-protocol Node-5-vpn1-routing {            type bgp;            bgp {              peer-autonomous-system 65003;              address-family     [ ipv4 ];              redistribute-connected-ipv4-af;              neighbor        [ 30.1.1.2 ];            }          }        }      }    }    node-ie-profile     vpn-101-profile;  }}service-assurance {  monitoring-state enable;  profile-name   \"Gold_L3VPN_ConfigProfile system\";  rule-name    \"Rule-L3VPN-NM system\";}admin@ncs>admin@ncs> request devices device Node-5 compare-configdiff devices {   device Node-5 {     config {       route-policy PASS_ALL {-        value pass;+        value \" pass\\r\\n\";       }     }   } }admin@ncs> request devices device Node-4 compare-configdiff devices {   device Node-4 {     config {       route-policy PASS_ALL {-        value pass;+        value \" passrn\";       }     }   } }admin@ncs>Thank you for the information Roque. An internal ticket has been created for this issue, Closing this ticket as all further tracking will be under CDETSIssue will be fixed as part of CDETS"
    },
    {
        "title": "[RONCFPSD-142] Need instructions on how to verify all of the \"load merge\" from configure bootstrap data.",
        "description": "Under installation - for configure bootstrap data and configure common bootstrap data, there are many 'load merge' commands need to be executed - some may or may not show any error but at the end, user may not know if all of the xml got load merged correctly or not - it would be very helpful to know some \"show\" command to verify this steps to ensure all of the xml were load merged.",
        "comments": "If you look at the contents of the XML files, then you can run show commands based on that. You can also do a `commit dry-run` to check if the output matches the payload you're trying to load mergehi Reginald, there are more than 30 xml files - if we have to do a show command for each - this is not very practical way. would be good to know the show command for each block of load merge (i.e notification, kicker, etc..) Also some show command will need to have \"hide/unhide tsdn\" or \"hide/unhide debug\" prior to the 'show' command which we are not aware of. Please provide a better for user to verify during installation process. Thanks and regards!If you need to do an `unhide/hide` to load merge the payloads then you would need it for the show commands as well. You're best bet is to check before commit. Either a `commit dry-run` or `show | compare` (Juniper CLI) or `show configuration diff` (Cisco CLI).Thanks,RegiThanks Reginald for your input - the issue here is after installation and something went wrong - we would not know which command to use to verify all of the load merged were done correctly - for example - we were using LSA setup and all of the service got stuck in 'in-progress' state - we opened the ticket, , for the issue and found out that the notification-kicker was not load merged correctly or missing - so for user, it is not straight forward to know which notification is needed or which one to check with 'show' cmd. Please try to look at the issue from user point of view since it maybe obvious to nso developer to know but not the user. Thanks and regards!For now, you can do something like `commit dry-run outform xml` and the output shouldn't be too different from the bootstrap xml you're trying to load merge. You can even go ahead and verify the configs after commit. If look the the bootstrap XML files such as the kickers for example take a look at the parent tag you'll see its \"kickers\". as such you can do \"show running-config kickers | display xml\" (Cisco CLI) or \"show kickers | display xml\" (juniper). Just be aware if you had to do an `unhide debug` for the payload you merged then you'll need to do that as well for \"show\" command assuming you already ran \"hide debug\".In the meantime, I'll go ahead and create an internal ticket to update the documentation to add some verification for the bootstrap configs.Thanks,RegiDocumentation was updated as of M4. Closing this ticket now."
    },
    {
        "title": "[RONCFPSD-397] Unable to create slice with QoS policy in template",
        "description": "Hi,I have tried to create slice using the template but it resulted in below error.Is there any day0 configuration has to be configured in device apart from BGP.Method failedreason: External error in the NED implementation for device xrv9k-27: Thu Dec 1 18:33:28.834 UTC % Failed to commit one or more configuration items during a pseudo-atomic operation. All changes made have been reverted. !! SEMANTIC ERRORS: This configuration was rejected by !! the system due to semantic errors. The individual !! errors with each failed configuration command can be !! found below. interface GigabitEthernet0/0/0/2 service-policy input input-policy !!% 'policy-lib' detected the 'warning' condition 'Policy-map not found' ! end",
        "comments": "Hi Naveen,Yes, you need to configure policy-map and this should match QoS name.Below is what mentioned in wiki as well:QoS Policies defined in the following payload reference policy-maps which are expected to have been configured by the user beforehandThanks,NikhilProvided the required information to the user. Same is mentioned in the wiki as well.Can you provide sample configs to configure QoS policy map ?You just need to configure a policy map which matches the QoS name being configuredadmin@ncs(config)# devices device PIOSXR-0 config policy-mapIt looks like some more configs are required apart from policy-map,nso@ncs(config)# devices device xrv9k-25 config policy-map input-policynso@ncs(config-pmap)# devices device xrv9k-27 config policy-map input-policynso@ncs(config-pmap)# commit% No modifications to commit.And slice creation resulted in below error.External error in the NED implementation for device xrv9k-27: Thu Dec 1 20:46:42.833 UTC % Failed to commit one or more configuration items during a pseudo-atomic operation. All changes made have been reverted. !! SEMANTIC ERRORS: This configuration was rejected by !! the system due to semantic errors. The individual !! errors with each failed configuration command can be !! found below. interface GigabitEthernet0/0/0/2 service-policy input input-policy !!% 'qos-ea' detected the 'warning' condition 'Ingress queueing features is not supported' ! endAs discussed over teams,ingress QoS isn't supported on this device.User was able to successfully create the slice service using output-policy only.Thanks Nikhil"
    },
    {
        "title": "[RONCFPSD-383] CFP Upgrade on NSO LSA set-up",
        "description": "Hi Team,I am looking for information on CFP upgrade support from 4.0 FCS to 5.0-M4 on NSO LSA Set-up. Is there any link that I can refer to.Thanks,Kanchan",
        "comments": "Spoke to Van. It seems we haven't updated the documents yet. Most likely it will be added as part of M5Hi Kanchan,Documentation will be added as part of M5Thanks,RegiSure, Thanks Regi"
    },
    {
        "title": "[RONCFPSD-368] L2vpn-Service is giving the full path instead of the feild  name ",
        "description": "/l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-servicegetSchema api sending the full path url instead of field name and please find the attached screen shot ",
        "comments": "There are few more changes also need confirmation in VPN service is these are expected chnages and been added as part of some modal changes ? 1. New Leaf node is been added :name : vpn-type {kind: \"leaf\", name: \"vpn-type\", qname: \"l2vpn-ntw:vpn-type\", info: {string: \"Service type.\"},\u2026}deps: info: {string: \"Service type.\"}kind: \"leaf\"name: \"vpn-type\"qname: \"l2vpn-ntw:vpn-type\"type: {namespace: \"urn:ietf:params:xml:ns:yang:ietf-l2vpn-ntw\", name: \"t551244651\"}2. Leaf been removed in M3 {kind: \"leaf\", name: \"vpn-svc-type\", qname: \"l2vpn-ntw:vpn-svc-type\", info: {string: \"Service type.\"},\u2026}access: {create: true, read: true, update: true, delete: true, execute: false}info: {string: \"Service type.\"}kind: \"leaf\"name: \"vpn-svc-type\"qname: \"l2vpn-ntw:vpn-svc-type\"type: {namespace: \"urn:ietf:params:xml:ns:yang:ietf-l2vpn-ntw\", name: \"t2237769791\"}name: \"t2237769791\"namespace: \"urn:ietf:params:xml:ns:yang:ietf-l2vpn-ntw\". Hi Kirandeep,<ul>\t<li>Regarding vpn-type and vpn-svc-type :</li></ul> The IETF-L2NM models have been completely refactored due to updating to the latest draft in M2. vpn-svc-type was changed to vpn-type during this update. Please refer to the M2 Model and Payload changes page for more details.<ul>\t<li>Regarding 'evaluate_when_entries' attribute : </li></ul> As per the JSON RPC documentation : The evaluate_when_entries param signals that schema entries should be included in the schema even though their \"when\" or \"tailf:display-when\" statements evaluate to false, i.e. instead a boolean evaluated_when_entry param is added to these schema entries. i will check more on this attribute and update you.Regards,Nishad Subair.Hey Nishand, can you please update regarding the new attribute added and name is not coming correctly. Thanks KirandeepHi Kirandeep,We will check this and update you.Regards,Nishad SubairHi Kirandeep,We have raised a RT with the NSO platform team and will let you know once we hear anything from them.Regards,Nishad Subair.Hi Kirandeep,RT has been resolved and the fix is available in the NSO build : 6.1_230206.110843541.f67ad1e6cc9d.Please verify.Thanks And Regards,Nishad Subair."
    },
    {
        "title": "[RONCFPSD-432] Day0 configs required for Dynamic MVPN provisioning",
        "description": "Hi Team,From the wiki: and The payloads that are shared in the TSDN wiki shows all node has is-receiver-site-only set to true, for root node it shouldn't it be false.<multicast xmlns=\"http://cisco.com/ns/nso/fp/examples/cisco-l3vpn-ntw\">     <is-receiver-site-only>true</is-receiver-site-only></multicast>Also, pre-req for the device config only shows:multicast-routing address-family ipv4 interface Loopback0  enable ! mdt source Loopback0 !router bgp 1 address-family ipv4 mvpn!But when I tried to create Dynamic MVPN, I had to include`address-family ipv4 mvpn` in all neighbors under bgp configuration.Under PCE: pce -> segment-routing -> traffic-eng  p2mp  label-range min 15400 max 60000  fast-reroute lfaWithout defining the range, PCE won't be able to assign label.Can we update the wiki the above details.Thanks,Kanchan",
        "comments": "Hi Kanchan,1 : Regarding is-receiver-site-only .<ul>\t<li>The payloads that are shared in the TSDN wiki shows all node has is-receiver-site-only set to true (leaf nodes). For root node it should be false. i will update the wiki by adding a case for root as well.</li></ul>2 : Regarding PCE configs and address-family ipv4 mvpn ,<ul>\t<li>We have these prerequisites received from the device team .</li>\t<li>Also It is expected from the user to know the day0 config for MVPN.</li></ul>Thanks And Regards,Nishad Subair.Hi Nishad, Once you make the changes in the wiki, can you provide me the link so I can get the payload.Thanks,Kanchan"
    },
    {
        "title": "[RONCFPSD-354] Unknown element \"rd\" while slice provisioning",
        "description": "Hi,I'm trying to provision a slice.I've set the \"rd-type\" as \"manual\" in global settings.Now i'm trying to pass the value for \"rd\" inside \"sdp\".Ex:   \"rd\": \"0:65001:300\"I'm getting error:{  \"ietf-restconf:errors\": {    \"error\": [      {        \"error-type\": \"application\",        \"error-tag\": \"malformed-message\",        \"error-path\": \"/ietf-network-slice-service:network-slice-services\",        \"error-message\": \"unknown element: rd in /ietf-nss:network-slice-services/ietf-nss:slice-service[ietf-nss:service-id='Test-Dedic-530']/ietf-nss:sdps/ietf-nss:sdp[ietf-nss:sdp-id='1']/ietf-nss:rd\"      }    ]  }}",
        "comments": "Hi,You need to configure rd-type = manual to configure per SDP: <div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>admin@ncs% show network-slice-services global-settings rd-type | display json { \"data\": {  \"ietf-network-slice-service:network-slice-services\": {   \"cisco-network-slice-service:global-settings\": {    \"rd-type\": \"manual\"   }  } }}</pre></div></div>Thanks,Regi"
    },
    {
        "title": "[RONCFPSD-340] BiDirectional info is missing in PCC while provisioning Circuit style policy using NSO",
        "description": "Hi,I have tried to configure Circuit Style policy using NSO but bidirectional info is missing in PCC though I have provided it in UI.This is a mandatory data to be passed such that CNC will be able to discover it as Circuit style policy.Kindly check and let us know.Setup: 172.27.226.119 ( nso/Vtsisco@123!)Thanks,Naveen",
        "comments": "HI Naveen,Please provide more details like the steps followed including payload used , expected config .Regards,Nishad Subair.Hi Nishad,The below link contains config required to create Circuit style policy.The service is still available in my setup.Kindly take the payload from NSO UI.Setup: 172.27.226.119 ( nso/Vtsisco@123!)It would be better if you check with XR team as well.Thanks,NaveenHi Naveen,I was able to confirm this is due to a bug in template mapping for NC 7.8 NED. It will be fixed for the upcoming TSDN 5.0 M3 release.In the meantime, I would advise to try to use XR CLI NED for CS SR-TE. Bidirectional and other config should work fine for XR CLI NED.Thanks,Isaac KimFixed in TSDN 5.0 M3"
    },
    {
        "title": "[RONCFPSD-426] RESTCONF DELETE operations fail and return status 400",
        "description": "We are using postman to send RESTCONF CREATE and DELETE operations to NSO server. While CREATE operations seem to be working as expected, DELETE operations fail when a bulk of operations is sent (about 10 or so) to server producing error \"400 Bad request\".The DELETE operations are usually successful on the next iteration, with no zombies or other issues found with the removed service.",
        "comments": "Hello, thank you for the ticket. We are investigating this issue and will get back to you with further updates.Hello, Can you please provide the request command being used to Single and Bulk Delete the Services. Thank you.Hi,The CREATE ; DELETE operations we are using can be found in the following Postman collection: You can use a Postman runner to run them as bulk.ShlomiHi Sholmi,We are not aware the Restconf operations on NSO platform related bulk delete. Please see if you can file a ticket with NSO platform for the \"Bad Request\" Error.Hi Sahithi,I'm talking about normal CREATE ; DELETE RESTCONF NSO operations that are simply ran a few at a time, not about a bulk delete operation.Regards,Shlomi"
    },
    {
        "title": "[RONCFPSD-341] can CS internal  policy editable ",
        "description": "1. created CS policy form NSO UI . 2. NSO created two internal policies . 3. edit bandwidth of one internal policy.4. commit was successful. 5. But It was not reflecting the updated bandwidth to the internal policy.are we supporting the edit of internal CS policies ?",
        "comments": "Hi Kirandeep,Internal CS services cannot be modified from internal service. Please use top level service to modify.Please suggest if this answers the question.Regards,Nishad Subairok thank you for update so is their any error message when we try to edit ?As discussed , closing the ticket.We need to use the top level service to modify."
    },
    {
        "title": "[RONCFPSD-427] Does not able to see devices",
        "description": "Does not able to see devices in the CFSadmin@ncs% request devices lsa dispatch-map sync remote-nso rfs-1success truedetail Dispatch Map Synced Successfullyadmin@ncs% request devices lsa dispatch-map sync remote-nso rfs-2success truedetail Dispatch Map Synced Successfullyadmin@ncs% request devices lsa dispatch-map sync remote-nso rfs-3success truedetail Dispatch Map Synced Successfullyadmin@ncs% show devices lsa dispatch-mapdevice rfs-1 {  ned-id cisco-nso-nc-6.1:cisco-nso-nc-6.1;}device rfs-2 {  ned-id cisco-nso-nc-6.1:cisco-nso-nc-6.1;}device rfs-3 {  ned-id cisco-nso-nc-6.1:cisco-nso-nc-6.1;}admin@ncs%admin@ncs> show packages package package-version                        PACKAGENAME                      VERSION--------------------------------------------------------------cisco-aa-service-assurance           5.0.0cisco-cs-sr-te-cfp               5.0.0cisco-flat-L2vpn-fp-internal-ned        5.0.0cisco-flat-L3vpn-fp-internal-ned        5.0.0cisco-internet-access-service-fp        5.0.0cisco-internet-access-service-fp-internal-ned 5.0.0cisco-nso-nc-6.1                6.1cisco-pm-fp                  5.0.0cisco-pm-fp-internal-ned            5.0.0cisco-rsvp-te-fp-internal-ned         5.0.0cisco-sr-te-cfp                5.0.0cisco-sr-te-cfp-internal-ned          5.0.0cisco-tsdn-core-fp-common           5.0.0core-fp-common                 1.31.0core-fp-common-ned               1.0core-fp-plan-notif-generator          1.0.7custom-template-utils             2.0.10custom-template-utils-ned           1.0cw-dlm-fp                   5.0.0-nso-6.1ietf-l2vpn-nm                 5.0.0ietf-l3vpn-nm                 5.0.0ietf-network-slice-service           5.0.0ietf-te-fp                   5.0.0lsa-utils                   1.0.1lsa-utils-ned                 1.0resource-manager                4.0.1admin@ncs> show cluster connectionREMOTE                 LOCAL REMOTENODE  ADDRESS     PORT CHANNELS USER  USER  STATUS TRACE-------------------------------------------------------------------------rfs-3  172.28.174.227 2022 -     admin admin  up   disabledrfs-1  172.28.174.225 2022 -     admin admin  up   disabledrfs-2  172.28.174.226 2022 -     admin admin  up   disabledadmin@ncs>NSO IP: 172.28.174.224 admin/Ovatest123@Packages Used for deployment:<del>rw-rw-r</del>- 1 admin admin  208291308 Dec 14 01:18 ncs-6.1_221212.150815390.4b4cc38b0df7.linux.x86_64.installer.bindrwxrwxr-x 4 ubuntu ubuntu    4096 Dec 16 16:54 nso-6.1_221212-tsdn-5.0.0-M5-NSO-Engg-1<del>rw-rw-r</del>- 1 admin admin 1214965885 Dec 16 17:31 nso-6.1_221212-tsdn-5.0.0-M5-NSO-Engg-1.tar.gz<del>rw-rw-r</del>- 1 admin admin  46984697 Dec 20 19:05 cw-na-dlm-fp-5.0.0-nso-6.1-eng.tar.gzdrwxrwxr-x 2 admin admin    4096 Jan 9 04:46 cluster_deployadmin@ubuntu2004:~$ pwd/home/adminThanks,Dinesh",
        "comments": "RFS-1 - 172.28.174.225 admin/Ovatest12@RFS-2 - 172.28.174.226 admin/Ovatest12@RFS-3 - 172.28.174.227 admin/Ovatest12@Hi Dinesh, That is expected since you don't have any device on RFS-1, RFS-2, and RFS-3.RFS-1:admin@ncs> show devices listNAME ADDRESS DESCRIPTION NED ID ADMIN STATE-----------------------------------------------admin@ncs> exitadmin@ubuntu2004:~$ exitlogoutConnection to 172.28.174.225 closed.RFS-2:admin@ncs% run show devices listNAME ADDRESS DESCRIPTION NED ID ADMIN STATE-----------------------------------------------admin@ncs% exitadmin@ncs> exitadmin@ubuntu2004:~$ exitlogoutConnection to 172.28.174.226 closed.RFS-3:admin@ncs> show devices listNAME ADDRESS DESCRIPTION NED ID ADMIN STATE-----------------------------------------------admin@ncs> exitadmin@ubuntu2004:~$ exitlogoutConnection to 172.28.174.227 closed.LINLY-M-5617:~ linly$ ssh admin@172.28.17So you ONLY see RFS-x from device list in CFSadmin@ncs% show devices lsa dispatch-mapdevice rfs-1 {  ned-id cisco-nso-nc-6.1:cisco-nso-nc-6.1;}device rfs-2 {  ned-id cisco-nso-nc-6.1:cisco-nso-nc-6.1;}device rfs-3 {  ned-id cisco-nso-nc-6.1:cisco-nso-nc-6.1;}Regards,LinhHi Linh,The RFS'are not learning the devices when I tried to onboard them. The CFS shows the no of RFS. But RFS does not shows any devices onboarded.Below is the error shown in my applicaiton.Nso Device Fetch Ssh Keys failed due to connect to NSO nsoRFS1Thanks,DineshIt seem you use dlm package to onboard device, but I saw a lot of dlm error on ncs.log<CRIT> 9-Jan-2023::21:53:15.754 ubuntu2004 ncs: - no registration found for callpoint dlm-port-config/service_create of type=external<CRIT> 9-Jan-2023::22:02:06.381 ubuntu2004 ncs: - no registration found for callpoint dlm-port-config/service_create of type=external<CRIT> 9-Jan-2023::22:02:27.270 ubuntu2004 ncs: - no registration found for callpoint dlm-port-config/service_create of type=external<CRIT> 9-Jan-2023::22:02:47.852 ubuntu2004 ncs: - no registration found for callpoint dlm-port-config/service_create of type=external<CRIT> 9-Jan-2023::22:03:08.367 ubuntu2004 ncs: - no registration found for callpoint dlm-port-config/service_create of type=external<CRIT> 9-Jan-2023::22:03:28.905 ubuntu2004 ncs: - no registration found for callpoint dlm-port-config/service_create of type=external<CRIT> 9-Jan-2023::22:14:29.433 ubuntu2004 ncs: - no registration found for callpoint dlm-port-config/service_create of type=external<CRIT> 9-Jan-2023::22:14:49.893 ubuntu2004 ncs: - no registration found for callpoint dlm-port-config/service_create of type=external<CRIT> 9-Jan-2023::22:15:10.412 ubuntu2004 ncs: - no registration found for callpoint dlm-port-config/service_create of type=externalAlso dlm package is not up. Please see the attached screen shotI just restart RFS-1 with this commandsudo NCS_RELOAD_PACKAGES=force /etc/init.d/ncs restartand the packages on RFS-1 are up.Please do the same for RFS-2 and RFS-3 to bring up all packages on these RFS.Then try to onboard devices again.Thanks,LinhHi Linh,This has fixed my issue. Thank you very much.."
    },
    {
        "title": "[RONCFPSD-433] l2vpn nm daemon down in scale setup",
        "description": "Our scale setup has 25K devices with 185K VPN services. While creating L2VPN creation scripts, L2VPN daemon comes down after 2K services. Each service has 5 EP. In earlier release, it was 2 EP, and never saw this issue. We see this issue twice, and restarted NSO and moved on. This needs to be investigated.<CRIT> 12-Jan-2023::20:08:51.275 scale-nso2-CFS-133 ncs: - Daemon ncs-dp-2710-ietf-l2vpn-nm:main:9 timed out<INFO> 12-Jan-2023::20:54:25.673 scale-nso2-CFS-133 ncs: - Smart Licensing evaluation time remaining: 67d 16h 18m 0sSetup: 172.20.63.133UI, CLI: cnctest/Ovatest123@scale setup is updated with higher no. of open files, user process swap etc.",
        "comments": "Hi Rama,This is know issue and has been fixed in NSO 6.0.1 .Please move to NSO and let us know if you still this.ThanksPriyankaHope this fix will be available in 6.1 as well. i am planning to use it."
    },
    {
        "title": "[RONCFPSD-355] After upgrade from NSO 555 bootstrap failed on IETF-L2NM and IETF-L3NM",
        "description": "Will be attaching more logs soon.Ping me for testbed access.User admin last logged in 2022-10-14T01:01:32.190001+00:00, to nso-552-to-574-1, from 10.10.30.5 using cli-sshadmin connected from 10.10.30.5 using ssh on nso-552-to-574-1admin@ncs# config tEntering configuration mode terminalCurrent configuration users:nsoadmin https (webui from 20.20.10.141) on since 2022-10-13 18:04:23 terminal modeadmin@ncs(config)# unhide debugadmin@ncs(config)# load merge IETF-L2NM-AA-notification-settings.xmlLoading.Error: on line 2: unknown element: service-path-for-subscription in /cisco-aa-service-assurance:service-path-for-subscriptionadmin@ncs(config)# load merge IETF-L3NM-AA-notification-settings.xmlLoading.Error: on line 2: unknown element: service-path-for-subscription in /cisco-aa-service-assurance:service-path-for-subscriptionadmin@ncs(config)# load merge L2VPN-AA-notification-settings.xmlLoading.Error: on line 2: unknown element: service-path-for-subscription in /cisco-aa-service-assurance:service-path-for-subscriptionadmin@ncs(config)# load merge L3VPN-AA-notification-settings.xmlLoading.Error: on line 2: unknown element: service-path-for-subscription in /cisco-aa-service-assurance:service-path-for-subscriptionadmin@ncs(config)# commit% No modifications to commit.admin@ncs(config)# admin@ncs(config)#  ",
        "comments": "Had session with Priyankai tried with unhide tsdn and it worked fine.Closing ticket since issue is resolved"
    },
    {
        "title": "[RONCFPSD-369] Scale -Plan completion Stuck -Plan completion Not happening for L2vpn services.( 1250 services created and 1250 services creation is running)",
        "description": "Hi Team,We are trying to stabilize the XRV9K devices for the scale VPN count, We have 60 device topology, Initially, we created services for only 10 devices, and all the services are provisioned and it moved to success on the Crosswork, Later we powered ON 10 more devices and synced the devices to NSO and created 1250 L2vpn P2P services, but the Plan completion Not happening for those 1250 services. Attached are the service details. Please take a look at the issue.Please reach me for the setup details, I will unicast the details since it's a scale setup.FYI: We observed the issue after powering ON and provisioning the services, we didn't see any issue for the first 10 devices, It was already in the powered ON state and we provisioned the services.",
        "comments": " Hi., This is blocking us to proceed further.can someone take a look on this issue?Thanks,Arun.M.GHi Ragesh,We see that a lot of netconfs are loaded in the setup which would be impacting the performance. Please delete all the netconfs if they are not being used along with the multi-vendor packages. This would help to increase the plan completion turnaround time.Please help us with the following information as well:- What is the test strategy?- How many and what kind of devices are being used? Are the devices shared across services and are they hosted on same or different server?- What is the plan wait time?- How many lines of config is pushed by each service?- What is the payload being used?Thanks,NikhilHi NIkhil,this is NSO LSA setup. and customer might have all NEDs configured.,when there is Unused NEds, why does the performance impacts? anyhow, the NEDs are unused. lets have a webex meeting to do that together as i dont want to end up in some unexpected things to happen.Below are the answers for your queries.<ul class=\"alternate\" type=\"square\">\t<li>What is the test strategy?   >> Actually we have a 60 devices topology having 48 PE devices and 12 Core devices includes 2 XTC and 2 RR . all devices having default resources 4vCPu, 16GB Ram and 64gb HD. </li></ul>All are Xrv9k devices that are created in Single UCS. It has the devices versions mixed with 7.7.1, 7.3.2, 7.5.2.while having all devices switched on, we were not able to scale more than 500 services ( 160 p2p, 160 evpn, 180 L3vpn vrf)so, to scale more , we switched off all devices except 10 PE devices and 12 core devices. we were able to reach 2k services per device pair. ( 2k was our target to reach per device pair)then. switched on another set of 10 PE devices, and started creating services and we ended up in this issue where Plan completion got stuck for 6 hours and after that , it started happening very very dead slow.Attached image has devices pairs and the count of services.<ul class=\"alternate\" type=\"square\">\t<li>How many and what kind of devices are being used? Are the devices shared across services and are they hosted on same or different server?</li></ul><ul class=\"alternate\" type=\"square\">\t<li>What is the plan wait time?    >> as per the script, we have 30 seconds interval between the services creation. it will take 2.5 hours to create 1250 services. ( 250 services between 5 pair of services).</li></ul><ul class=\"alternate\" type=\"square\">\t<li>How many lines of config is pushed by each service?it is as normal L2vpn p2p, l2vpn evpn service payload with 2 endpoints.</li></ul><ul class=\"alternate\" type=\"square\">\t<li>What is the payload being used?</li></ul>Attached payloads. Advised the user to remove the unused NEDS and related multi-vendor packages from the system to improve the performance.This is actually Bug in the product and it is valid scenario.not accepting that this has been moved to Invalid.removing the unused NEDs is just a workaround. not a real solution.when the neds are ununsed ,why does it impacts the performance. this is bug .CSCwd26703 is being tracked for this. There is a ticket already in progress with the platform for this issue. We will update CSCwd26703 once we get a solution from the platform team. Closed this ticket since we already have a bug open for this to track the progress."
    },
    {
        "title": "[RONCFPSD-382] NSO Actions - need restconf URL for cleanup, syncfrom and syncto actions",
        "description": "Hi,Working on NSO actions using restconf.Actions:clean-upsync-fromsync-tothe restconf URL will be,https://<hostip:port>/crosswork/proxy/nso/restconf/data/<model-path>For Transport Slicing, what path should be supplied?Sample model-path for L2VPN:clean-up:/ietf-l2vpn-ntw:l2nm-actions/cleanupsync-from ; sync-to:/ietf-l2vpn-ntw:l2nm-actions/error-recovery",
        "comments": "Hi Magesh,You can use the following for transport slicing:Cleanup:<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>/restconf/data/ietf-network-slice-service:network-slice-services/cisco-network-slice-service:actions/cleanup</pre></div></div>Inputs:<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>   | +---x cisco-nss:cleanup               | | +---w cisco-nss:input     | | | +---w cisco-nss:service     -> /network-slice-services/cisco-nss:slice-service-plan/service-id   | | | +---w cisco-nss:sdp*       -> /network-slice-services/cisco-nss:slice-service-plan/plan/component/name   | | | +---w cisco-nss:no-networking  boolean</pre></div></div>Error Recovery:<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>/restconf/data/ietf-network-slice-service:network-slice-services/cisco-network-slice-service:actions/error-recovery</pre></div></div>Inputs:<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>   | +---x cisco-nss:error-recovery            |   +---w cisco-nss:input     |   | +---w cisco-nss:service      -> /network-slice-services/cisco-nss:slice-service-plan/service-id   |   | +---w cisco-nss:sync-direction  enumeration</pre></div></div>Let me know if you need anymore help.Thanks, RegiThanks Reginald. Let me check and confirmHi,In clean-up, we have one parameter,<div class='table-wrap'><table class='confluenceTable'><tbody><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'> +---w cisco-nss:sdp*       -> /network-slice-services/cisco-nss:slice-service-plan/plan/component/name</td></tr></tbody></table></div>Do we need to pass the \"sdp-id\" of the particular service?Hi,If we have to pass the SDP IDs then do we need to pass all the SDP ids for the service?Hi,I tried the below URL,payload and got the response.URL:https://<ip>/crosswork/proxy/nso/restconf/data/ietf-network-slice-service:network-slice-services/cisco-network-slice-service:actions/cleanuppayload:{  \"no-networking\": false,  \"service\": \"Dedic-520\",  \"sdp\" : }\"0\",\"1\",\"2\" are the SDP-IDs for the service \"Dedic-520\".Response:{  \"cisco-network-slice-service:output\": {    \"success\": false,    \"detail\": \"Cleaning up IETF NSS service: Dedic-520 \\n\\n Removing service /network-slice-services/slice-service{Dedic-520}/sdps/sdp{0}\\n Removed service /network-slice-services/slice-service{Dedic-520}/sdps/sdp{0}\\n Removing service /network-slice-services/slice-service{Dedic-520}/sdps/sdp{1}\\n Removed service /network-slice-services/slice-service{Dedic-520}/sdps/sdp{1}\\n Removing service /network-slice-services/slice-service{Dedic-520}/sdps/sdp{2}\\nERROR: too few elems (15): too few /ietf-nss:network-slice-services/slice-service{Dedic-520}/sdps/sdp, 0 configured, at least 1 must be configured\\nSTATUS_CODE: TSDN-IETF-NSS-503\\nREASON: Cleanup failed\\nCATEGORY: custom-action\\nSEVERITY: ERROR\\nContext \\n\"  }}So, i got some response. Even though, its not success, can i assume that the payload is correct and NSO does some action on it?You're not required to input sdp-id. The sdp-id is only need if you want to cleanup a specific component, but if you're trying to cleanup the entire service then you do not need to define the sdp-idThanks,RegiThanks Regi"
    },
    {
        "title": "[RONCFPSD-396] Slice Service Details not returning connectivity type",
        "description": "Hi,While fetching the slice service details, connectivity-type attribute of connection-groups section is not being returned, when connectivity-type is \"any-to-any\". Its returning when connectivity-type is not \"any-to-any\". Earlier it was returning irrespective of connectivity-type.json response for non \"any-to-any\":\"connection-groups\": {        \"connection-group\": [          {            \"connection-group-id\": \"Default\",            \"connectivity-type\": \"ietf-vpn-common:hub-spoke\"          }        ]      }json response for \"any-to-any\":\"connection-groups\": {        \"connection-group\": [          {            \"connection-group-id\": \"Default\"                      }        ]      }",
        "comments": "Hi Magesh,Are you using JSON RPC or Restconf? Can you please provide the request and slice payload?Thanks,RegiNo response from reporter. Closing the ticket.Thanks,Regi"
    },
    {
        "title": "[RONCFPSD-143] Not able to clean up zombies on RFS node",
        "description": "Not able to clean up zombies on the RFS node ; provisioning also fails since zombies on the RFS node.admin@ncs# show zombies servicePossible completions: /flat-L3vpnadmin@ncs# show zombies servicePossible completions: /flat-L3vpn                   /sr-te/cisco-sr-te-cfp-sr-policies-internal:policies/policyPlease provide the commands to clean up zombies on RFS node.CFS -10.194.63.169RFS1 -10.194.63.170RFS2 -10.194.63.242Credentials: admin/Vtsisco@123!",
        "comments": "Hi Ragesh,I did clean up zombies in RFS1 with these commandsadmin@ncs% unhide tsdnadmin@ncs% request tsdn-common-actions zombie-cleanup zombie-path /flat-L3vpn force true########################<ol>\t<li>Warning    #########################You are about to forcefully cleanup a zombie which may result in undetermined behavior.Are you sure you want to proceed? yessuccess truedetail Starting zombie cleanup Removing zombie service: /ncs:zombies/ncs:service{\"/flat-L3vpn[name='L3NM-L3VPN_NM-SID-90-internal'][endpoint-name='TB2-PE-A_1']\"} Removed zombie serviceZombie cleanup finished</li></ol>admin@ncs% run show zombies% No entries found.Thanks Linh for the info, but still I am not able to create service, looks the plan is not cleaned. No zombies on the nso.Fri Feb 25 18:39:11 IST 2022:DEBUG: << \"    \"error-message\": \"RPC error towards rfs-1: operation_failed: Operation failed because: Service plan ('/flat-L3vpn-internal/flat-L3vpn-plan') already exists: '/flat-L3vpn'\"\"admin@ncs# show zombies service% No entries found.admin@ncs#Somehow the internal plan in rfs1 is still dangling aroundadmin@ncs> show flat-L3vpn-internal flat-L3vpn-plan L3NM-L3VPN_NM-SID-90-internal                            POST      BACK                    ACTIONTYPE NAME TRACK GOAL STATE STATUS    WHEN ref STATUS----------------------------------------------------------------self self true  -   ready not-reached -   -  - plan failed plan error-info message \"Operation failed because: Service plan ('/flat-L3vpn-internal/flat-L3vpn-plan') already exists: '/flat-L3vpn'\"These are steps to clean the internal plan left behind. 1. Save the internal plan to xml fileadmin@ncs> show flat-L3vpn-internal flat-L3vpn-plan L3NM-L3VPN_NM-SID-90-internal | display xml | save plan_issue.xml2. Exit ncs_cli prompt and edit plan_issue.xml then add operation=\"delete\" in <flat-L3vpn-plan>  <config xmlns=\"http://tail-f.com/ns/config/1.0\"> <flat-L3vpn-internal xmlns=\"http://cisco.com/ns/nso/fp/examples/cisco-tsdn-flat-L3vpn-internal\">  <flat-L3vpn-plan operation=\"delete\">   <name>L3NM-L3VPN_NM-SID-90-internal</name>   .   .3. Use ncs_load to delete the planadmin@nso-10-194-63-170:~$ ncs_load -l -m -O plan_issue.xmlVerify the internal plan is delete admin@ncs> unhide tsdnadmin@ncs> show flat-L3vpn-internal flat-L3vpn-plan L3NM-L3VPN_NM-SID-90-internal----------------------------------------------------------------------------------^syntax error: unknown argumentAs you see the internal plan was deleted after thatHi Ragesh,I don't see any update regarding to this issue. I will close this ticket in next few days.Thanks,LinhThanks Linh, please close the ticket"
    },
    {
        "title": "[RONCFPSD-157] Issue with Dispatch map in LSA utils",
        "description": "Hi CFP team,For tm-tc fp, we tested our changes using dispatch map from core-fp-common package.admin@ncs% show dispatch-map dispatch-map 10.64.96.113 {  ned-id  cisco-iosxr-cli-7.38:cisco-iosxr-cli-7.38;  rfs-node rfs-1;}dispatch-map rfs-1 {  ned-id cisco-nso-nc-5.7:cisco-nso-nc-5.7;}admin@ncs% If Im not wrong, the limitation with this dispatch map is that there is no sync option and it gets updated only by Netconf notifications enabled. I went through srte fp, looks like you moved to dispatch map from lsa utils package. What is expectation from user with respect to dispatch map. Is it okay enforce them to add devices only after setting up Netconf notifications between CFS and RFS or are we supposed to use the dispatch map from LSA utils package.Im facing issues using dispatch map from lsa utils. I replaced the node information frompath \"/core-fp-common:dispatch-map/core-fp-common:device\" to \"/ncs:devices/lsa-utils:lsa/lsa-utils:dispatch-map/lsa-utils:device/lsa-utils:name\"Sometimes, the variable information I set in template is not getting settime=\"2022-03-08 01:27:35.745495\" level=error msg=\"\"or I see an illegal reference error. Can someone help me debug this issue.Regards,Moksha",
        "comments": "Hi Raja,Dispatch-map primarily gets updated with netconf-notifications. We do have sync option as well.Below action can be used to sync dispatch map from the CFS NODE request devices lsa dispatch-map sync remote-nso <rfs-node-name>Please resolve this issue. Thnx"
    },
    {
        "title": "[RONCFPSD-194] Non json formatted notifications being transmitted to CNC",
        "description": "Non json formatted notifications being transmitted to CNC:{\u00a0\u00a0 \"ietf-restconf:notification\": {\u00a0\u00a0\u00a0\u00a0 \"eventTime\": \"2022-03-25T17:29:48.494948+00:00\",\u00a0\u00a0\u00a0\u00a0 \"tailf-ncs:plan-state-change\": {\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"service\": /ietf-l3vpn-ntw:l3vpn-ntw/vpn-services/vpn-service[vpn-id='0-65008740'],\u00a0<<--- Missing  enclosing the value\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \"component\": \"DEVLF1SLR02_23\",\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \"state\": tailf-ncs:ready,\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \"operation\": \"modified\",\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \"status\": \"reached\"\u00a0\u00a0\u00a0\u00a0 }\u00a0\u00a0 }}",
        "comments": "Hello, Can we please get information on the setup where this error is present. Thank you!What information do you need..?NSO 5.4.4.1CNC 2.xPackages:NAME             VERSION ---------------------------------------alu-sr-cli-8.22        8.22.2  cisco-flat-L2vpn-fp      2.0.0  cisco-flat-L2vpn-fp-internal 2.0.0  cisco-flat-L3vpn-fp      2.0.2  cisco-flat-L3vpn-fp-internal 2.0.4  cisco-ios-cli-6.67      6.67.8  cisco-iosxr-cli-7.33     7.33.20 cisco-iosxr-nc-7.3      7.3.1  cisco-rsvp-te-fp       2.0.1  cisco-sr-te-cfp        2.0.0  cisco-sr-te-cfp-internal   2.0.0  cisco-tsdn-core-fp-common   2.0.0  core-fp-common        1.11.0  core-fp-delete-tag-service  1.0.2  core-fp-plan-notif-generator 1.0.0  custom-template-utils     2.0.5  cw-device-auth        1.0.0  dlm              4.0   flat-l2vpn-multi-vendors   2.0.0  flat-l3vpn-multi-vendors   2.0.0  flat-l3vpn-nokia       2.0.1  ietf-l2vpn-nm         2.0.0  ietf-l3vpn-nm         2.0.5  ietf-te-fp          2.0.0  resource-manager       3.5.4  rsvp-te-multi-vendors     2.0.0  sr-pce            1.0   sr-te-multi-vendors      2.0.0  tailf-hcc           5.0.2 The error appears when we deploy, modify, delete a service in the notification stream to CNC which rejects it as its not a valid JSOn format. Attaching email summary from Liran who helped diagnose the issue. Hello,Thank you for the above info.If possible I would like access to the NSO that has this error so I can run some commands to check the error.If not possible, please attach the payload of this service to this ticket.If you can propose a time during CET business hours I can possibly give you access via a screen share, as this is a customer deployment there is no generic cisco access without customer remote access clients.Any service creation (payload example) seems to trigger the malformed JSON service field in the RESTCONF notification message sent to CNC.Example:{ \"ietf-restconf:notification\": { \"eventTime\": \"2022-03-25T17:29:48.494948+00:00\", \"tailf-ncs:plan-state-change\": {\"service\": /ietf-l3vpn-ntw:l3vpn-ntw/vpn-services/vpn-service[vpn-id='0-65008740'], \"component\": \"DEVLF1SLR02_23\", \"state\": tailf-ncs:ready, \"operation\": \"modified\", \"status\": \"reached\" } }}The issue in the above format is missing enclosing quotes in: /ietf-l3vpn-ntw:l3vpn-ntw/vpn-services/vpn-service should be \"service\": \"/ietf-l3vpn-ntw:l3vpn-ntw/vpn-services/vpn-service\"Regards. Hello,Please let us know if 3PM - 4PM CET works for you?Since we are unable to reproduce this issue on our end we would like to g through the steps on the meeting.If thats on Friday yes works well for me.Please can we invite Liran Mendelovich (lmendelo) <lmendelo@cisco.com>, as he was the one that diagnosed the symptoms and knows how to show the error from the CNC side...Thank you - meeting invite has been sent.Hi Ulfat, After further investigation, we have concluded that this is a platform bug with NSO 5.4.4.1. The fix has been included in NSO 5.4.5.2. Please let us know if this bump is okay with you.Attached meeting minutes from 4/1/2022.Can you verify if the fix is also in 5.4.6, there is another work stream that may require is to upgrade to this release and we would like to verify if the same issue is fixed or not in that future release..? Thanks.Hello Ulfat, Yes this fix is present in 5.4.6 and subsequent releases. Also attached verification screenshot. Thank you.Hello, please confirm if this issue/questions is resolved so I may close the ticket. Thank you.I can confirm that upgrading to 5.4.5.2 fixed the issue. You can close the ticket. ThanksGreat - Thank you!Issue was being seen in NSO version 5.4.4.1.Customer has upgraded to NSO version 5.4.5.2 and issue is no longer seen.Resolving ticket."
    },
    {
        "title": "[RONCFPSD-32] service-activation-failure: RPC error towards onc-real-new: operation_failed: Error in callback",
        "description": "NCS 5.5.2.3 M 3.2Deployed RON ML service. Service creation failed with no error message. It generates alarmservice-activation-failure: RPC error towards onc-real-new: operation_failed: Error in callbackonc-real-new sync-from is successful.Service name : RON_ML_4NSO : 10.195.165.226 cnctest/Ovatest123@",
        "comments": "Hi Ramakrishnan,We are looking into your issue. Please standby as it might take some time to debug your system.Thank you,AbeHi Ramakrishnan,Please provide additional information such as: 1. Device version / Image used for testing (XR and ONC devices)2. Payloads used for failed service deploymentInitially looking at your service-plan shown below, I can see that your RON_ML_4 service failed with a status code of RON-303, which indicates Config push failed possibly from invalid config.You can ping me when you are available and we can hop into a call to debug your system or you can check your payload and deploy service from a clean slate.status-code 303 { reason \"\"; category device; severity ERROR; recommended-actions \"\";cnctest@ncs% run show ron ron-ml-plan RON_ML_4 plan component | tab BACK STATUS POST ACTION TYPE NAME TRACK GOAL CODE STATE STATUS WHEN ref STATUS ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- self self false - RON-303 init reached 2021-07-30T10:09:38 - create-reached ready failed 2021-07-30T10:10:17 - - optical-controller Optical-Controller false - <font color=\"#de350b\"> init reached 2021-07-30T10:09:45 - - cisco-ron-cfp-nano-plan-services:config-apply reached 2021-07-30T10:09:45 - - ready failed 2021-07-30T10:10:17 - - cisco-ron-cfp-nano-plan-services:router P-BOTTOMRIGHT-VXR false - - init not-reached - - - cisco-ron-cfp-nano-plan-services:config-apply not-reached - - - ready not-reached - - - cisco-ron-cfp-nano-plan-services:router P-TOPRIGHT-VXR false - - init not-reached - - - cisco-ron-cfp-nano-plan-services:config-apply not-reached - - - ready not-reached - - -CheckedRamakrishnan's configs getting pushed and tried it on my testbed and it gave an error:<ul>\t<li>\t<ul>\t\t<li>\t\t<ul>\t\t\t<li>ALARM service-activation-failure: RPC error towards spitfire-r0: operation_failed: for ns2:interface-configurations1:netmask: 'ipv4-ma' detected the 'warning' condition 'Invalid host address or mask'</li>\t\t</ul>\t\t</li>\t</ul>\t</li></ul>Will schedule a webex meeting with him and debug his testbed.XR - x64-7.3.15.iso - Spitfire 8000 ONC - Daigo devices - 12.1.0. Wondering Why the RON ML is not displaying error message during provisioning. Ramakrishnan is using version device which is not supported in RON 1.0 M1 (CNC M3-2). Instructed reporter to upgrade devices or use existing ones with mentioned version in RON service deployments going forward. Also shared the RON pre-requisite pages for future referenceHi Ramakrishnan,RON 1.0 on M3-2 supports 7.3.2 XR device version (IOSXR image 7.3.2.25I) as indicated here on our release page: I recommend upgrading XR devices used with RON-ML service to the version above, and also verify if all items on this RON prerequisite list have been met: In the mean time I move to close this ticket - If issue persists after following the above recommendations, please open a new RON support ticket.Thank you, AbeFollowed up with Ramakrishnan if theres anymore questions regarding this ticket. He said to go ahead and close ticket as he no longer have any other questionsFollowed up with Ramakrishnan if theres anymore questions regarding this ticket. Reporter agreed to go ahead and close ticket."
    },
    {
        "title": "[RONCFPSD-235] CFS HA ",
        "description": "Please confirm that In NSO LSA CFS HA, if the Master goes unreachable, is it also expected that VIP cannot be reachable?",
        "comments": "Hi Denish,VIP is used for both master and slave node. It should be reachable of one of them is reachable. It could have a little downtime when the ip is switch over the other nodeThanks,LinhHi Linh,It is actually not. For Example:When the CFS Master is powered of the VIP is also unreachable and does not able to reach it any longer.I can share the setup for you to take a look.Thanks,DineshHi Linh,As per the sync-up, this ticket can be closed as there's a expected time delay for the VIP to be reachable back post CFS Master .Thanks,Dinesh"
    },
    {
        "title": "[RONCFPSD-553] Need TSDN FP to support XR CLI NED - 7.52 with NSO 6.1.3",
        "description": "Currrent TSDN FP Release supports XR CLI NED - 7.49 . With enhancements in NED -XR CLI for device configs, need TSDN FP to migrate to 7.52 version XR CLI NED ",
        "comments": "Thanks Sujay. NED link - XR CLI NED : 7.52- Support for XR-CLI NED 7.52 has been added to TSDN. It will be available in the next build drop.Also, provided internal build with 7.52 support to Sujay over mail."
    },
    {
        "title": "[RONCFPSD-547] Slice Kicker service for Routing Policy, ODN ...etc",
        "description": "Steps:1. Create slo-sle-template (NSST)  System creates Routing Policy and Routing Policy Tags automatically.2. Create a slice use the above NSST  System creates VPN service automatically3. Edit the internal created Routing Policy or Routing Policy Tag.   I expect the kicker service will roll back to the original value but it does not.Same behavior for ODN template for the case that NSST is set as forwarding plane policy = as-blueprint. And a slice is created use this NSST. User should not be allow to edit the internal created services, Routing Policies... etc. With current design, we do not restrict users to edit internal created entries. The expectation is the kicker service will take care of this and revert back to the original data.Can you confirm if these are issues for Slice kicker service?",
        "comments": "Thank you for your ticket. Developer working on reproducing issue.After reproducing, confirmed that service is working as designed. See below for Developer notes:Question/Answer 1:Regarding route-policy:Once the route-policy is created (By whichever service L2, L3, NSS-L2, NSS-L3) the config being pushed to the device depends solely on the l2vpn-routing-policy If a change is made under l2vpn-routing-policy/defined-sets or l2vpn-routing-policy/policy-definitions, the kickers monitoring the l2vpn-routing-policy will ensure that this new config is pushed to the device.Therefore, route-policy device config is not controlled by the service \"using\" the policy. It is controlled by the l2vpn-routing-policy.Question/Answer 2: Regarding ODN:Similarly, I believe is the same concept and case with ODN. The ODN template stands alone. It is being used by the NSS and pushed to the device through the NSS service. But making a change to ODN is a standalone change and will have the related effect on config.Question/Answer 3: Regarding User should not be allow to edit the internal created services, Routing Policies... etc.Yes, that is our recommendation. Because user changing internal data will result in discrepancy, exactly as in above 2 cases.Question/Answer 4: With current design, we do not restrict users to edit internal created entries.Yes, NSS is designed to use the other services (ODN, route-policy, PM etc) but it is not possible for us to hide/restrict the user from making changes to these other standalone services.If User tries to redeploy an NSS service (after making internal edits) there will be various errors seen (case by case basis). Please see below for a sample run.admin@ncs% show devices device PIOSXR-* config route-policydevice PIOSXR-0 {  config {    route-policy L2-ATTACH {      value \" apply NSS-L2-P2P-evi-1-internal\\r\\n apply PASS_ALL\\r\\n\";    }    route-policy NSS-L2-P2P-evi-1-internal {      value \" if evpn-route-type is 1 and rd in (ios-regex '.*:(1)$') then\\r\\n  set extcommunity color COLOR_40\\r\\n endif\\r\\n pass\\r\\n\";    }  }}device PIOSXR-1 {  config {    route-policy L2-ATTACH {      value \" apply NSS-L2-P2P-evi-1-internalrn apply PASS_ALLrn\";    }    route-policy NSS-L2-P2P-evi-1-internal {      value \" if evpn-route-type is 1 and rd in (ios-regex '.*:(1)$') then\\r\\n  set extcommunity color COLOR_40\\r\\n endif\\r\\n pass\\r\\n\";    }  }}device PIOSXR-2 {  config {    route-policy L2-ATTACH {      value \" apply PASS_ALL\\r\\n\";    }  }}admin@ncs% show | compare l2vpn-routing-policy {   defined-sets {     tag-sets {       tag-set NSS-1-internal {-        tag-value [ 1 ];+        tag-value [ 11 ];       }       tag-set NSS-2-internal {-        tag-value [ 2 ];+        tag-value [ 12 ];       }       tag-set NSS-30-internal {-        tag-value [ 30 ];+        tag-value [ 31 ];       }       tag-set NSS-40-internal {-        tag-value [ 40 ];+        tag-value [ 41 ];       }       tag-set NSS-50-internal {-        tag-value [ 50 ];+        tag-value [ 51 ];       }     }   } }admin@ncs% show devices device PIOSXR-* config route-policydevice PIOSXR-0 {  config {    route-policy L2-ATTACH {      value \" apply NSS-L2-P2P-evi-1-internal\\r\\n apply PASS_ALL\\r\\n\";    }    route-policy NSS-L2-P2P-evi-1-internal {      value \" if evpn-route-type is 1 and rd in (ios-regex '.*:(1)$') then\\r\\n  set extcommunity color COLOR_41\\r\\n endif\\r\\n pass\\r\\n\";    }  }}device PIOSXR-1 {  config {    route-policy L2-ATTACH {      value \" apply NSS-L2-P2P-evi-1-internalrn apply PASS_ALLrn\";    }    route-policy NSS-L2-P2P-evi-1-internal {      value \" if evpn-route-type is 1 and rd in (ios-regex '.*:(1)$') then\\r\\n  set extcommunity color COLOR_41\\r\\n endif\\r\\n pass\\r\\n\";    }  }}device PIOSXR-2 {  config {    route-policy L2-ATTACH {      value \" apply PASS_ALLrn\";    }  }}admin@ncs% request network-slice-services slice-service L2-P2P re-deployError: too many 'l2vpn-routing-policy defined-sets tag-sets tag-set NSS-40-internal tag-value', 2 configured, at most 1 must be configuredCorrect me if I am wrong for the summary:The kicker service will only take care of VPN service change, but not for other items (ODN, routing policies\u2026etc). For example, a slice is created. 1. user edit internal vpn service: it will roll back to the original config.2. user edit ODN: slice config and the internal ODN config are different now. Since the ODN config is changed on device, but slice config. still remain the old data.3. user edit Routing policies: same behavior as item 2.Hi Crystal, Yes this correct.Also confirmed with our QA and it is correct.Regards,Janaki DuggiralaCustomer confirmed ticket can be closed."
    },
    {
        "title": "[RONCFPSD-221] Redeploy dry-run not showing right config ",
        "description": "Hi,I am seeing incorrect config while performing redeploy dry-run.Setup details: LSA IPv6Steps:1.Add all the nodes in NSO LSA cluster(CFS and RFS) and add devices using CW CDG2. Wait till the devices are in sync3. Deploy L2VPN4. Make one or more devices OOS or not reachable inside a provisioned service by shutting down a interface5. Try to edit the service. Provision will fail due to device out of sync6. Perform sync-from the device to make it in-sync9. From Action dropdown, click \"Re-Deploy Dry Run \"Output from response is not clear.Response from redeploy dry-run{ \"ietf-l3vpn-ntw:output\": {  \"cli\": {   \"lsa-node\": [    {     \"name\": \"rfs-63\",     \"data\": \" devices {   device xrv9k-PE6 {     config {       route-policy PASS_ALL {-        value \\\" pass\\\\\\\";+        value pass;       }     }   } }\"    }   ]  } }}Thanks,Kanchan",
        "comments": "setup:CFS: (admin/Ovatest123@)RFS(rfs-62): (admin/Ovatest123@)RFS(rfs-63): (admin/Ovatest123@)RFS(rfs-67): (admin/Ovatest123@)Hello, this ticket is a duplicate as below:An internal ticket has been created for this issue as well:Thank you.Closing this ticket as all further tracking will be under CDETSIssue will be fixed under CDETS"
    },
    {
        "title": "[RONCFPSD-209] check-sync, sync-from, sync-to is failing on L3VPN service when device is OOS",
        "description": "Hi All,Steps I followed:1. Deployed a L3 VPN service on device-4 and device-6. Service got deployed successfully2. manually made changes to device-6 to make it out-of-sync3. Verified that device shows out-of-sync4. Edited the L3 VPN service, it failed as expected with error Device-6 out-of-sync5. from the error shown on CNC UI, tried to do a sync-from for the device-6, it didn't go throughBehavior observed: Changes got pulled from device-6(validated taht RFS node is in-sync with device-6) , but still L3VPN service is showing device out-of-sync message.expected: L3 VPN should show in-sync trueCW: admin/Ovatest123@CFS:admin/Ovatest123@RFS-62:admin/Ovatest123@RFS-63:admin/Ovatest123@Thanks,Kanchan",
        "comments": "Hi Kanchan,When you bring the device back in-sync, did you do a service re-deploy for your L3 service?Thanks,Isaac KimHi Isaac,I did perform a sync-from or sync-to operation, commands performed are attached.Question here is: once my device is in-sync state, is it mandatory to perform re-deploy? if yes, then what sync-from or sync-to does?Also, when I perform re-deploy dry-run, I get following outputadmin@ncs# l3vpn-ntw vpn-services vpn-service L3VPN_NM-IGP-IPV4 re-deploy dry-runcli {  lsa-node {    name rfs-63    data devices {          device xrv9k-PE6 {            config {              route-policy PASS_ALL {       -        value \" pass\\r       \";       +        value pass;              }            }          }        }  }}But I didn't change anything about route-policy, I changed the loopback address. expected?Hi Kanchan,Seems like UI bug, you can see from the text box: CLI command is : l3vpn-ntw vpn-servicesvpn-service L3VPN-NM-IGP-IPV4 error-recovery sync-direction sync-fromThis is error recovery action, not a device sync action.After doing sync-from on device, I would re-deploy the service to bring the \"failed\" service plan back into \"success\" state.Thanks,Isaac KimThanks Isaac.So on UI, it should not say \"pushing to the device\" as it it error-recovery action, right?also, is there a doc that explains what error recovery action is?Hi Isaac, I performed re-deploy and service came back to success state. Before re-deploying I checked re-deploy dry-run to verify what will be re-deployed, screenshot attached. But when I was editing the service, I changed loopback address on one device but CLI shows different thing.Hi Kanchan,I apologize for the very delayed response.For more details on error recovery you can look here : For the redeploy issue, this seems unrelated to the current issue described on the ticket. Please feel free to open a new JSD ticket for this!Thanks,Isaac KimPlease open new JSD if you encounter this again. Thank you!"
    },
    {
        "title": "[RONCFPSD-590] Is \"Reactive Re Deploy\" a supported action for L3 NM service ?",
        "description": "Can you please confirm whether \"Reactive Re-deploy\" is a supported action for L3 NM service with new model changes that were introduces as part of sub-service design ?",
        "comments": "Hi Dedeepya,We do not have reactive redeploy at L3vpn service level. NSO supports reactive re-deploy at the vpn-node levelThanks Sahithi for confirming. In one of the previous grooming discussion, we captured the notes that saying \"Reactive Re Deploy\" is an available option at L3 NM service level. We will update with this confirmation.Hi , Update on this. We do support the functionality of reactive re-deploy.Just the re-deploy action, would execute the reactive re-deploy on the sub servicesietf-l3vpn-ntw:l3vpn-ntw/vpn-services/vpn-service=0-65008740 -> re-deployWhile the re-deploy with sync, would do a re-deploy on the sub servicesietf-l3vpn-ntw:l3vpn-ntw/vpn-services/vpn-service=0-65008740 -> re-deploy syncTo confirm the naming"
    },
    {
        "title": "[RONCFPSD-584] Addition of the \"cnc-custom\" metadata in L3VPN",
        "description": "We need to identify the L3VPN root service and the sub-services.  Please add the following metadata to for both root and sub-service configs. path: \"/l3nm:l3vpn-ntw/vpn-services/vpn-service\"   tailf:meta-data \"cnc-custom\" {     tailf:meta-value '{        \"field\": \"vpn-service\",        \"rootService\": \"true\"        }';   }path: \"/l3nm:l3vpn-ntw/vpn-services/vpn-service/vpn-nodes/vpn-node\"   tailf:meta-data \"cnc-custom\" {     tailf:meta-value '{        \"field\": \"vpn-node\",        \"subService\": \"true\"        }';   }",
        "comments": " "
    },
    {
        "title": "[RONCFPSD-586] [L3-NM] Missing VPN-node Subservice metadata annotation",
        "description": "TSDN 7.0.0 drop 1 has missing meta-data \"cnc-custom\" annotation for sub-service. Based on this annotation, CNC Provisioning (NSO) UI shows the sub-service element with additional functionality at each node level.It containing only rbac annotation. \"meta_data\": { \"cnc-device-rbac\": \"config; keys=vpn-node-id\"},As per 7.0 grooming, CNC UI team requested to extend the metadata with cnc-custom for vpn-node list type.expected:\"meta_data\": { \"cnc-device-rbac\": \"config; keys=vpn-node-id\", \"cnc-custom\": \"{subService\": true}\" }L3-NM getSchema API response Attached.",
        "comments": " I believe this ticket is regarding: . Please take a look.Hi Dedeepya,The mentioned changes was merged after the Drop 1. This will be available in the next Drop.There was an engineering build shared with Demeke earlier. Meanwhile you can use the engineering build if it needs to tested.I will update this ticket once the next Drop is available.Thanks And Regards,Nishad Subair.Nishad,We are expecting these changes in Drop1 to validate CNC UI workflows. Other meta-data changes reg L2 NM TE mapping are available in Drop1.Can you share Drop 2 data please.&#8211; Dedeepya Hi Dedeepya,We were unable to merge in drop1 as we got a go-ahead from UI team on engineering build after the test hand off of drop1.Our current drop 2 release is scheduled on Jan 31st. We should be able to provide a separate build for UI adhoc if required to verify the CNC UI workflows.ThanksSahithi"
    },
    {
        "title": "[RONCFPSD-579] SSH connectivity issue after migration",
        "description": "Migrated NSO from TSDN 5.0 FCS version to TSDN 6.0 Drop 10.SSH connectivity to simulated devices was working fine. After the migration, we get following error message.Failed to connect to device Node_1_100: connection refused: NEDCOM CONNECT: authenticate: Exhausted available authentication methods, server allowed: [ password ] in new stateNSO : 192.168.103.236admin/Ovatest123@Device : Node_1_100SSH keys fetched successfully.",
        "comments": "Diff between TSDN 5.0 ncs.conf and TSDN 6.0 ncs.conf. <   <DES3CBC><    <key1>0123456789abcdef</key1><    <key2>0123456789abcdef</key2><    <key3>0123456789abcdef</key3><    <initVector>0123456789abcdef</initVector><   </DES3CBC><<   <AESCFB128><    <key>0123456789abcdef0123456789abcdef</key><    <initVector>0123456789abcdef0123456789abcdef</initVector><   </AESCFB128><<   <AES256CFB128><    <key>0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef</key><   </AES256CFB128>&#8212;>   <external-keys>>    <command>${NCS_DIR}/bin/ncs_crypto_keys</command>>    <command-argument>${NCS_CONFIG_DIR}/ncs.crypto_keys</command-argument>>   </external-keys>Hello, Yes, Looking at this output, it seems the ssh key has been changed during migration in the ncs.conf file.To resolve this issue we recommend, 1. revert ssh key method in ncs.conf (or update to the older ssh key)2. restart ncsPlease let us know if this works.After speaking to Sreedhar, observed there is no ncs.conf back up file. Using diff set provided above, modified the ncs.conf file as below <encrypted-strings> <!--  <DES3CBC>   <key1>0123456789abcdef</key1>   <key2>0123456789abcdef</key2>   <key3>0123456789abcdef</key3>   <initVector>0123456789abcdef</initVector>  </DES3CBC>  <AESCFB128>   <key>0123456789abcdef0123456789abcdef</key>   <initVector>0123456789abcdef0123456789abcdef</initVector>  </AESCFB128>  <AES256CFB128>   <key>0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef</key>  </AES256CFB128> -->  <external-keys>   <command>${NCS_DIR}/bin/ncs_crypto_keys</command>   <command-argument>${NCS_CONFIG_DIR}/ncs.crypto_keys</command-argument>  </external-keys> </encrypted-strings>After restarting NSO, seeing belowadmin@ncs% request devices device xrv9-6 sync-fromresult truePlease verify if setup is working.Hi Janaki,Thanks. Able to sync the devices from NSO (just sync, no need to ssh fetch-keys)Customer verified that Issue is resolved and ticket can be closed."
    },
    {
        "title": "[RONCFPSD-551] Does L2 VPN service support loopback interface as part of vpn-network-acess?",
        "description": "For L3VPN service, user can configure loopback interface as part of vpn-network-access configuration. Use follow the same from CNC UI for L2VPN, it showed error \"loopback\" is an invalid value. Can you confirm if loopback interface is supported for L2VPN?Here is the sample config for L3VPN with loopback interface:<attachment-circuits>      <attachment-circuit>       <ac-id>1</ac-id>       <ac-tp-id>Loopback70</ac-tp-id>       <ac-ip-address>70.70.70.2</ac-ip-address>       <ac-ip-prefix-length>24</ac-ip-prefix-length>       <sdp-peering>        <protocol>         <protocol-type>peering-protocol-bgp</protocol-type>         <bgp-attributes xmlns=\"http://cisco.com/ns/nso/fp/examples/cisco-network-slice-service\">          <neighbor>70.70.70.3</neighbor>          <remote-as>70</remote-as>         </bgp-attributes>        </protocol>       </sdp-peering>      </attachment-circuit>     </attachment-circuits>",
        "comments": "Hi Crystal,Loopback is not supported by L2. You can see the supported values for interface here:pattern \"(Bundle-Ether|FiftyGigE|FortyGigE|FourHundredGigE|HundredGigE|TenGigE|TwentyFiveGigE|TwoHundredGigE|GigabitEthernet|Ethernet)<ins>(/</ins>)*\";Let me know if you have any other questions.Thanks,Isaac KimThank you for your confirmation. We wanted to validate that only.Does L3VPN support loopback interface ? Because i can see it is supported there.Hi,Yes Loopback is supported on L3. You can see the supported values for interface here:type string{ pattern \"(Bundle-Ether|BVI|FiftyGigE|FortyGigE|FourHundredGigE|HundredGigE|Loopback|TenGigE|TwentyFiveGigE|TwoHundredGigE|GigabitEthernet|Ethernet)[0-9]+(/[0-9]+)*\"; }Let me know if you have any other questions.Thanks,Isaac KimRequired Info given to the submitter"
    },
    {
        "title": "[RONCFPSD-237] No verification for routing-protocol->bgp->neighbor",
        "description": "If \u00a0routing-protocol->bgp is specified, neighbor has to become a mandatory field ",
        "comments": "Hi Yevgeny,Since this feature is from 3.0 release, please open CDET enhancement bug, then dev team will take care of it.Thanks,LinhOK, will doClose it since he is going to file Sev6 CDETs"
    },
    {
        "title": "[RONCFPSD-223] Policies updated on the crosswork setup, but it's not able to find the CFS with forward true",
        "description": "Policies are updated on the crosswork setup, but it's not able to find the CFS with forward true. Screenshot attached.",
        "comments": "Setup details below10.194.63.198 CFS -10.194.63.169RFS1- 10.194.63.170 ; 242 Please take a look on the issue.Hi Ragesh, after investigating your setup, I see the NSO is correctly configured for LSA. All the settings are in place and ready.Since there are a few alarms on your CW CFS page as in screenshot attached.I would suggest please checking yoursetup with Crosswork DLM.Please let me know once issue is resolved. Thank you. Hi Janaki, Thanks for checking the issue, Yes it's setting issue ; it resolved. Please close the ticket.Thank you Ragesh.This was a crosswork DLM issue and not an NSO issue. Customer has received assistance from DLM team."
    },
    {
        "title": "[RONCFPSD-545] invalid data mode error thrown when navigating from devices to profile/policies",
        "description": "Created SR policy and Service profiles mapped with delay profile. Creation and assignment went fine. Tried viewing policy or service profile mapped from device configuration getting below error\u26a0\ufe0f invalid data mode \"cisco-sr-te-cfp-internal:sr-te\", invalid expand mode \"cisco-sr-te-cfp-sr-policies-internal:policies\", invalid output mode \"policy{SR-Policy-PM ASR9901-1}\", go to application root / or try the legacy link /cisco-sr-te-cfp-internal:sr-te/cisco-sr-te-cfp-sr-policies-internal:policies/policy{SR-Policy-PM ASR9901-1}Same works fine when navigated from service manager",
        "comments": "Hello, please provide NSO setup info, for further troubleshooting.Please find the NSO setup detailsNSO - 10.22.179.240 - xrd1/Cwork123!Thank you for the information. An Internal ticket has been raised with the NSO platform team to address this issue.RT#50709 and CDETS CSCwh52008We will inform you of any related updates.For now, added ticket to release notes with a recommendation to manually perform sync from/to with device.Further investigation awaited."
    },
    {
        "title": "[RONCFPSD-18] Unable to parse error message",
        "description": "Were using NSO restconf APIs to create/modify services. Here is one of the error messages \u2013\"error-message\": \"Python cb_pre_modification error. Delete on inter-layer-link ('P-BOTTOMRIGHT', '0/0/0/1') is not allowed at this moment, it in use by ron-ml BROWN_OLS_TPRHT_BTMRGT_400_TR service.STATUS_CODE: RON-421REASON: The inter-layer-link entry cannot be edited or deleted at the moment.CATEGORY: userSEVERITY: ERRORContext [name = inter-layer-link db edit state = {'Opertion': 'Delete', 'Keypath': '/cisco-ron-cfp:ron/inter-layer-link{P-BOTTOMRIGHT 0/0/0/1}', 'used-by': 'BROWN_OLS_TPRHT_BTMRGT_400_TR'}]\"In this case ideally we would like to tell the user that \u2013 Delete on inter-layer-link ('P-BOTTOMRIGHT', '0/0/0/1') is not allowed at this moment, it in use by ron-ml BROWN_OLS_TPRHT_BTMRGT_400_TR service.\\Which is part of the error-message, but can also be constructed using the REASON and used-by fileds.We will go ahead and attempt to parse the message per case basis \u2013 but wanted to understand if there is a logic that can be followed generically. Or a list of status codes \u2013 on which a certain method can be followed.",
        "comments": "Had a call with Mukul and had a discussion regarding RON status codes. Questions and issues was resolved.Worked with Mukul to answer queries and provide RON status code bootstrap file"
    },
    {
        "title": "[RONCFPSD-182] nacm command are not available in 5.7.2.1 + TSDN 4.0.0 M3",
        "description": "Hi,I installed nso 5.7.2.1 on 10.56.116.132 (nso/Public1234!) server.I followed all the steps from standalone system installation until \"NACM\" section.Currently nso server does not accept any nacm commands, e.g. admin@ncs% set nacm cmd-exec-default permit groups group ncsadmin---------------^syntax error: element does not existCan you please advise ?Regards,Leonid",
        "comments": "Hi Leonid,I saw you don't configure a proper right for 'nso' user. It need to be a member of ncsadmin group.I just add 'nso' user to ncsadmin group and set nacm is availaiblenso@lkronik-esxi-01-nso:~$ groupsnso adm cdrom sudo dip plugdev lxd ncsadminnso@ncs% set nacm cmd-exec-default permit ?Description: Access controlPossible completions: cmd-read-default     - enable-external-groups  - enable-nacm       - enforce-nacm-on-services - By design NACM rules are ignored for changes done by services - FASTMAP, Reactive FASTMAP, or Nano services. exec-default       - groups          - log-if-default-permit  - read-default       - rule-list        - write-default      -Please check your setup and let me know it works as expected and I could close the ticket.Thanks,LinhI am going to close this ticket if I don't receive any new update in next few days.Thanks,Linh"
    },
    {
        "title": "[RONCFPSD-30] Optical fetch error",
        "description": "Receiving \"Optical fetch error\" while provisioning RON ML service. Verified Python, Paramiko, XMLlint , Java in root as well as non root user.Verify netconf subscription and NED value is 7.32Performed ssh-fetch-keys, sync-from, check-sync for optical controller. Please help troubleshoot",
        "comments": "RPC error towards onc-real-new: operation_failed: Exception in callback: Circuit Provisioning failed. PCE Find Channel Failed - Optical validation failed: ZONE_RED worse than ZONE_GREEN Hi Ajitha, I pinged you at webex today to know if the issue still exists for you or not. Kindly let me know if you need any help in troubleshooting.It would be good if you can update the ticket progress/status.ThanksHi Ajitha,As discussed on webex, closing the issue.From Ajitha:I was able to create BL3toBR3\u2026 after sometime the service moved back to stuck in provisioning state\u2026 I mean got into defect CSCvz11506. Please close the Jira ticket. I will reach you or raise new if i m unable to create the service Im holding the setup to troubleshoot"
    },
    {
        "title": "[RONCFPSD-196] From CNC, device can be moved between different RFS nodes which creates duplicate device entry in NSO",
        "description": "Hi All,From CNC server, I tried to migrate one of my device from one RFS to another, that created a duplicate device entry on the NSO RFS nodes.Steps I followed:Enabled LSA on CWAdded Providers, devices to CWCreated L2VPN on xrv9k-5 and xrv9k-6Edited device xrv9k-5, changed the admin state to Down and savedEdited device xrv9k-5, changed the RFS node from RFS-63 to RFS-62 and savedEdited device xrv9k-5, changed the admin state to Up and saved</ul>The above steps create one entry of device xrv9k-5 in RFS-62 as well.Set up details:CW: admin/Ovatest123@NSO CFS: admin/Ovatest123@NSO RFS-62 : admin/Ovatest123@NSO RFS-63 : admin/Ovatest123@Thanks,Kanchan",
        "comments": "Hello Kanchan,On looking through NSO, I seexrv9k-5 present only onRFS-62.The dispatch map on CFS also reflects the devices correctly.To Note, Wikimentions \"\"the following are a few of the constraints:Device(s) cannot be shared across RFS nodes.\"\"\"Please let me know if this helps.Hello Janaki,To proceed with my testing I deleted the device manually and re-installed the nodes. But I am able to reproduce the issue. Let me know when you are free for a call, I can show you the issue.Reached out to Kanchan, requesting for a time to setup the meeting to investigate further.Hi Janaki,Thanks for looking into my setup. I can see the alarm is getting generated on CFS (can be verified from UI/CLI).You can go ahead and close this ticket. I will work with CW infra team to capture the error.CDET : Thank you,Kanchan Thank you for the confirmation Kanchan! Closing Ticket.Per Reporter, Duplicate devices being created when moving device from RFS 62 to RFS 63 will be taken up by UI team onCDET : [https://cdetsng.cisco.com/webui/#view=CSCwb41976 <div class='table-wrap'><table class='confluenceTable'><tbody><tr><td class='confluenceTd'>https://cdetsng.cisco.com/webui/#view=CSCwb41976]</td></tr></tbody></table></div>"
    },
    {
        "title": "[RONCFPSD-169] versions are not matching in tm-tc and cfp for ncs-5.7-cisco-iosxr-7.38 and custom-template-utils",
        "description": "in TMTC and FP packages, we are seeing different version for the highlighted packages below :root@nso1:/home/admin/new_tmtc/TM-TC-4.3.0-98/packages# ls -lrttotal 98452<del>rw-rw-r</del>- 1 admin admin  218306 Mar 11 05:29 ncs-5.7-custom-template-utils-2.0.8--a14f1b1-2021-12-21.tar.gz<del>rw-rw-r</del>- 1 admin admin 58084739 Mar 11 05:29 ncs-5.7-cisco-iosxr_netconf-7.3.2.tar.gz<del>rw-rw-r</del>- 1 admin admin 42402915 Mar 11 05:29 ncs-5.7-cisco-iosxr-7.38.1.tar.gz<del>rw-r</del><del>r</del>- 1 admin admin   3383 Mar 11 05:29 ncs-5.7.2.1-tm-tc-multi-vendors-4.3.0-98.tar.gz<del>rw-r</del><del>r</del>- 1 admin admin  91905 Mar 11 05:29 ncs-5.7.2.1-cisco-tm-tc-fp-4.3.0-98.tar.gz<del>rw-rw-r</del>- 1 admin admin   772 Mar 11 05:30 manifest.jsonroot@nso1:/home/admin/new_tmtc/TM-TC-4.3.0-98/packages# cd /home/admin/tsdn-fp/root@nso1:/home/admin/tsdn-fp# cd nso-5.7.2.1-tsdn-4.0.0-M3/tsdn/core-fp-packages/root@nso1:/home/admin/tsdn-fp/nso-5.7.2.1-tsdn-4.0.0-M3/tsdn/core-fp-packages# ls -lrttotal 330232<del>rw-r</del><del>r</del>- 1 admin admin  23146 Mar 9 18:18 ncs-5.7-lsa-utils-1.0.0-7.tar.gz<del>rw-r</del><del>r</del>- 1 admin admin  216560 Mar 9 18:18 ncs-5.7-custom-template-utils-2.0.8--nso-5.7-test-9bd93f8-2022-01-06.tar.gz<del>rw-r</del><del>r</del>- 1 admin admin  18576 Mar 9 18:18 ncs-5.7-core-fp-plan-notif-generator-1.0.6.tar.gz<del>rw-r</del><del>r</del>- 1 admin admin  175372 Mar 9 18:18 ncs-5.7-core-fp-common-1.30.0.tar.gz<del>rw-r</del><del>r</del>- 1 admin admin 66917312 Mar 9 18:18 ncs-5.7-cisco-iosxr_netconf-7.5.1.tar.gz<del>rw-r</del><del>r</del>- 1 admin admin 58084739 Mar 9 18:18 ncs-5.7-cisco-iosxr_netconf-7.3.2.tar.gz<del>rw-r</del><del>r</del>- 1 admin admin 47854831 Mar 9 18:18 ncs-5.7-cisco-iosxr_netconf-7.315.tar.gz<del>rw-r</del><del>r</del>- 1 admin admin 60941295 Mar 9 18:18 ncs-5.7-cisco-iosxr-nc-7.4.2.22I.tar.gz<del>rw-r</del><del>r</del>- 1 admin admin 61128876 Mar 9 18:18 ncs-5.7-cisco-ios-6.77.9.tar.gz<del>rw-r</del><del>r</del>- 1 admin admin  13660 Mar 9 18:18 ncs-5.7.2.1-sr-te-multi-vendors-4.0.0.tar.gz<del>rw-r</del><del>r</del>- 1 admin admin  71987 Mar 9 18:18 ncs-5.7.2.1-cisco-tsdn-core-fp-common-4.0.0.tar.gz<del>rw-r</del><del>r</del>- 1 admin admin  89651 Mar 9 18:18 ncs-5.7.2.1-cisco-sr-te-cfp-internal-4.0.0.tar.gz<del>rw-r</del><del>r</del>- 1 admin admin  115663 Mar 9 18:18 ncs-5.7.2.1-cisco-sr-te-cfp-4.0.0.tar.gz<del>rw-r</del><del>r</del>- 1 admin admin 42478872 Mar 9 18:18 ncs-5.7.1-cisco-iosxr-7.38.6.tar.gzroot@nso1:/home/admin/tsdn-fp/nso-5.7.2.1-tsdn-4.0.0-M3/tsdn/core-fp-packages#Due to this mismatch, we are encountering below issue during CFP installation via script :sudo NCS_RELOAD_PACKAGES=force /etc/init.d/ncs restartStopping ncs: connection refused (stop)Starting ncs: Failed to load duplicate NCS package custom-template-utils: (/var/opt/ncs/packages/ncs-5.7-custom-template-utils-2.0.8--a14f1b1-2021-12-21.tar.gz)Daemon died status=21.Kindly fix the version issue.Thanks,Meenakshi",
        "comments": "Hi Meenakshi,We have observed that common package versions are not updated in TM-TC FP from TSDN M3 Release bundle.Please reach out to TM-TC team. They should be able to assist you here.Thank you.Closing the ticket as the information has been provided"
    },
    {
        "title": "[RONCFPSD-141] dispatch-map-settings.xml file is missing on nso-5.7-tsdn-4.0.0-M2",
        "description": "dispatch-map-settings.xml file is missing on nso-5.7-tsdn-4.0.0-M2nso@nso-virtual-machine:~/nso-5.7-tsdn-4.0.0-M2/config$ ls -lrt dispatch-map-settings.xmlls: cannot access 'dispatch-map-settings.xml': No such file or directorynso@nso-virtual-machine:~/nso-5.7-tsdn-4.0.0-M2/config$Not able to load merge the dispatch-map-settings.xml file on non-lsa setup",
        "comments": "Hi Ragesh,dispatch-map-settings.xml is no longer needed, the following installation instruction has been updated.Please try and let us know.Closing ticket due to no response from submitter for over a week. Assuming updated docs resolved the issue."
    },
    {
        "title": "[RONCFPSD-155] Delete l2vpn service from CNC, it's gone from NSO but not from CNC in LSA setup",
        "description": "Please refer to . To summarize the issue:1. Provision l2vpn service from CNC, it stuck in \"In Progress\" state.2. Janaki helped to investigate and found the redeploy (I didn't trigger redeploy manually) did not go through fully for some unknown reason. Janaki redeployed the service and it worked. 3. I tried to delete the l2vpn service from CNC UI. On CNC it showed the service is still there. When cross launch to view in NSO, NSO showed \"path does not exist\". Can you check if the correct status has been sent to CNC?Thanks.",
        "comments": "Hi Crystal, Thank you for the ticket!Can you please let me know what is the user when contacting NCS from UI for the creation/deletion.Hi Janaki, the user is root. Thanks.Hi Crystal, thank you for info please also let me know of a good time to do a Webex session (maybe today) so we can walkthrough this and troubleshoot.Issue was happening because the user \"root\" was being used to create and delete services from the CNC UI. This user was not present in the nacm and thus the redeploys were not happening correctly. On the webex call, we guided Crystal to add the \"root\" user to nacm rules on NCS CLI using following command:admin@ncs% set nacm groups group ncsadmin user-name root admin@ncs% commitCrystal was able to create and delete services successfully after this change. Closing ticket.Issue was happening because the user \"root\" was being used to create and delete services from the CNC UI. This user was not present in the nacm and thus the redeploys were not happening correctly.On the webex call, we guided Crystal to add the \"root\" user to nacm rules on NCS CLI using following command:admin@ncs% set nacm groups group ncsadmin user-name rootadmin@ncs% commitCrystal was able to create and delete services successfully after this change.Closing ticket."
    },
    {
        "title": "[RONCFPSD-380] Use cases for NSO Actions: Check-Sync, Sync-from, Reactive-Re-Deploy...",
        "description": "We try to find the use case where we can test the following NSO Actions initiated from CNC:Check-SyncSync-fromSync-toReactive-Re-DeployWe went through the Error Recovery Procedures wiki, but not able to come up with the use cases to test the actions above.Thanks in advance.",
        "comments": "Hi Crystal,Please refer to nso user guides for details regarding the NSO actions and how and when that can be used. Please find the documents under NSO after install. For System install they are under /opt/ncs/<ncs-x.x>/doc.Regards,Nishad Subair.Hi Nishad,By reading the user guide, I still can not come up with a use case to apply Reactive-Re-Deploy action. It will be great if you can help on this.Here is the description for \"Reactive-Re-Deploy\":=====================================This is a tailored re-deploy intended to be used in the reactive FASTMAP scenario. It differs from the ordinary re-deploy in that this action does not take any commit parameters.This action will re-deploy the services as an shallow depth re-deploy. It will be performed with the same user as the original commit. Also, the commit parameters will be identical to the latest commit involving this service.By default this action is asynchronous and returns nothing. Use the sync leaf to get synchronous behaviour and block until the service re-deploy transaction is committed. The sync leaf also means that the action will possibly return a commit result, such as commit queue id if any, or an error if the transaction failed."
    },
    {
        "title": "[RONCFPSD-394] Unable to delete a device in M4",
        "description": "Hi,I have added devices to NSO and provisioned Circuit Style ; Slicing services.To upgrade the NED , I have tried to delete the devices after deleting the services.But post which I am unable to delete one of the devices and could see below service keep showing up and NSO not allowing it to delete. core-fp-delete-shutdown-servicexrv9k-23 GigabitEthernet 0/0/0/1 ",
        "comments": "Hi Naveen,Please provide your NSO setup details and also let us know which device you are unable to delete.Thanks,NikhilHi Nikhil,I am unable to delete xrv9k-23 device.The NSO details are as follows,URL : cred : nso/Vtsisco@123!Kindly let me know.Thanks,NaveenHi Naveen,I have deleted the core-fp-delete-shutdown-service from your setup. Please delete the services that use this device and then try to delete the device.Thanks,NikhilHi Nikhil,I am able to delete the device now.ThanksNaveenDeleted the core-fp-delete-shutdown-service and the user was able to the device thereafter."
    },
    {
        "title": "[RONCFPSD-419] route_policy seems to be mandatory for L3VPN ODN policy",
        "description": "Creation of L3VPN ODN policy with route_policy \"route_in\" fails as the policy is not existing already.Same payload worked fine in NSO 6.0 version and didn't require route-policy as mandatory policy to be pre-existing.",
        "comments": " Please ignore this issue and close it. The payload was of type L2VPN and works as expected once pre-requisite route_policy was added."
    },
    {
        "title": "[RONCFPSD-425] Getting error while creating Dynamic L3MVPN",
        "description": "Hi Team,I am trying to create L3MVPN and getting error.Attached is the screenshot.Can someone help with what I am missing here.Thanks,Kanchan",
        "comments": "I was not using payload and was creating directly through CNC UI.I was able to see it again, attaching the payloads These issues are caused by RT-49480, RT-50000.Restarting the NSO is workaround until we get the RT fixes"
    },
    {
        "title": "[RONCFPSD-343] Whether NSO model available to load for some transport slicing attributes.",
        "description": "Hi,Is there any NSO model available to load possible values for below attributes,1. Connectivity Type (slice service)2. Peering Protocol (slice service)3. Forward plane Policy type ( slice template)We need the possible values to be loaded in CNC for these attributes.Thanks,",
        "comments": "<ol>\t<li>Connectivity Type (slice service) => Released with M2</li>\t<li>Peering Protocol (slice service) => Released with M2</li>\t<li>Forward plane Policy type ( slice template) => Will be released with M4</li></ol>I've given the following cut down yang tree which has the both \"connectivity-type\" and \"sdp-peering\"<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>module: ietf-network-slice-service +--rw network-slice-services +--rw slice-service* [service-id] | +--rw service-id string | +--rw connection-groups | | +--rw connection-group* [connection-group-id] | | +--rw connection-group-id string | | +--rw connectivity-type? identityref | +--rw sdps | | +--rw sdp* [sdp-id] | | +--rw sdp-id string | | +--rw sdp-peering | | | +--rw protocol* [protocol-type] | | | +--rw protocol-type identityref | | | +--rw cisco-nss:bgp-attributes | | | +--rw (as-type)? | | | +--:(as-no-from-device) | | | +--rw cisco-nss:as-no-from-device? empty | | +--rw attachment-circuits | | | +--rw attachment-circuit* [ac-id] | | | +--rw ac-id string | | | +--rw sdp-peering | | | +--rw protocol* [protocol-type] | | | +--rw protocol-type identityref | | | +--rw cisco-nss:bgp-attributes! | | | +--rw cisco-nss:neighbor* inet:ip-address | | | +--rw cisco-nss:remote-as inet:as-number | | | +--rw cisco-nss:update-source! | | | | +--rw cisco-nss:if-type enumeration | | | | +--rw cisco-nss:if-id string | | | | +--rw cisco-nss:sub-if-id? int32 | | | +--rw cisco-nss:mpls-deactivation? boolean | | | +--rw cisco-nss:multihop? uint8</pre></div></div>Let me know if the above helps.Thanks,RegiHi,It looks like possible values for1. connectivityType : Any To-Any , Hub And Spoke 2. Peering Protocol : BGPIs these values are hardcoded or it is loaded from some other nso model.This will help us to leverage the same model instead of hard coding it in CNC. We are asking it since there is a possibility new values will be added in future ; we will end up changing it everytime.Thanks,NaveenHi,These are derived from IETF Models: connectivity-type uses \"vpn-common:vpn-topology\" type, so it's coming from the vpn-common module:<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>    leaf connectivity-type {     type identityref {      base vpn-common:vpn-topology;     }     default \"vpn-common:any-to-any\";     description      \"Connection group connectivity type.\";    }</pre></div></div>However, we do restrict the above types to what we currently support.SDP Peering is part of IETF as well as \"peering-protocol-type\" is defined in the IETF slicing module:<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>   grouping sdp-peering {    description     \"A grouping for the slice service SDP peering.\";    container sdp-peering {     description      \"Describes SDP peering attributes.\";     list protocol {      key \"protocol-type\";      description       \"List of the SDP peering protocol.\";      leaf protocol-type {       type identityref {        base peering-protocol-type;       }       description        \"Identifies an entry in the list of SDP peering        protocol type.\";      }</pre></div></div>but the \"bgp-attributes\" container is a cisco addition as you can see from the previous yang tree as there's a namespace prefix.Thanks,Regi"
    },
    {
        "title": "[RONCFPSD-357] Policy Type, Allow Customizations and Service Type missing in model",
        "description": "Hi,While provisioning we need to pass values to 1. Policy Type (Use-As-Is, Use-As-blueprint), 2. Allow Customizations (true/false)3. Service Type (L2/L3).But its not available in M3 model ",
        "comments": "Hi Magesh,Items 1 and 2 are coming in TSDN 4.0 M4.For item 3 you can see it in the YANG tree you referenced:<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\"> +--rw slice-service* [service-id] | +--rw service-tags | | +--rw tag-type* [tag-type] | |  +--rw tag-type identityref | |  +--rw value*  string</pre></div></div>It will be done via service-tag.<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\"><config xmlns=></span> <network-slice-services xmlns=> <slice-service>  <service-id>L2-P2P</service-id>  <service-tags>  <tag-type>   <tag-type>service-tag-service</tag-type>   <value>L2</value>  </tag-type></pre></div></div>Let me know if you have any other questions.Thanks,Isaac KimHi Isaac,We are expecting all 3 attributes in slice template. It looks like service-tag is in slice-service.+--rw slo-sle-templates<div class='table-wrap'><table class='confluenceTable'><tbody><tr><td class='confluenceTd'> +--rw slo-sle-template* </td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'> +--rw id                  string</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'> +--rw template-description?        string</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'> +--rw cisco-nss:qos-policy!</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'> +--rw cisco-nss:L2!</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'> +--rw cisco-nss:input-policy?  -> /network-slice-services/slo-sle-templates/qos-catalog/L2/input-qos-policy/name</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'> +--rw cisco-nss:output-policy?  -> /network-slice-services/slo-sle-templates/qos-catalog/L2/output-qos-policy/name</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'> +--rw cisco-nss:L3!</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>   +--rw cisco-nss:input-policy?  -> /network-slice-services/slo-sle-templates/qos-catalog/L3/input-qos-policy/name</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>   +--rw cisco-nss:output-policy?  -> /network-slice-services/slo-sle-templates/qos-catalog/L3/output-qos-policy/name</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'> +--rw cisco-nss:forwarding-plane-policy?  -> /cisco-sr-te-cfp:sr-te/cisco-sr-te-cfp-sr-odn:odn/odn-template/name</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'> +--rw cisco-nss:service-assurance</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>   +--rw cisco-nss:heuristics!</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'> +--rw cisco-nss:monitoring-state?  aa-monitoring-state</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'> +--rw cisco-nss:preservation?    historical-data-options</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'> +--rw cisco-nss:L2!</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'> +--rw cisco-nss:point-to-point!</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'> +--rw cisco-nss:profile-name  string</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'> +--rw cisco-nss:rule-name    string</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'> +--rw cisco-nss:multipoint!</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>   +--rw cisco-nss:profile-name  string</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>   +--rw cisco-nss:rule-name    string</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'> +--rw cisco-nss:L3!</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>   +--rw cisco-nss:profile-name  string</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>   +--rw cisco-nss:rule-name    string</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>   +--rw cisco-nss:ethernet-service-oam!</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>    +--rw cisco-nss:md-name   string</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>    +--rw cisco-nss:md-level  uint8</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>    +--rw cisco-nss:y-1731</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>      +--rw cisco-nss:id-type?         enumeration</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>      +--rw cisco-nss:message-period?      string</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>      +--rw cisco-nss:profile-delay?      -> /l2vpn-ntw:l2vpn-ntw/cisco-l2vpn-ntw:y-1731-profile/name</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>      +--rw cisco-nss:profile-loss?       -> /l2vpn-ntw:l2vpn-ntw/cisco-l2vpn-ntw:y-1731-profile/name</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>      +--rw cisco-nss:profile-synthetic-loss?  -> /l2vpn-ntw:l2vpn-ntw/cisco-l2vpn-ntw:y-1731-profile/name</td></tr><tr><td class='confluenceTd'> +--rw cisco-nss:qos-catalog</td></tr><tr><td class='confluenceTd'>   +--rw cisco-nss:L2</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'> +--rw cisco-nss:output-qos-policy* </td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'> +--rw cisco-nss:name?     string</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'> +--rw cisco-nss:description?  string</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'> +--rw cisco-nss:input-qos-policy* </td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>   +--rw cisco-nss:name?     string</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'>   +--rw cisco-nss:description?  string</td></tr><tr><td class='confluenceTd'>   +--rw cisco-nss:L3</td></tr><tr><td class='confluenceTd'>    +--rw cisco-nss:output-qos-policy* </td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'> +--rw cisco-nss:name?     string</td></tr><tr><td class='confluenceTd'>&nbsp;</td><td class='confluenceTd'> +--rw cisco-nss:description?  string</td></tr><tr><td class='confluenceTd'>    +--rw cisco-nss:input-qos-policy* </td></tr><tr><td class='confluenceTd'>      +--rw cisco-nss:name?     string</td></tr><tr><td class='confluenceTd'>      +--rw cisco-nss:description?  string</td></tr></tbody></table></div>Hi Naveen,Apologies there is a typo in my previous reply. Items 1 and 2 are coming in TSDN 5.0 M4.So items 1 and 2 are not supported until TSDN 5.0 M4 is released.Regi will help with follow up question.Thanks,Isaac KimHi Naveen,Having \"service-type\" in the `slo-sle-template` was never planned for the newer revision . The `slo-sle-template` for most part allows configuration for both L2 and L3 applicable configs and the `slice-service` will pull the applicable configs based on the defined `service-tag-service` and `connectivity-type`.Thanks,Regi"
    },
    {
        "title": "[RONCFPSD-431] L2vpn P2p service with RSVP TE tunnel -failed to configure NSO 6.1- TSDO 5.0.0 M5+ Engineering build",
        "description": "Hi NSO Team,with NSO LSA , having one CFS and two RFS.Tried configuring the L2vpn p2p service with RSVP TE tunnel.,it is not pushing the config with the below payload structure.<te-service-mapping xmlns=\"http://cisco.com/ns/nso/fp/examples/cisco-l2vpn-ntw\"><te-mapping><te-tunnel-list><ietf-te-service>L2NM-P2P-RSVPTE-128-1006</ietf-te-service><fallback>disable</fallback></te-tunnel-list></te-mapping></te-service-mapping>it is not pushing proper config to the devices. It is not pushing the tunnel id. Error as below in Native config tab.ASR9006-SDN-128External error in the NED implementation for device ASR9006-SDN-128: Config in diff couldn't be parsed: Skipped 1 line in context '/l2vpn/pw-class/encapsulation/mpls' :  (line 24) : '  preferred-path interface tunnel-te fallback disable'NOTE: this might indicate invalid usage of device model, set config on device and sync-from to verify config syntax/structureInstead, it is working witht the below payload.,<te-service-mapping xmlns=\"http://cisco.com/ns/nso/fp/examples/cisco-l2vpn-ntw\"><te-mapping><!--te-tunnel-list><te-tunnel-id>1006</te-tunnel-id></te-tunnel-list--></te-mapping></te-service-mapping>Please ping me, i can provide you the NSO details. Payload attached.Thanks,Arun.M.G",
        "comments": " NOte: this issue is not seen in NSO standalone server.issue only NSO LSA setupHi Arun, I saw the same on my LSA setup with NSO 6.1 M5+ Eng. Please file a bug.Thanks,LinhHi Linh,Thanks . Filed CDETS CSCwe07262 Thanks,Arun.M.GFixed in 5.0 M7"
    },
    {
        "title": "[RONCFPSD-356] zombies could not be deleted with large service",
        "description": "Created L2VPN service in scale setup with 100 EP, 700 EP, 1000 EP. However, we could not delete them. They resulted in zombie. We could not delete zombie also. CNC supports only L2VPN only till 50 EP. Need help in clearing, since it is blocking CNC testing.Setup : 172.20.63.132cnctest/Ovatest123@Service names: L2NM-L2-EVPN_MP_ELAN_12 - 200L2NM-L2-EVPN_MP_ELAN_20 - 1000L2-EVPN_MP_ELAN_75 - 75L2-EVPN_MP_ELAN_14 L2-EVPN_MP_ELAN_65 - 65",
        "comments": "Hi Srini,As suggested please try re-deploying the zombies and let us know if the zombies are cleared.executed the \"zombies service /flat-L2vpn re-deploy\" still 4 services are shown under zombie service. /flat-L2vpn          The path to where the service resided that has been deleted and become a                                     zombie. /flat-L2vpn          The path to where the service resided that has been deleted and become a                                     zombie. /flat-L2vpn          The path to where the service resided that has been deleted and become a                                     zombie. /flat-L2vpn          The path to where the service resided that has been deleted and become a                                     zombie."
    },
    {
        "title": "[RONCFPSD-430] IPv6 Route Target in L3VPN service is not pushed to device",
        "description": "version:NSO: 6.1TSDN: 5.0.0 M5+Create a L3 slice with advance settings from CNC UI with following:  Connectivity Route Target = Auto  SDP advanced settings for route targets   PE-A: import: 0:111:111         Export: 0:112:112         Both: 0:555:555   PE-B: Both: 0:666:666an L3VPN service is created by system (NSS-SliceL3Dedicated520-internal). It contains IPv4 and IPv6 address family under \"vpn-node\" -> \"active-vpn-instance-profiles\" -> \"vpn-instance-profile\". The Route Target is added to device under IPv4 address family but not IPv6. Attach the following:1. Slice payload2. NSS-SliceL3Dedicated520-internal payload 3. Config pushed to device",
        "comments": "  Hi Crytals,Address-family ipv4/ipv6 brought in is based on neighbor ip defined. It does not work with the current template. Please file a bug on this and DE will fix it.Thanks,LinhThanks Linh for looking into it. Here is the CDETS opened to track:Thanks.-CrystalThis fix is in M6 build. I am going to close the ticketRegards,Linh"
    },
    {
        "title": "[RONCFPSD-424] Nso failed to restart after adding tsdn and dlm",
        "description": "Installed NSO - ncs-6.1_221212.150815390.4b4cc38b0df7.linux.x86_64.installer.binAdded required tsdn and dlm package - nso-6.1_221212-tsdn-5.0.0-M5-NSO-Engg-1.tar.gz and cw-na-dlm-fp-5.0.0-nso-6.1-eng-38-221220.tar.gzRestarted NCS using below command sudo NCS_RELOAD_PACKAGES=force /etc/init.d/ncs restartgetting below error NCS package upgrade failed with reason 'User java class \"com.tailf.pkg.upgrade.UpgradeService\" exited with status 1'Daemon died status=13",
        "comments": "Hello, Can you please provide the setup details so we can investigate further?Please find my setup detail NSO VM - 10.22.179.244 - admin/cisco123Hello, we have fixed your VM.Here are our observations.1. We noticed that your ncsadmin group was not configured correctly. So we ran the command below: admin@xrd1:~$ sudo usermod -a -G ncsadmin admin2. Next we noticed you have very little space on your VM to get all the packages loaded correctly (see screenshot attached). We highly recommend to switch to >= 64GB.Please let us know if this helps.Regards, Janaki DuggiralaMy over all VM is 150 GB. May I know exact requirement for all the packages.Some of the packages show java uninitialized errorHello,We logged into your VM and posted our findings (see screenshot attached). There is very little space.For all packages to load and TSDN to work, the proper settings should look as below:cisco@nso:~$ free -h    total  used  free  shared buff/cache availableMem:   62Gi  342Mi  60Gi  1.0Mi  2.3Gi  61GiSwap:   8.0Gi   0B  8.0GiAlso attached screenshot of Setup Requirements.After changing the required DRAM and Storage. NSO is up. Thanks for the resolutionCustomer changed the required DRAM and Storage and confirmed NSO is up. Closing ticket."
    },
    {
        "title": "[RONCFPSD-342] Bandwidth not available in Transport Slicing service",
        "description": "Hi,We need to provision bandwidth for the slice service from CNC. But it is not found in NSO model. Kindly let us know.Thanks,Naveen",
        "comments": "Configuring bandwidth per slice will be part of the dedicated SR TE feature which is coming in M4; however, you can configure bandwidth per pre-configured `forwarding-plane-policy` ( ie SR ODN service )"
    },
    {
        "title": "[RONCFPSD-418] Sample payload needed for L3 H&S and L3 Any2Any with Tree-SID Static and Dynamic provisioning",
        "description": "Hi Team,I am looking for payloads for L3VPN H;S and L3VPN AnyToAny with Tree-SID Static and Dynamic provisioning. Can anyone help with payloads.Thanks,Kanchan",
        "comments": "Hi Kanchan,This is original payloads.Please read through it and understanding prerequiste requirements.And attached are variation of Hub-spoke and any-to-any Thanks Linh, you can close the ticket."
    },
    {
        "title": "[RONCFPSD-395] MaapiException observed during onboarding credentials(Exception:- failed because: sharedCreate() called outside fastmap)",
        "description": "DLM uses MAAPI interface to interact with NSO. As a part of M4+ release, we are recompiling DLM service pack with NSO 6.0(nso-6.0.linux.x86_64.installer.bin). The exception observed while onboarding credentials. Please note the same code works fine with nso-5.7.6. Exception:======<ERROR> 30-Nov-2022::23:56:14.835 DLMConnection Thread-28: - Failed to reply to command:onboardCredentialsjava.lang.reflect.UndeclaredThrowableException: null    at com.sun.proxy.$Proxy29.add(Unknown Source) ~    at com.cisco.crossworks.handlers.OnboardCredentialsHandler.handle(OnboardCredentialsHandler.java:23) ~    at com.cisco.crossworks.handlers.OnboardCredentialsHandler.handle(OnboardCredentialsHandler.java:14) ~    at com.cisco.crossworks.DLMConnection.processCommand(DLMConnection.java:279)     at com.cisco.crossworks.DLMConnection.processQueue(DLMConnection.java:224)     at com.cisco.crossworks.DLMConnection$1.run(DLMConnection.java:70)     at java.lang.Thread.run(Thread.java:829) Caused by: com.tailf.navu.NavuException: com.tailf.maapi.MaapiException: /ncs:devices/authgroups/group{simulators}: Operation on: /ncs:devices/authgroups/group{simulators} failed because: sharedCreate() called outside fastmap    at com.tailf.navu.NavuContextBase.create(NavuContextBase.java:917) ~    at com.tailf.navu.NavuContext.create(NavuContext.java:1035) ~    at com.tailf.navu.NavuList.doCreate(NavuList.java:510) ~    at com.tailf.navu.NavuList.sharedCreate(NavuList.java:473) ~    at com.cisco.nso.dao.impl.handlers.AddMH.handle(AddMH.java:37) ~    at com.cisco.nso.dao.impl.DAOImpl.invoke(DAOImpl.java:136) ~    ... 7 moreCaused by: com.tailf.maapi.MaapiException: /ncs:devices/authgroups/group{simulators}: Operation on: /ncs:devices/authgroups/group{simulators} failed because: sharedCreate() called outside fastmap    at com.tailf.maapi.MaapiException.mk(MaapiException.java:62) ~    at com.tailf.maapi.Maapi.sharedCreate(Maapi.java:4573) ~    at com.tailf.maapi.Maapi.sharedCreate(Maapi.java:4523) ~    at com.tailf.navu.NavuContextBase.create(NavuContextBase.java:914) ~    at com.tailf.navu.NavuContext.create(NavuContext.java:1035) ~    at com.tailf.navu.NavuList.doCreate(NavuList.java:510) ~    at com.tailf.navu.NavuList.sharedCreate(NavuList.java:473) ~    at com.cisco.nso.dao.impl.handlers.AddMH.handle(AddMH.java:37) ~    at com.cisco.nso.dao.impl.DAOImpl.invoke(DAOImpl.java:136) ~    ... 7 moreAttached the ncs-java-vm.log. Please let me know if you need any other information. ",
        "comments": " Hi Ravi,As informed you before, please verify the NSO documentation provided in the NSO installation folder. They provide API's as well.You should be able to debug using these resources.We did not face this error in TSDN CFP, so we would not know the cause. ThanksSahithiQuery is for the NSO platform team."
    },
    {
        "title": "[RONCFPSD-381] NSO restart with package reload force failing when i use core-fp-common on ncs 5.7.6",
        "description": "core fp common - ncs-5.7.6.2-core-fp-common-1.31.0.tar.gz ",
        "comments": "NSO sever details 10.104.127.41 ( nso / Cwork123! )# systemctl status ncs\u25cf ncs.service - LSB: NCS  Loaded: loaded (/etc/rc.d/init.d/ncs; bad; vendor preset: disabled)  Active: failed (Result: exit-code) since Wed 2022-11-16 09:50:39 EST; 12h ago   Docs: man:systemd-sysv-generator(8) Process: 8488 ExecStop=/etc/rc.d/init.d/ncs stop (code=exited, status=0/SUCCESS) Process: 8543 ExecStart=/etc/rc.d/init.d/ncs start (code=exited, status=13)Nov 16 09:50:38 nso-vm ncs: - CDB load: processing file: /opt/ncs/ncs-5.7.6/var/ncs/cdb/tailf-ncs-alarms_init.xmlNov 16 09:50:38 nso-vm ncs: - CDB load: processing file: /var/opt/ncs/cdb/aaa_init.xmlNov 16 09:50:39 nso-vm ncs: - NCS package upgrade failed with reason 'User java class \"com.cisco.corefpcommon.upgrade.GlobalVarUpgrade\" exite... status 1'Nov 16 09:50:39 nso-vm ncs: - NCS package upgrade failed with reason 'User java class \"com.cisco.corefpcommon.upgrade.GlobalVarUpgrade\" exite... status 1'Nov 16 09:50:39 nso-vm ncs: Starting ncs: NCS package upgrade failed with reason 'User java class \"com.cisco.corefpcommon.upgrade.GlobalVarUp... status 1'Nov 16 09:50:39 nso-vm ncs: Daemon died status=13Nov 16 09:50:39 nso-vm systemd: ncs.service: control process exited, code=exited status=13Nov 16 09:50:39 nso-vm systemd: Failed to start LSB: NCS.Nov 16 09:50:39 nso-vm systemd: Unit ncs.service entered failed state.Nov 16 09:50:39 nso-vm systemd: ncs.service failed.Warning: ncs.service changed on disk. Run 'systemctl daemon-reload' to reload units.Hint: Some lines were ellipsized, use -l to show in full.# Hi Raja,I am not able to log in to the NSO. Please suggest if the credentials mentioned are correct.Regards,Nishad Subairslight correction in IP. It's 10.104.127.17Hi Raja,Please update the java version.Please refer the following documentation :Regards,Nishad SubairThanks nishad for checking the setup. It's working fine after switching to java 11Hi Raja,Thank you for the update.Regards,Nishad Subair"
    },
    {
        "title": "[RONCFPSD-154] More than 2 nodes in p2p+pbb",
        "description": "hi, when I put signaling option to evpn-pbb, it is possible to configure more than 2 nodes, even if I do not put any value in the svc-topo (which means the topology is p2p).is that a correct configuration - or NSO should limit to only 2 nodes? attached the config",
        "comments": " Hello,Configuring more than 2 nodes for evpn-pbb is valid, but svc-topo will default to E-LAN. It seems you're currently running into a bug which is the result of the error message. I have created an internal ticket to fix the issue with default svc-topo.I have also added the bridge-group to the payload attached above to get a successful run. <bridge-group xmlns=\"http://cisco.com/ns/nso/fp/examples/ietf-l2vpn-ntw-cisco-augmentations\">BRIDGE</bridge-group>Thank you.ok so you say it will eventually turn to ELAN, and not ELINE (=p2p)? Yes, we support E-LAN, E-TREE, as well as CUSTOM. To use ELINE, you would have to configure evpn-vpws instead of evpn-pbb.Hello, please kindly confirm if we may close this ticket. Thank you!TSDN supports E-LAN, E-TREE, as well as CUSTOM. To use ELINE, you would have to configure evpn-vpws instead of evpn-pbb."
    },
    {
        "title": "[RONCFPSD-140] load merge config/dispatch-map-settings.xml fail",
        "description": "load merge failed while running the command for \"Configure Common Bootstrap data\". I checked the folder, dispatch-map-settings.xml does not exist under config/console outputadmin@ncs% load merge config/dispatch-map-settings.xmlError: failed to open file: File/directory does not exist. File name: dispatch-map-settings.xmladmin@ncs% ",
        "comments": "Continue with the remaining steps, and it failed to sync dispatch map. But the error message is confusing since this is a non-LSA setup and should not have concept of \"CFS node\".admin@ncs% request core-fp-common:cfp-common-actions sync-dispatch-mapsuccess falsedetail Dispatch Map Sync action not allowed on CFS node.Please refer to the updated installation wiki for standalone. You'll want to use the action `request devices lsa dispatch-map sync` instead.Let me know if you run into anymore issues.Thanks,RegiHi Crystal,Thank you for bringing this up! I took a look and you are right.There seems to be some outdated information in our install wiki related to dispatch map. Since we transitioned to lsa-utils package, dispatch map config and action targets has changed. Let me fix the wikis now. I will let you know when the wikis are updated.Thanks,Isaac KimHi Crystal,It seems like the wiki was updated.Please let us know if you run into any more issues. We will review the wikis again to ensure this does not happen.Thanks,Isaac KimHi Isaac,What are the different steps we need to follow? I still see the same commands to use for the following:load merge config/commit-queue-settings.xmlrequest core-fp-common:cfp-common-actions sync-dispatch-mapMaybe it takes sometime to reflect the change? Clear browser cache does not seem to help.Thanks.-CrystalThere's a fair bit of changes and the changes are reflecting on my end. We did remove `request core-fp-common:cfp-common-actions sync-dispatch-map` and replaced it with ``request devices lsa dispatch-map sync` as well as removing some bootstrap XML files.Let us know if you still have issues, maybe we can send you a copy of the page.Thanks,RegiHi Reginald,I think the problem is the URL. The one shared in this ticket is:But the one we refer to is:When use the one in this ticket, we got page not found. see screenshot attachedIt will be great if you can send a copy of the page for now.Thanks.-CrystalHi Crystal,You're correct it seems the external wiki wasn't updated. I've gone ahead and updated the page: .Please try again.Thanks,RegiHi Reginald,Yes, I see the wiki is updated. Tried the following 2 commands. \"dispatch-map sync\" is successful. But \"load merge config/commit-queue-settings.xml\" still fail because there is no such file under config/ folder. Do we still need \"commit-queue-settings.xml\" for non-LSA setup? Console output:============admin@ncs% load merge config/commit-queue-settings.xmlError: failed to open file: File/directory does not exist. File name: commit-queue-settings.xmladmin@ncs% request devices lsa dispatch-map syncsuccess truedetail Dispatch Map Synced SuccessfullyYes, you would need it for standalone NSO. Another issue with the wiki. The file is located under 'xml' folder. I've updated it again: Sorry for the inconvenience,RegiHi Reginald,I got the same error. And could not find xml folder on my VM. console output:============admin@ncs% load merge xml/commit-queue-settings.xmlError: failed to open file: File/directory does not exist. File name: commit-queue-settings.xmlls output from tsdn folder:====================root@nso-193:~/tsdn40_m2/nso-5.7-tsdn-4.0.0-M2# lsCHANGES config core-fp-packages example-packages get_technical_support_data.shThanks.-CrystalHi Reginald,I also do not see xml folder under config. FYI...Console output:============root@nso-193:~/tsdn40_m2/nso-5.7-tsdn-4.0.0-M2# ls configcommit-queue-settings.xml         IETF-TE-plan-notification-settings.xml L3VPN-multi-vendor-iosxr-netconf.xmlIETF-L2NM-AA-notification-settings.xml  IETF-TE-status-codes.xml        L3VPN-plan-notification-settings.xmlIETF-L2NM-internal-plan-kicker.xml    L2VPN-AA-notification-settings.xml   L3VPN-status-codes.xmlIETF-L2NM-plan-notification-settings.xml L2VPN-cfp-configuration-kicker.xml   RSVP-TE-status-codes.xmlIETF-L2NM-status-codes.xml        L2VPN-internal-plan-kicker.xml     SR-cfp-configuration-kicker.xmlIETF-L3NM-AA-notification-settings.xml  L2VPN-multi-vendor-iosxe-cli.xml    SR-internal-plan-kicker.xmlIETF-L3NM-internal-plan-kicker.xml    L2VPN-multi-vendor-iosxr-netconf.xml  SR-multi-vendor-iosxe-cli.xmlIETF-L3NM-plan-notification-settings.xml L2VPN-plan-notification-settings.xml  SR-multi-vendor-iosxr-netconf.xmlIETF-L3NM-status-codes.xml        L2VPN-status-codes.xml         SR-plan-notification-settings.xmlIETF-TE-cfp-configuration-kicker.xml   L3VPN-AA-notification-settings.xml   SR-status-codes.xmlIETF-TE-internal-plan-kicker.xml     L3VPN-cfp-configuration-kicker.xml   xe-ip-sla-resource-pool.xmlIETF-TE-multi-vendor-iosxe-cli.xml    L3VPN-internal-plan-kicker.xml     xr-sman-id-resource-pool.xmlIETF-TE-multi-vendor-iosxr-netconf.xml  L3VPN-multi-vendor-iosxe-cli.xmlGotcha, but commit-queue-settings.xml does seem to be there under config from your outputHi Crystal,It seems like there was some confusion.All TSDN bootstrap payloads can be found under <TSDN ROOT>/config.Thanks,Isaac KimHi Reginald ; Isaac,I am able to see the commit-queue-settings.xml file under config/ folder. But when run the command to load merge, it failed again. Can we have a webex on Tuesday to look further? Thanks. -Crystalconsole output:============root@nso-193:~/tsdn40_m2/nso-5.7-tsdn-4.0.0-M2/config# lscommit-queue-settings.xml         IETF-TE-internal-plan-kicker.xml    L2VPN-plan-notification-settings.xml SR-cfp-configuration-kicker.xmlIETF-L2NM-AA-notification-settings.xml  IETF-TE-multi-vendor-iosxe-cli.xml   L2VPN-status-codes.xml        SR-internal-plan-kicker.xmlIETF-L2NM-internal-plan-kicker.xml    IETF-TE-multi-vendor-iosxr-netconf.xml L3VPN-AA-notification-settings.xml  SR-multi-vendor-iosxe-cli.xmlIETF-L2NM-plan-notification-settings.xml IETF-TE-plan-notification-settings.xml L3VPN-cfp-configuration-kicker.xml  SR-multi-vendor-iosxr-netconf.xmlIETF-L2NM-status-codes.xml        IETF-TE-status-codes.xml        L3VPN-internal-plan-kicker.xml    SR-plan-notification-settings.xmlIETF-L3NM-AA-notification-settings.xml  L2VPN-AA-notification-settings.xml   L3VPN-multi-vendor-iosxe-cli.xml   SR-status-codes.xmlIETF-L3NM-internal-plan-kicker.xml    L2VPN-cfp-configuration-kicker.xml   L3VPN-multi-vendor-iosxr-netconf.xml xe-ip-sla-resource-pool.xmlIETF-L3NM-plan-notification-settings.xml L2VPN-internal-plan-kicker.xml     L3VPN-plan-notification-settings.xml xr-sman-id-resource-pool.xmlIETF-L3NM-status-codes.xml        L2VPN-multi-vendor-iosxe-cli.xml    L3VPN-status-codes.xmlIETF-TE-cfp-configuration-kicker.xml   L2VPN-multi-vendor-iosxr-netconf.xml  RSVP-TE-status-codes.xmlroot@nso-193:~/tsdn40_m2/nso-5.7-tsdn-4.0.0-M2/config# cd ..root@nso-193:~/tsdn40_m2/nso-5.7-tsdn-4.0.0-M2# ncs_cli -u adminUser admin last logged in 2022-02-18T22:09:49.932596+00:00, to nso-193, from 10.21.93.73 using cli-sshadmin connected from 10.21.93.73 using ssh on nso-193admin@ncs> configure Entering configuration mode privateadmin@ncs% load merge xml/commit-queue-settings.xmlError: failed to open file: File/directory does not exist. File name: commit-queue-settings.xmlThe file path is relative to the directory in which ncs_cli is opened.Example:If I'm in the path: /home/rechand/Downloads/nso-5.7-tsdn-internal-4.0.0-M2<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre> ~/Downloads/nso-5.7-tsdn-internal-4.0.0-M2 > ncs_cli -u admin admin@ncs> confEntering configuration mode private[ok][2022-02-18 17:36:36][edit]admin@ncs% load merge Possible completions: <filename/terminal> CHANGES conf/ core-fp-packages/ example-packages/ fp_data.json get_technical_support_data.sh init_data/ installer/ local-install/</pre></div></div>If you click the <tab> key after you type \"load merge\" it will try to do auto-completion and will show you the available files/directories.For your case, the \"commit-queue-settings.xml\" is in the \"config\" directory.If you still need help next week, then we can do a webex.Thanks,RegiThat is correct. If you look at the console output in my last reply: the command steps are:root@nso-193:~/tsdn40_m2/nso-5.7-tsdn-4.0.0-M2/config# lsroot@nso-193:~/tsdn40_m2/nso-5.7-tsdn-4.0.0-M2/config# cd ..root@nso-193:~/tsdn40_m2/nso-5.7-tsdn-4.0.0-M2# ncs_cli -u adminadmin@ncs> configureadmin@ncs% load merge xml/commit-queue-settings.xmlBut you're \"commit-queue-settings.xml\" is not in an xml folder as per your output its in config folder (~/tsdn40_m2/nso-5.7-tsdn-4.0.0-M2/config) . The very first XML file.<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>root@nso-193:~/tsdn40_m2/nso-5.7-tsdn-4.0.0-M2/config# lscommit-queue-settings.xml IETF-TE-internal-plan-kicker.xml L2VPN-plan-notification-settings.xml SR-cfp-configuration-kicker.xmlIETF-L2NM-AA-notification-settings.xml IETF-TE-multi-vendor-iosxe-cli.xml L2VPN-status-codes.xml SR-internal-plan-kicker.xmlIETF-L2NM-internal-plan-kicker.xml IETF-TE-multi-vendor-iosxr-netconf.xml L3VPN-AA-notification-settings.xml SR-multi-vendor-iosxe-cli.xmlIETF-L2NM-plan-notification-settings.xml IETF-TE-plan-notification-settings.xml L3VPN-cfp-configuration-kicker.xml SR-multi-vendor-iosxr-netconf.xmlIETF-L2NM-status-codes.xml IETF-TE-status-codes.xml L3VPN-internal-plan-kicker.xml SR-plan-notification-settings.xmlIETF-L3NM-AA-notification-settings.xml L2VPN-AA-notification-settings.xml L3VPN-multi-vendor-iosxe-cli.xml SR-status-codes.xmlIETF-L3NM-internal-plan-kicker.xml L2VPN-cfp-configuration-kicker.xml L3VPN-multi-vendor-iosxr-netconf.xml xe-ip-sla-resource-pool.xmlIETF-L3NM-plan-notification-settings.xml L2VPN-internal-plan-kicker.xml L3VPN-plan-notification-settings.xml xr-sman-id-resource-pool.xmlIETF-L3NM-status-codes.xml L2VPN-multi-vendor-iosxe-cli.xml L3VPN-status-codes.xmlIETF-TE-cfp-configuration-kicker.xml L2VPN-multi-vendor-iosxr-netconf.xml RSVP-TE-status-codes.xml</pre></div></div>Hi Reginald,I see there are 4 updates of this wiki today. I used version 5 command which is \"load merge xml/commit-queue-settings.xml\" instead of \"load merge config/commit-queue-settings.xml. The latest version V6 has the right path.Now I am able to successfully load merge dispatch-map-settings.xml. Thanks for looking into the issue.Glad to hear it!Thanks,Regi"
    },
    {
        "title": "[RONCFPSD-168] Device mapped to different RFS throwing error message & not able to sync",
        "description": "Hi Team,Device mapped to different RFS throwing error message ; not able to sync.TB2-PE-C device is added to RFS-2, but in the sync it's throwing error message for PE-C on rfs-1admin@ncs% request devices sync-fromsync-result {  device rfs-1  result false  info illegal reference devices device rfs-1 config l2vpn-rr-parent-route-policy bgp_in TB2-PE-C device}sync-result {  device rfs-2  result true}admin@ncs% show devices lsa dispatch-mapdevice TB2-P-BOTTOMLEFT {  ned-id   cisco-iosxr-nc-7.4:cisco-iosxr-nc-7.4;  remote-node rfs-2;}device TB2-P-BOTTOMRIGHT {  ned-id   cisco-iosxr-nc-7.4:cisco-iosxr-nc-7.4;  remote-node rfs-1;}device TB2-P-TOPLEFT {  ned-id   cisco-iosxr-nc-7.4:cisco-iosxr-nc-7.4;  remote-node rfs-1;}device TB2-P-TOPRIGHT {  ned-id   cisco-iosxr-cli-7.38:cisco-iosxr-cli-7.38;  remote-node rfs-1;}device TB2-PE-A {  ned-id   cisco-iosxr-nc-7.5:cisco-iosxr-nc-7.5;  remote-node rfs-1;}device TB2-PE-B {  ned-id   cisco-iosxr-nc-7.5:cisco-iosxr-nc-7.5;  remote-node rfs-1;}device TB2-PE-C {  ned-id   cisco-iosxr-nc-7.5:cisco-iosxr-nc-7.5;  remote-node rfs-2;}device TB2-PE-D {  ned-id   cisco-iosxr-cli-7.38:cisco-iosxr-cli-7.38;  remote-node rfs-1;}device TB2-PE-E {  ned-id   cisco-iosxr-cli-7.38:cisco-iosxr-cli-7.38;  remote-node rfs-1;}device rfs-1 {  ned-id cisco-nso-nc-5.7:cisco-nso-nc-5.7;  local;}device rfs-2 {  ned-id cisco-nso-nc-5.7:cisco-nso-nc-5.7;  local;}admin@ncs% exitadmin@ncs> show devices listNAME       ADDRESS    DESCRIPTION NED ID       ADMIN STATE-----------------------------------------------------------------------------TB2-P-BOTTOMLEFT 10.194.63.192 -      cisco-iosxr-nc-7.4 unlockedTB2-PE-C     10.194.63.196 -      cisco-iosxr-nc-7.5 unlockedadmin@ncs> show devices listNAME        ADDRESS    DESCRIPTION NED ID        ADMIN STATE--------------------------------------------------------------------------------TB2-P-BOTTOMRIGHT 10.194.63.193 -      cisco-iosxr-nc-7.4  unlockedTB2-P-TOPLEFT   10.194.63.190 -      cisco-iosxr-nc-7.4  unlockedTB2-P-TOPRIGHT   10.194.63.191 -      cisco-iosxr-cli-7.38 unlockedTB2-PE-A      10.194.63.194 -      cisco-iosxr-nc-7.5  unlockedTB2-PE-B      10.194.63.195 -      cisco-iosxr-nc-7.5  unlockedTB2-PE-D      10.194.63.214 -      cisco-iosxr-cli-7.38 unlockedTB2-PE-E      10.194.63.213 -      cisco-iosxr-cli-7.38 unlocked",
        "comments": "Setup details:CFS-10.194.63.169RFS1-10.194.63.170RFS2-10.194.63.242Credentials: admin/Vtsisco@123!Hi RageshIt looks like the device was moved from one rfs node to another.Can you please let us know the exact steps you followed?Thanks.Hi Nikhil,Devices are onboarded to NSO via DLM-NSO sync, first time TB2-PE-C onboarded on rfs-1 ; the second time while attaching the device are onboarded to rfs-2.Hi Nikhil,We need the server for sanity, Please let us know the status of the issue.Hi RageshIt looks like an issue and we are checking it. The parent route policy is not getting cleared during the clean-up/deletion of the service.For a workaround, please delete the parent route policies from both the rfs node(steps below) and then do the device sync-from.<ol>\t<li>Go to the rfs node.</li>\t<li>unhide tsdn</li>\t<li>delete l2vpn-rr-parent-route-policy</li>\t<li>commit</li></ol>Let us know if that resolves the issue.Thanks.Hi RageshPlease let us know if you were able to do the devices sync-from using the above steps.We have also created an internal Jira ticket() to look into the issue.Thanks,NikhilHi Nikhil,As discussed, raised bug for the issue, Please take a look on the issue.Closing the issue. Cdet() has been filed for this issue."
    },
    {
        "title": "[RONCFPSD-31] Should Redeploy work for Zombie services?",
        "description": "A service is created \u2013 then the device is moved out of sync, the service is then deleted and it moves to Failed state in CNC, zombie state in NSO.At this point the restconf APIs for redeploy, redeploy-reconcile etc stop working and return a 404 \u2013 (As the service is in zombie state), and I see these options are gone from NSO UI too. Cleanup works and is able to remove the service from NSO. We think this is expected behavior, by design.Dinesh(submitter) thinks - Although, The sync-from or sync-to operations at the service level actions should bind service config in-line between CNC and NSO and thus the Re-deploy at that point should be successful. Which should also be confirmed with NSO team.Can you comment on what operations are applicable at this state? And if something else should be done to make redeploy work here?",
        "comments": "Hi Mukul,Could you help list NSO API's which were used?It would help if it followed the flow as described in the ticket here.Thank youThe ticket started on a different note, and the things mentioned there in the description are not entirely accurate. Please refer to the flow I mentioned below - that's all we want to confirm.A service is created then the device is moved out of sync, the service is then deleted and it moves to Failed state in CNC, zombie state in NSO.The following actions are AWLAYS available from cnc (because we don't have the ability to determine what is applicable) - (out of these clean-up seems to work)-Check-sync -<serviceKey>/check-syncRe-deploy - <serviceKey>/redeployRe-deploy dry-run<serviceKey>/redeploywith dry-run requested in bodyRe-deploy-reconcile<serviceKey>/redeploywith reconcile requested in bodyReactive-redeploy <serviceKey>/reactive-re-deployOf course the above actions fail as the node <serviceKey> above is not available. While other actions like clean-up - (just added example for l2vpn)(Takes service-name in body)but basically all actions which don't use the node itself -are working.Hi Mukul,Referring back to the support email thread from June 10th 2021 with subject line:RESTCONF API's for service level actionsError-recovery and Cleanup are the 2 API's that require service name and not serviceKey.For deletion failure, if the service goes in zombie state, there are 2 options/route to take: 1) Device does not come back online - cleanup NSO using cleanup action 2) Device has come back up and user wants to cleanup the service from device as well - use error recovery actions.Note: Zombie resurrection is not supported. Refer to point 11 on the release notes page:Please refer to the link below as an example for point 2:After the call with Dinesh this morning, he had a question asking what the difference between redeploy and error-recovery:sync-to.The major difference here being:1.) redeploy will only try to push the updated part of the config to the device if there is any modification to begin with using fast map. Thus, if the service is not updated, redeploy will not push any new change on the device.2.) Error-recovery:Sync-to will try to sync the device and push the whole config from NSO\u2019s device tree to the actual deviceHeld a call with Mukul as well as Dinesh to explain zombie clean up action. Referenced the support thread from 10th June 2021 to show only Error-recovery and Cleanup actions use \"service name\" and not \"serviceKey\". Explained the difference between re-deploy and error-recovery. Closing call was handled by Linh Ly on August 3rd 2021."
    },
    {
        "title": "[RONCFPSD-197] Provision status should not change if no config change on device with transactional commit failure",
        "description": "Steps:1. Edit an L2VPN service by changing locator name to be an invalid one (with space in the string) from Service Manager2. From Commit manager -> Click Commit -> Yes CommitAn Error repot pops up as expected (screenshot attached)3. Click \"Close\"4. Now the Plan showed failed from Configuration Editor.The configuration on device has no change due to this failure. Should the provision status remain the same as before commit because this commit is in transactional mode.The confusing part presents on CNC UI, is after users see this error message. User select Cancel -> Leave. And see the provisioning state as \"Failed\". But in fact there is no changes on the device. ",
        "comments": "playload attached. Hi Crystal,There has been much debate with the NSO platform team about whether no-CQ service failures should result in plan showing failed state. You can read more about the discussion here : To summarize, the conclusion was that the platform team determined that plan should show failed status when no-CQ transaction fails and is aborted, even if there is no southbound change.The behavior you have described is expected in accordance to behavior defined by NSO platform team. To recover your service state, you can follow our error recovery procedure : For your case, because nothing was pushed southbound (and assuming there was no out of band changes), to fix service plan state, simply re-deploy the service.Please let me know if you have any additional questions.Thanks,Isaac KimHi Isaac, don't have access to .  Could you include the transcripts of that ticket here?Hi Srinivasan,There doesnt seem to be a way to post the entire transcript, but here is a snippet from the platform team describing the behavior mentioned above:I would say that this works as expected since the failed leaf has the following description: <tt>This leaf is present if any plan component in the plan is in a failed state; i.e., a state with status 'failed', or if the service failed to push its changes to the network.</tt> <tt>I think the reasoning behind setting the failed leaf even for a non-CQ commit is that we want it to behave the same way in both cases. And as the description of the failed leaf says the push of changes to the network has failed in both cases, so it should be set in both cases.</tt> <tt>It is worth noting that the failed leaf can also be set by the side effect queue if a side effect fails for some reason. So even if we would not set the failed leaf for non-CQ commits if might happen that the side-effect queue will set the failed leaf.</tt>Thanks,Isaac KimHi,Please let me know if the error recovery procedure that was recommended fixed the plan state.Thanks,Isaac KimExpected behavior according to NSO platform team."
    },
    {
        "title": "[RONCFPSD-183] CLI NED does not work at all",
        "description": "admin/Public12345!",
        "comments": "Hi Yevgeny,I accessed to your NSO and changed PE-A to cli and it works fine. Please see the attachedThanks,LInhI am going to close the tick if I don't see any update in next few days.Thanks,Linh"
    },
    {
        "title": "[RONCFPSD-19] RON Failed plan \"status-code-detail\" has device name in incorrect key",
        "description": "Generally when we have a failed plan for a service, there is a section called \"status-code-details\" - and it has per device information about the error. In this section the name of the device is generally in \"impacted-device\" - but for a failed RON plan the name of the device is in \"name\".Because we have a screen in CNC that relies on this information - our logic is breaking because of changed key. Is this something that can be corrected?Attached: JSON representation of RON failed plan showing the name of the device as \"name\"Attached: CNC screen which relies on this JSON - with empty device name - because it expected \"impacted-device\"",
        "comments": "Hi Mukul - could you please provide the steps to reproduce and also the NSO payload for which you landed into the above issue.Here is the NSO payload - { \"cisco-ron-cfp:ron-ml\": {  \"mode\": \"transponder\",  \"name\": \"BLUE_OLS_BTMLFT_TPRT_400_TR\",  \"dac-rate\": \"1x1\",  \"bandwidth\": \"400\",  \"end-point\": [   {    \"end-point-device\": \"P-BOTTOMLEFT\",    \"terminal-device-packet\": {     \"interface\": [      {       \"index\": 0,       \"ip-address\": {        \"v4\": \"20.20.10.46/30\"       }      }     ]    },    \"terminal-device-optical\": {     \"line-port\": \"0/0/0/1\",     \"transmit-power\": -90    }   },   {    \"end-point-device\": \"P-TOPRIGHT\",    \"terminal-device-packet\": {     \"interface\": [      {       \"index\": 0,       \"ip-address\": {        \"v4\": \"20.20.10.45/30\"       }      }     ]    },    \"terminal-device-optical\": {     \"line-port\": \"0/0/0/1\",     \"transmit-power\": -90    }   }  ],  \"grid-type\": \"100mhz-grid\",  \"circuit-id\": \"2\",  \"ols-domain\": {   \"service-state\": \"UNLOCKED\"  } }}Steps to reproduce are just execute the payload - and if the plan fails - then the failed plan doesn't match the regular TSDN CFP schema.I would just say that we should see if the failed plan construction differs from the TSDN CFP failed plan.Because I don't have absolute steps to make the service fail.Here is that section from a sample L3vpn failed plan with key as \"impacted device\"So did you send commit-queue parameters when executing the RON payload?These are being created using HTTP PATCH using CNC RESTCONF - which should be a wrapper over NSO restconf on URLWe're not specifying commit-queue parameters anywhere.Hey Mukul,I tried reproducing using the above payload but not able to fail the plan. Could you please provide the details of your nso server or share logs.Please use NSO as readonly. It is at admin / Public1234! Here you can find the service - BLUE_OLS_BTMLFT_TPRT_400_TRI also attached screenshot of the plan from both RON-ML and a normal L3VPN - one has impacted device in NSO.. one doesn'tSSH: nso552/Public1234!!Please use readonly. I don't own this NSOHi Mukul,Thanks for providing the server but its lot of information and was not so useful. We were looking at way to reproduce the issue as with the payload we couldn\u2019t reproduce. Anyhow I have opened an internal Jira ticket() for further analysis and fixing the issue in later build. I will go ahead and close this support ticket. Let me know if you have any doubts.HI Mukul, I am closing this ticket as i have opened an internal ticket to address this issue. Kindly see the comments section for more details.Thanks Mohit. I'm not able to view the other JIRA ticket. Please keep me updated with the status of the issue."
    },
    {
        "title": "[RONCFPSD-222] LSA setup found issues",
        "description": "Hi,Installed an LSA setup and installation seems to be OK for both CFS and RFS nodes.However when I deploy services I see they all have incomplete plans with no error info. Can you please advise.Plan examples:Setup details:nso-ucs-haim1-vm1 (10.56.58.44)\u00a0\u00a0 \u00a0\u00a0 CFSnso-ucs-haim1-vm2 (10.56.58.122)\u00a0\u00a0 \u00a0RFS1nso-ucs-haim1-vm3 (10.56.58.128)\u00a0\u00a0 \u00a0RFS2Credentials: nso5721/ Public1234! SSH:\u00a0nso5721/ Public1234!Shlomi",
        "comments": "Hi Sholmi,In the system provided, the subscription name is tsdn-kicker-events.Please note that it is rfs-kicker-events as per our wiki.I have already changed in your system. For ref:set devices device {rfs-node} netconf-notifications subscription rfs-kicker-events stream kicker-events local-user admin store-in-cdb trueI see the plan should be working as intended now.I will close this ticket if you see the issue is resolved.Thank youSahithiHi Sahithi,It seems to be working as expected now, thanks again for your help.ShlomiHi Shlomi,Your Welcome. Will be closing this ticket.ThanksSahithi"
    },
    {
        "title": "[RONCFPSD-544] Need XML payload to delete the performance measurement from Sr policy or ODN policy",
        "description": "Hi Nso team,we are using below payload to configure SR-PM for SR policies or ODN policies.from NSO UI, i am able to delete the Performance measurement . but i would need XML payload to remove the performance-measurement.can you please provide payload for the same? <config xmlns=\"http://tail-f.com/ns/config/1.0\"><sr-te xmlns=\"http://cisco.com/ns/nso/cfp/cisco-tsdn-sr-te\"><policies xmlns=\"http://cisco.com/ns/nso/cfp/cisco-tsdn-sr-te-sr-policies\"><policy><name>L2NM-EVPN-SRTE-112-712</name><head-end><name>NCS55A2-SDN-112</name></head-end><tail-end>126.1.1.30</tail-end><color>722</color><binding-sid>722</binding-sid>    <performance-measurement>     <liveness-detection>      <profile>SrPolicyLiveness2</profile>      <invalidation-action>none</invalidation-action>      <logging>       <session-state-change/>      </logging>     </liveness-detection>  <reverse-path-label>722</reverse-path-label>    </performance-measurement>    <!--performance-measurement>     <delay-measurement>      <profile>DelaySrPolicy</profile>      <logging>       <delay-exceeded/>      </logging>     </delay-measurement>     <reverse-path-label>722</reverse-path-label>    </performance-measurement--><path><preference>1</preference><dynamic><metric-type>igp</metric-type><pce /></dynamic></path></policy><policy><name>L2NM-EVPN-SRTE-30-712</name><head-end><name>ASR9901-SDN-30</name></head-end><tail-end>126.1.1.112</tail-end><color>712</color><binding-sid>712</binding-sid>    <performance-measurement>     <liveness-detection>      <profile>SrPolicyLiveness2</profile>      <invalidation-action>none</invalidation-action>      <logging>       <session-state-change/>      </logging>     </liveness-detection>  <reverse-path-label>712</reverse-path-label>    </performance-measurement>    <!--performance-measurement>     <delay-measurement>      <profile>DelaySrPolicy</profile>      <logging>       <delay-exceeded/>      </logging>     </delay-measurement>     <reverse-path-label>712</reverse-path-label>    </performance-measurement--><path><preference>1</preference><dynamic><metric-type>igp</metric-type><pce /></dynamic></path></policy></policies></sr-te></config>Thanks,Arun.M.G",
        "comments": "Connected with customer, requested for a call to create/verify the payload.To repharse my question:I would need to Disassociate ( delete) the Performance measurement from SR-POlicy.i would need to do the below action via Payload. policy srte_c_653_ep_126.1.1.128  performance-measurement  no delay-measurementor policy srte_c_653_ep_126.1.1.128  no performance-measurementThanks,Arun.M.GI dont want to delete any PM profiles ( ie., global profile). Please try payload as below,<sr-te xmlns=\"http://cisco.com/ns/nso/cfp/cisco-tsdn-sr-te\"> <policies xmlns=\"http://cisco.com/ns/nso/cfp/cisco-tsdn-sr-te-sr-policies\">  <policy>   <name>L2NM-EVPN-SRTE-112-712</name>   <performance-measurement xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\"                nc:operation=\"delete\"/>  </policy> </policies></sr-te>Customer confirmed above payload works.Steps to retrieve XML payload for deletes.1.Log into NSO.2.Type in delete command needed for the delete. Do not commit.3.Run the command: show | compare | display xmlThis will generate related delete payload.Resolving ticket."
    },
    {
        "title": "[RONCFPSD-550] Error recovery Action for slice sync-to/sync-from",
        "description": "1. Create a slice contains PE-B as one of the SDPs2. Make PE-B out of sync.3. Edit the slice and commit to make the provisioning status = Failed4. Do \"Check-Sync\" action from transport slice table from CNC UI5. Do \"Sync-to\" action from transport slice table from CNC UI  It returns \"success\": false (screenshot attached for more detail)  But the provisioning status for the slice changed from Failed to Successful.   Question 1: Should the Sync-to response be \"success\": true?6. Check audit log on NSO under /var/log/audit   Question 2: I do not see either \"check-sync\" or \"sync-to\" action in audit.log. In order NSO release, we were able to validate the NSO action in audit.log. Is there changes in 6.0?  Question 3: is /var/log/audit the correct location for nso audit.log?",
        "comments": "Hi Crystal,1 : Please refer to the following Error Recovery Procedure . As out-of-sync is considered as a Persistent Failure , this will require manual intervention from the user to correct itself. Please refer to steps under Persistent Update Failure Recovery Flow.2 ; 3 : Please find the logs under /opt/log/ncsRegards,Nishad SubairHi Nishad,/opt/log/ncs does not seem to exist. Can you confirm the audit.log location again?# cd /opt/log/ncs-bash: cd: /opt/log/ncs: No such file or directoryThanks.-CrystalHi Crystal,As discussed , the latest audit logs are available under /var/log/ncs after the ncs restart.Please verify.Thanks,Nishad Subair.Hi Nishad,I am able to see the audit.log under /var/log/ncs after the ncs restart. From the chat, I understand \"you don't see the most current log due to linux log rotation setting if the ncs is running since some days.\". Is there any config change can be done to make the most current log visible instead of restart ncs?Thanks.-CrystalHi Crystal,In some cases , once the logs are rotated, NSO logging is not resumed until you either restart NSO or reload NSO.This is default behavior.You can check more on log rotate configs.Thanks And Regards,Nishad Subair.Here are some more observations in the audit log while make the NSO error recovery request from CNC:1. Actions show in audit.log Check-sync Re-deployReactive-Re-deployClean-up2. Actions NOT show in audit.logSync-toSync-from( as you stated in the chat, sync happens internally and in that case you might not be able to see sync action in log)3. Actions show partial info.Re-deploy dry run: in the log see \"re-deploy\" but no \"dry run\"\"INFO> 13-Sep-2023::00:17:52.023 nso-193 ncs: audit user: root/1221731 RESTCONF: request with https: POST /restconf/data/ietf-network-slice-service:network-slice-services/slice-service=Test-L3-106/re-deploy HTTP/1.1 trace-id=87e67403-99c5-40f9-9467-2326a5aac83d\"Question: Should #3 log \"re-deploy dry run\" in the audit.log because from user's point of view, it is a different action that user request. If we use the same string, it is harder to trace based on the current audit.log.Hi Crystal,Regarding the Question #3 :dry-run is POST data in the redeploy request and post data would not be logged in audit log.Thanks And Regards,Nishad Subair.Hi Crystal ,As discussed , marking the ticket Done.Regards,Nishad Subair."
    },
    {
        "title": "[RONCFPSD-236] LSA HA Custom Template",
        "description": "Please confirm in the case of CFS-HA and RFS-HA where should be the custom template load xml files has to be created.",
        "comments": "Hi Dinesh, Custom-template must load on RFS nodes ONLY.Thanks,LinhHi Linh,I understand that for the appropriate device config extend, the template has to loaded at it's appropriate RFS node where the device is present.Please correct me If i'm wrong.Thanks,DineshYou are correct, Dinesh.-LinhHi Dinesh,I will close this issue in a few days if there is no update from your side.Thanks,LinhHi Linh,The created custom templates are unable to remove. From NSO the names of the templates are still lists out even after removing them from the following location.cd /var/opt/ncs/packages/custom-templates/templatesroot@ubuntu-10-194-57-50:/var/opt/ncs/packages/custom-templates/templates# ls -lrttotal 8<del>rw-r</del><del>r</del>- 1 root root 440 Apr 29 00:58 ct-logging.xml<del>rw-r</del><del>r</del>- 1 root root 557 Apr 29 01:16 ct-mtusize.xmlroot@ubuntu-10-194-57-50:/var/opt/ncs/packages/custom-templates/templates# rm -rf *Performed sudo NCS_RELOAD_PACKAGES=true /etc/init.d/ncs restart and sudo NCS_RELOAD_PACKAGES=force /etc/init.d/ncs restartNSO: 10.194.57.185 admin/Ovatest123@Enclosed is the comit-error when trying to apply those actual removed templates.Hi Dinesh,I debugged your setup yesterday and still saw a lot of CPU lock message. It could be because of that and CDB in a inconsistent between CFS and RFS.  Could you please fix your system resource first? and Then start from fresh to see the issue is reproducable.Thanks,LinhHi Dinesh, There one step that you miss after removing custom-template from tar.gz file. You need manually to delete this custom-template from ncs_cli prompt.admin@ncs% unhide debugadmin@ncs%delete custom-template-info <custom-template-name>Thanks,LinhHi Linh,This works fine. I was able to delete custom templates info.Thanks,DineshClosed since it need manually to delete custom-template-info"
    },
    {
        "title": "[RONCFPSD-578] Not able to create a slice with Loopback interface.",
        "description": "Observed the below error, while creating a slice with Loopback interface.Error snippet:----------------Problem while provisioning the slice[{\"Message\":\"/network-slice-services/slice-service{slice_30}/sdps/sdp{1}/attachment-circuits/attachment-circuit{1}/ac-tp-id (value \\\"Loopback30\\\"): ac-tp-id 'Loopback' is not supported with ac-tags 'attachment-circuit-tag-vlan-id'\",\"nsoResponse\":\"/network-slice-services/slice-service{slice_30}/sdps/sdp{1}/attachment-circuits/attachment-circuit{1}/ac-tp-id (value \\\"Loopback30\\\"): ac-tp-id 'Loopback' is not supported with ac-tags 'attachment-circuit-tag-vlan-id'\"}]Note: Getting the same error while trying to create a slice with Loopback 0 or any other interface ID.",
        "comments": "Hi Renuka, this seems like a proper validation error message. Seems like the config you are trying to provision is not supported.I have found the exact validation and related ticket CDETS here : Related JSD :Seems like this validation was added as part of this CDETS ticket.Is there any ask to remove this validation? If not, I think we can junk this ticket.Thanks,Isaac Kim"
    },
    {
        "title": "[RONCFPSD-587] L3 NM service provisioning error while using jsonrpc",
        "description": "Validate transaction errors while provisioning L3 NM service using jsonrpc APIs.Issue is observed in CNC Provisioning (NSO) UI, as well as using NSO GUI.Note: There is no issue in provisioning L3 NM service through NSO CLI. But services are stuck in in-progress state (On some setups)Request:jsonrpc/validate_transResponse:{  \"jsonrpc\": \"2.0\",  \"error\": {    \"type\": \"trans.validation_failed\",    \"code\": -32000,    \"message\": \"Validation failed\",    \"data\": {      \"errors\": [        {          \"reason\": \"Python cb_validate error. '{L3-NM-SERVICE-3-NODES} not in /l3nm:l3vpn-ntw/vpn-services/cisco-l3nm:vpn-service-plan'\",          \"paths\": [            \"/l3nm:l3vpn-ntw/vpn-services/vpn-service{L3-NM-SERVICE-3-NODES}/vpn-nodes/vpn-node{cp00}\"          ],          \"path\": \"/l3nm:l3vpn-ntw/vpn-services/vpn-service{L3-NM-SERVICE-3-NODES}/vpn-nodes/vpn-node{cp00}\"        }      ]    }  },  \"id\": 295}Error details attached .",
        "comments": "Fixed in drop 2."
    },
    {
        "title": "[RONCFPSD-292] cant give long name to 5G slice ",
        "description": "hi, I tried to provision network slice with name \"L3-Dedicated-520\", and it faild, since the underlying flat-l3vpn name got to long in one of the fields (maybe the vrf), since it is adding twice the word \"internal\". This limits the customer ability in giving meaningful name to the slice. server you can look 10.56.58.145 (nso574/Public1234!)",
        "comments": "Hi ldan,We're planning to remove Flat-L3 for 5.0 so it wouldn't be an issue in future builds.ThanksPriyankafuture builds will have fix for CNC 5.0"
    },
    {
        "title": "[RONCFPSD-286] NSO Service manager UI doesn't list the Custom FP",
        "description": "NSO: 10.195.165.55 admin/Ovatest123@After updating Custom FP in NSO path /var/opt/ncs/packages and reload success (with ignore validation ) , NSO CLI shows the Custom FP(show packages package package-version/oper status) , but NSO Service manager UI doesn't list the Custom FP. Would you please check",
        "comments": "Hi Ajitha,Your packages don't seem to be compiled correctly. They're are missing the \".fxs\" binary files which are used by NSO to load the models. Typically, they're located under a folder called \"load-dir\" at the root of the package.So for the L2NM package we have the following as an example:<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>ietf-l2vpn-nm/load-dir/ietf-l2vpn-ntw-cisco-augmentations.fxsietf-l2vpn-nm/load-dir/ietf-ethertypes@2019-03-04.fxsietf-l2vpn-nm/load-dir/ietf-routing-types@2017-02-19.fxsietf-l2vpn-nm/load-dir/ietf-vpn-common.fxsietf-l2vpn-nm/load-dir/ietf-vpn-common-oper-status-aa-ext.fxsietf-l2vpn-nm/load-dir/ietf-l2vpn-ntw-nano-services.fxsietf-l2vpn-nm/load-dir/ietf-l2vpn-ntw.fxsietf-l2vpn-nm/load-dir/ietf-l2vpn-ntw-deviations.fxsietf-l2vpn-nm/load-dir/ietf-packet-fields@2019-03-04.fxsietf-l2vpn-nm/load-dir/ietf-inet-types@2010-09-24.fxs</pre></div></div>Let me know if you have anymore questions.Thanks,Regi"
    },
    {
        "title": "[RONCFPSD-537] CFS NSO node package reload took infinite time",
        "description": "Hi,I am trying to bringup the LSA NSO setup which has DLM package missing initially on CFS and RFS . After adding to /opt/ncs/packages and soft linked to /var/opt/ncs/packages, I tried request reload packages from ncs_cli. It took infinite time, never stopped the process. Later it seems aborted.After that I observed, some of the core packages and dlm package status is not up. To recover from the state, we restarted the node from vm center which eventually showed the all status are in up state. Didn't observed the same problem on RFS Node. DLM package installation went fine. NSO setup details:CFS: ubuntudoc@172.29.10.6RFS: ubuntudoc@172.29.10.7    ubuntudoc@172.29.10.8pwd: ubuntudocAnother observation: LSA installation setup guide does not include dlm package installation details. Can this be added ? ",
        "comments": "HiDedeepya,Took a quick look at your setup. The VM sizes are way under recommended. For bare minimum lab use, it should be 8 vCPU, 64 GB RAM, 200 GB HDD. Your VMs are running with 4 vCPU, ~16GB RAM, 100GB HDD. This explain why your system operation is so slow.Please upsize your VMs then we can go from there. Currently the cluster is not even formed correctly.ubuntudoc@ncs> show cluster LAST RECEIVED NAME NAME STATUS EVENT NOTIFICATIONS -------------------------------------------rfs-1 rfs-2REMOTE LOCAL REMOTE NODE ADDRESS PORT CHANNELS USER USER STATUS TRACE ----------------------------------------------------------------------rfs-2 172.29.10.8 2022 - cisco cisco down disabled rfs-1 172.29.10.7 2022 - cisco cisco down disabledAnother point, the LSA installation instruction you pointed out was created for TSDN installation only. Since DLM, TM-TC, NCA are folded under NSO CFP group in CNC 6.0, we will update the procedures to include them.You can also install packages from latest Crosswork > NSO Deployment Manager >NSO Function Pack Bundles.Thanks Van for looking into it. We will increase to recommended size. Reg documentation as a general release note, please update the teams once it is available We can mark this resolved for now. Thanks Dedeepya. I am closing the ticket.Installation wiki was updated to include CLM, TM-TC, and NCA packages.Recommended VM size can be found in EC deck.Installation wiki was updated to include CLM, TM-TC, and NCA packages.Recommended VM size can be found in EC deck."
    },
    {
        "title": "[RONCFPSD-251] When device credentials are being checked",
        "description": "Hi,Were trying to get to the bottom of CSCwb79704 - Playbook is able to run (UI or API) with wrong device credentials.Neha investigated it and saw that the credential check happens only when the new configuration is new and does not exist on the device, however, when it is already exists on the device, credential check is not performed as no config is pushed to the device. Is this logic part of NSO? Is it documented somewhere?Thanks,Mirel.",
        "comments": "Hi Mirel,Yes , NSO checks for credentials only when there is a difference.When the config already exists on the NSO then it does not perform the operation since there is no diff.Thanks and Regards,Nishad Subair,Thanks for the confirmation. Is this documented in any NSO guide/wiki/doc?In the cdet CSCwb79704, user is trying to configure the attached service and we see that the service gets configured even if he passes wrong credentials for the devices. I am not completely sure what the service is trying to configure here, but it works with wrong device credentials even for the first time. From NCA playbook, we have verified that the credentials entered by the user are being set in NSO. Can you please take a look and let us know if device cred check is expected here or not. Hi Neha,I am not sure if the config is being pushed to the device here, looking at the template. To confirm, can you provide the complete NSO logs with xpath trace and trace enabled on the device? Or provide the setup with error.NSO throws an error only when there is an attempt to connect to the device. NSO can connect to device either via device config push or user trying to connect/sync-from/sync-to manually using the command on device tree. Device config push can be done via service or pushing the config on device from NSO.Please look at NSO getting started guide or the development guide for more info about NSO device manager throwing errors.ThanksSahithiHi Sahithi,Please find below the NSO details, where service has been installed. you can take a look at the logs and also try doing some configurations if needed. Also providing the payload for the config that user has tried to do here:NSO: 172.20.200.70admin/Cwork123!Devices: xrv9k-1 : 192.168.6.50 admin/cisco123xrv9k-2 : 192.168.6.51 admin/cisco123Config:\"params\": {\"config\": {\"tailf-ncs:services\": {\"lowlatencypolicies:lowlatencypolicies\": [{\"devices\": [{\"name\": \"xrv9k-2\",\"tailend\": [{\"color\": 3000,\"forward-class\": 1,\"ipaddress\": \"10.3.0.4\",\"tailendname\": \"xrv9k-1\"}]}],\"name\": \"test\"}]}},\"nso_instance\": \"nso101\",\"operation\": \"configure\",\"path\": \"/ncs:services/lowlatencypolicies:lowlatencypolicies\"Please let me know, if you need anything else from my side.As discussed on the call, NSO exhausts all methods of authentication before throwing connection refused error.Please check NSO guides for more on this behavior.Will be closing the ticket as there is no issue on NSO or TSDN CFP.ThanksSahithi"
    },
    {
        "title": "[RONCFPSD-245] How TSDN 2.0 Packages Handle \"out-of-sync\" devices",
        "description": "Hi Team,Customer environment requires that certain level of provisioning is done outside of the CNC/NSO services which requires a procedure for CNC provisioning the TSDN services that contemplates this scenario.The \"no-out-of-sync-check\" commit option available on the UI seems to cover that requirement of Create and Modify instances but when it comes to deletion, that option is not available leading to an incoherent status since the IETF-L3NM (l3vpn-ntw vpn-service) is deleted but the flat-l3vpn instance fails to delete (and therefore the device configuration is not removed).We end up with zombie entry and flat-l3vpn service plan shows this:ncsadmin@ncs-dectf1nsosrv1# show flat-L3vpn-plan                                                                          POST             BACK                                                           ACTIONTYPE   NAME      TRACK GOAL STATUS CODE   STATE                        STATUS    WHEN         ref STATUS-----------------------------------------------------------------------------------------------------------------------------------------------------------self   self      true  -   -        init                         not-reached -          -  -                            ready                        not-reached -          -  -endpoint DEVLF1SLR01_23 true  -   TSDN-L3VPN-302 init                         failed    2022-05-02T16:56:41 -  -                            cisco-flat-L3vpn-fp-nano-plan-services:config-apply not-reached -          -  -                            ready                        not-reached -          -  - plan failed plan error-info message \"Network Element Driver: device DEVLF1SLR01: out of sync\" plan status-code-detail endpoint DEVLF1SLR01_23 code        TSDN-L3VPN-302 context \"Device out of sync\"  context-msg \"Network Element Driver: device DEVLF1SLR01: out of sync\" severity      ERROR recommended-action \"Check sync between device and NSO, and perform recovery steps.\"Our request is to:Understand what is the correct instance deletion process from UI when the device is out-of-sync;How to recover from this status;</ul>Best Regards,F\u00e1bio Gameiro",
        "comments": "Hi Fabio,For out-of-sync devices - no-networking flag is used to make sure nothing goes to device .Use this flag as true for this case.Please follow this document to understand recovery process.TSDN Error Recovery Scenarios : Hope the above steps helps to understand recovery process.ThanksPriyankaHi Priyanka, Thanks for the clarification. Regarding the \"no-out-of-sync-check\" option is only available on the CNC UI for Edit/Create operations. The delete \"button\", when pressed and upon confirmation, doesn't give the chance to select the \"no-out-of-sync-check\" option (screen in attach) and therefore we will reach a \"out-of-sync\" issue and the deletion wont go through.What is the solution for deletion? Is the solution enabling \"devices global-settings out-of-sync-commit-behaviour accept\" or is there any other option?Regarding the recovery process described in the page you provided I start by seen a discrepancy between, for example, the \"devices global-settings commit-queue enabled-by-default true\" as \"Pre-requisite config settings on NSO .\" when the installation guide actually loads an XML file \"config/commit-queue-settings.xml\" which has \"commit-queue enabled-by-default false\" What are the recommended \"devices global-settings\" settings, namely on the commit-queue? Hi Fabio,As per webex discussion looks like you might need to try out actual CNC 2.0 packages and see if it there you see clean up action problem.We have gone over what all is supported by NSO and CNC UI for CNC 2.0 .I have tried to cover all your questions in webex.As per your confirmation i will close this ticket .ThanksPriyanka"
    },
    {
        "title": "[RONCFPSD-523] Need info on NSO LSA standalone setup change to HA setup and also upgrade from 5.0 to 6.0",
        "description": "NCS version: nso-6.1.linux.x86_64.installer.binCFP: -tsdn-5.0.0.tar.gzWe have 5.0 CCO image in SH unid setup with 52k services which has L2vpn and l3vpn services with SR/RSVP transports.Need help in below 2 tasks to do:1] Do we have any way/workaround to upgrade from 5.0 to 6.0 along with services migration?2] And also, we have installed NSO LSA setup in 5.0 without HA., do we have any possible to change the same setup with HA ?we shall sync up if needed.Thanks,Arun.M.G",
        "comments": "1] Do we have any way/workaround to upgrade from 5.0 to 6.0 along with services migration?>> TSDN supports core-fp upgrades hence L3 and SR-TE upgrade is supported but not L2, RSVP-TE.2] And also, we have installed NSO LSA setup in 5.0 without HA., do we have any possible to change the same setup with HA ?>> Regarding HA Conversion : Setting up HA is a standard NSO procedure and please refer to NSO documentation.We recommend that user can do following:1. Upgrade setup from 5.0 to 6.0 using guide -> 2. Move the setup from LSA to LSA + HA using NSO documentation here -> nso_admin_guide-6.1.pdf Chapter 7 : High AvailabilityRegards,Janaki DuggiralaHi Janaki,I would need to have NSO LSA HA with L3 deployement. does the \"nso_admin_guide-6.1.pdf Chapter 7 : High Availability\" covers the same?and also, i already have NSO LSA installed and it has services too. wanted to convert that to LSA HA . please provide document for that,thanks,Arun.M.Gcan you please provide me wiki that has steps to do ?Converting to LSA HA is standard NSO procedure, you can use NSO guidenso_admin_guide-6.1.pdf Chapter 7 : High AvailabilityNSO admin guide contains many useful sections and example sets such as Page 87,\"\"\"reference to a container-based example of the combined layer-2 and layer-3 BGP scenario can be found in the NSO example set. See the examples.ncs/development-guide/high-availability/ hcc/README\"\"\"Customer confirmed ticket can be closed at this time since setup is not available."
    },
    {
        "title": "[RONCFPSD-279] Aborted: illegal reference 'core-fp-delete-shutdown-service R1 GigabitEthernet 0/0/0/3 device'",
        "description": "this is the regression job :On task 57 : The policy fails and ends up creating zombies.even after clearing zombies and a series of illegal references and deleting polices, it always ends up reaching this state :admin@ncs>Aborted: illegal reference 'core-fp-delete-shutdown-service R1 GigabitEthernet 0/0/0/3 device'Could you please check what's going wrong where ?Or please clearly mention what are the steps to perform to clear zombie and illegal reference in case of NSO LSA setup and which step to perform on PFS and CFS .showtech for RFS :/auto/ncahi/Users/mesarma/cwork_proj/8june/data_060822_153530.tgzshowtech for CFS :/auto/ncahi/Users/mesarma/cwork_proj/8june/data_060822_153722.tgz",
        "comments": "Hello Meenakshi,We have received several queries about this issue.It is very important for us to know the steps you took prior to this error. Would you be able to describe the steps you took prior to this error to the best of your ability? This way we can try to reproduce and RCA the issue.Thanks,Isaac KimHello Meenakshi,From your console logs for Task 57, I can see that you are making an out-of-band config change on device prior to creating a L2 service with no device sync in between. This will definitely cause out-of-sync error when creating the L2 service. If you take a look at the return string for the error, you can see the message states device R1 is out-of-sync.Also I do not see any error message with Aborted: illegal reference 'core-fp-delete-shutdown-service R1 GigabitEthernet 0/0/0/3 device'. Where do you see this?So far, from what I can see, there is nothing that occurred in your logs that is not expected.Please update with more information.Thanks,Isaac KimHello Meenakshi,For more information on handling zombies, please check : For more information on error recovery, please check : Thanks,Isaac KimHello Meenakshi,Please note, as mentioned in the wiki link above for zombie handling, NSO's native zombie actions, such as re-deploy and resurrect, are not supported by TSDN CFP.Instead please follow the guide on the wiki link for zombie handling. Typically for zombies, error recovery action is used when device is reachable and out-of-sync, cleanup action is used when device is unreachable or reachable and in-sync. For more information on these actions, please explore the wiki page.Thanks,Isaac KimHello Meenakshi,I believe we have been able to provide information on proper zombie handling and recovery options. It seems like we have been able to address your issue. If there is no reply in few days, I will close this ticket.\\Thanks,Isaac Kimyes, understood the zombie handling. Kindly close the ticket."
    },
    {
        "title": "[RONCFPSD-127] RON CFP Inter-link validation is hard",
        "description": "Hi,After many tests with the RON CFP by different teams, the inter-links are proven to be very problematic.We would like to ask for some inter-layer-link actions that would support operations.Example operations (all read-only) are:1- validate all inter-layer-link: Make sure that the UUIDs or \"optical-add-drop\" exist2- list-all-SIPs: for a given TAPI device, list all existing SIP UUIDs and its correspondent inventory data in the format that should be input for \"inter-layer-link\" configuration.We think these actions and similar actions will help on the most common problem with RON CFP installation.Regards,Roque",
        "comments": "Hi Roque,Thanks for reaching out to us and providing the feedback. We will discuss these enhancement requests with the team and get back to you on this.Regards,Linmaohi, any news?Hi Roque,Sorry for the late reply. We have discussed on this internally and we are planning to add 2 new actions to RON CFP:<ol>\t<li>An action to validate all entries in inter-layer-link, this action will return which entry is invalid or all entries are valid;</li>\t<li>An action to print all SIPs/optical-add-drop from a give TAPI device in the expected format for inter-layer-link.</li></ol>The tentative release to include these two actions would be RON 2.0.0-M5 coming in Apr. 15. We will also keep you posted for any updates.ThanksHi Roque,I'm closing this ticket as we have created internal tickets for the enhancement. In M5 (Apr. 15) or M6 (May. 13) you should be able to see in the release note that the new actions have been added.Enhancement will be included inM5 (Apr. 15) or M6 (May. 13)."
    },
    {
        "title": "[RONCFPSD-81] Not able to see the real stats from devices after deploying y1731 service",
        "description": "With NSO 5.5.2.7 + M6 installed, deployed the Y1731 service (please find the attachment for the payloads), after while all the stats still remaining as \"0\".The similar payloads were deployed on NSO 5.5.2.3 + M4 env, it was able to get the real stats.",
        "comments": "  Hello Jason, do you by any chance have the original payloads from your M4 setup? If so, please upload them here!Jason, please also share the output from the following commands given on the device.```RP/0/RSP0/CPU0:PE1#show ethernet sla configuration-errors``````RP/0/RSP0/CPU0:PE1#show ethernet sla statistics``````RP/0/RSP0/CPU0:PE1#show ethernet cfm peer meps```Here are the payloads for NSO5.5.2.3 with M4, after service deploy, we did manual load merge of y1731_device_config_override.xml  Hi Jason, can we also get access to your setup?Hi Reginald, I did check \"show ethernet cfm peer meps\" on the same devices last night it was in Ok (>) state, even that, I did not see the real stats, means the output of \"show ethernet sla statistics\" looks were the same (no real stats). But I saw \"show ethernet cfm peer meps\" turn to error state today.  The NSO info: 172.20.200.112 admin/Cwork123! service name \"new-l2nm-p2p-sr-1\"Hello Jason, we checked your NSO CLI instance and we saw that your \"new-l2nm-p2p-sr-1\" plan is in failed state with out-of-sync device. Please correct this first and check Y1731 probe statistics.  Hi Isaac, I did the device sync, and checked the Y1731 probes, it looks the same. Would you please check? Thank.Hello Jason,After trying few things, we found that your frame size of 2000 exceeded your Interface MTU of 1500. Once we reduced frame size to 1000 connection issues were resolved. We also noticed that changing delay version to 1 fixed the 100% dropped packets. This seems to be specific for NCS5501 device.Apart from this, we confirmed that NSO configuration is correctly pushed to device in accordance to config governance defined schema. As such, NSO\u2019s role was successfully completed. Device level logic and configuration should be analyzed by subject experts (such as why delay version 0 is causing issues on NCS5501, is there an expectation to use delay version 0?)Also please note, your previous payload for M4 used frame-size of 1000 which likely indicates why you did not face connectivity issues.Thanks,Isaac KimHi Isaac, I made the changes as you suggested below, and re-deploy the service, but I still could not the probes coming...Hi Jason,I took a look at your setup. As Isaac mentioned were unable to get delay version 0 to work; however, we were able to get delay statistic working with version 1. If you need delay version 0 to work, then please provide the expected device configuration that you need.Thanks,Regi"
    },
    {
        "title": "[RONCFPSD-95] Y.1731 device config with prefix L2NM-",
        "description": "Can we remove this prefix L2NM- from the device config cfm-domains-domain-services-service? ethernet-features {                cfm {                  domains {domain md-1 {services {service L2NM-new-l2nm-p2p-sr-1 {continuity-check-interval {       -                    ccm-interval 1s;       -                  }cross-check {cross-check-meps {       -                      cross-check-mep 2;       -                    }}service-properties {       -                    service-type p2p-cross-connect;       -                    group-name new-l2nm-p2p-sr-1;       -                    switching-name new-l2nm-p2p-sr-1;       -                    short-ma-name-format number;       -                    short-ma-name-number 100;       -                  }}}domain-properties {       -                level 0;       -                mdid-format null;       -              }}                  }                }              }</ul>",
        "comments": "What issue is the prefix causing? The prefix is used to determine whether the config was initially created by which serviceWhy we change the \"service\" Id? should it match to the \"vpn-service\"-\"vpn-id\" in service configs? In this case it is \"new-l2nm-p2p-sr-1\".The device configuration is pushed by the internal service, so it pick up the internal service name there. We do this concatenation to determine if the config was pushed by L2NM services or directly from flat-L2vpn service.Why we need to determine this on the device configs level? Who will consume this device config level info (it is pushed by IETF or Flat model)? From AA perspective, it will be more straight forward to match the cfm \"service id\" on device config to the \"vpn-id\" in the L2NM service config.Please file a CDETs. We can consider removing the concatenation.Closing ticket, since this issue is now handled by CDETs, "
    },
    {
        "title": "[RONCFPSD-133] Fail to get NSO 5.7 installer with 401 Unauthorized error",
        "description": "Use the following command to get NSO installer, but fail with 401 error. Can you give me the permission to get the files?root@nso-147:~/nso57# wget --no-check-certificate -<del>2022-02-13 18:27:09</del>- Resolving earth.tail-f.com (earth.tail-f.com)... 10.147.45.20Connecting to earth.tail-f.com (earth.tail-f.com)|10.147.45.20|:8443... connected.WARNING: cannot verify earth.tail-f.com's certificate, issued by \u2018CN=HydrantID Server CA O1,OU=HydrantID Trusted Certificate Service,O=IdenTrust,C=US: Unable to locally verify the issuer's authority.HTTP request sent, awaiting response... 401 Unauthorized",
        "comments": "Hi Crystal,I will forward this request to someone who has access to these permissions.Will update this ticket if there is any progress.Thanks,Isaac KimHi Crystal,It seems like earth.tail-f uses CEC ID and Password for access.This means you would be able to access the link using:wget --user <CEC USER ID> --password <CEC USER PASSWORD> <TAIL-F EARTH LINK> --no-check-certificateI have tested this and it seems to work for me. Please let me know if you have any other questions or concerns.Thanks,Isaac KimThanks Isaac,The command works for me. There is one extra thing that I need to do which is to put \"\\\" in front of the special character in my password. Thanks again for your timely response and the solution.-Crystal"
    },
    {
        "title": "[RONCFPSD-480] NSO session getting expired when clicking on bgp routing policy under L3VPN",
        "description": "NSO session getting expired when click on bgp routing policy under L3VPN service.Setup details 10.22.179.240 - xrd1/Cwork123!Same issue seen for other RSVP tunnel",
        "comments": "Hi Murali,This was a known NSO GUI bug for NSO 6.X engineering builds. As mentioned in the past, we do not recommend doing any service provisioning or service config modification on NSO GUI until official NSO 6.X build is released.For the GUI bug itself, we have already created a platform RT to resolve the issue and platform engineers are working on a solution.As we have already instructed in the past to avoid NSO GUI service provisioning for NSO 6.X engineering builds, I will close this ticket as invalid.Thanks,Isaac KimNSO 6.X ENG WebUI is known to be unstable. This is one of the currently known failure cases. Invalid as we have already instructed all users to avoid NSO WebUI for service provisioning due to instability."
    },
    {
        "title": "[RONCFPSD-494] NSO L3NM FP VPN endpoint port-id  attribute does not supports Tunnel-IP",
        "description": "I am trying to provide a Tunnel interface while configuring L3VPN. Looks like the port-id attribute is not allowing the type tunnel-IP. As per the yang, it seems string.ietf-l3vpn-nm --> ietf-l3vpn-ntw.yang(container vpn-network-accesses -> leaf port-id is referring -> l3vpn-svc:svc-id from ietf-l3vpn-svc@2018-01-19.yang) Inside the yang file : ietf-l3vpn-svc@2018-01-19.yang the leaf svc-id is declared as below.  typedef svc-id { type string; description \"Defines a type of service component identifier.\"; }Also observed Tunnel-interface is not provided as an option in the dropdown of CNC UI (Services ; Traffic EngineeringProvisioning -> L3VPN/L3vpn-Service)Setup Details:==========CNC Versions: Crosswork Image Version: release-4.4.0 (Build 250) and Crosswork Infrastructure Version: 4.4.1 (Build rc.3)COE Version: v4.1.1-rc.5+build.10NED Version: cisco-iosxr-cli-7.40admin@ncs# show ncs-state | include versionncs-state version 5.7.6admin@ncs# show packages package package-versionNAME             PACKAGE VERSION-----------------------------------------------aws-common-actions      2.3.1aws-infoblox-provision    1.9.2aws-pedc-tunnel-actions    1.3aws-pedc-tunnel-service    2.1aws-tunnel-actions      2.2aws-tunnel-service      2.1cisco-aa-service-assurance  4.1.0cisco-cnfo          1.1.0cisco-flat-L2vpn-fp      4.1.0cisco-flat-L2vpn-fp-internal 4.1.0cisco-flat-L3vpn-fp      4.1.0cisco-flat-L3vpn-fp-internal 4.1.0cisco-ios-cli-6.77      6.77.9cisco-iosxr-cli-7.40     7.40.1cisco-iosxr-cli-7.46     7.46.4cisco-iosxr-nc-7.6      7.6cisco-iosxr-nc-7.7      7.7.1cisco-rsvp-te-fp       4.1.0cisco-sr-te-cfp        4.1.0cisco-sr-te-cfp-internal   4.1.0cisco-tsdn-core-fp-common   4.1.0cnfm-nc-1.1          1.1config-inventory       1.2core-fp-common        1.30.0core-fp-delete-tag-service  1.0.5core-fp-plan-notif-generator 1.0.6custom-template-utils     2.0.9cw-device-auth        4.4.0cw-dlm-fp           4.4.0-nso-5.7.6flat-l2vpn-multi-vendors   4.1.0flat-l3vpn-multi-vendors   4.1.0ietf-l2vpn-nm         4.1.0ietf-l3vpn-nm         4.1.0ietf-te-fp          4.1.0lsa-utils           1.0.1resource-manager       3.5.7sr-te-multi-vendors      4.1.0 ========================================================admin@ncs# show running-config devices device 20.0.1.14 | de-select configdevices device 20.0.1.14address  20.0.1.14device-type cli ned-id cisco-iosxr-cli-7.40state admin-state unlocked!",
        "comments": " Hi Srinivasa,Below are the port types we support in L3NM FP:Bundle-Ether,BVI,FiftyGigE,FortyGigE,FourHundredGigE,HundredGigE,Loopback,TenGigE,TwentyFiveGigE,TwoHundredGigE,,GigabitEthernet,EthernetWe have check to not add other port ids.Yeah i noticed that it allows only the type : Ether,BVI,FiftyGigE,FortyGigE,FourHundredGigE,HundredGigE,Loopback,TenGigE,TwentyFiveGigE,TwoHundredGigE,,GigabitEthernet,Ethernet but not Tunnel-ip. But it was declared as string. Logically it should allow. I guess you guys are validating inside package code.Could you please let us know whether the support for Tunnel-ip is going to be added or not? We have a dependency on this type: Tunnel-Ip. In case we want to customise, Is there any way to do that without impacting the visualization on the topology? Any leads on customisation would be a great help to us. Hi Srinivasa,We do not have any requirement to add tunnel-ip in CNC 6.0. If you believe it needs to added, please create an AHA ticket for CFP to be prioritized by PLM.I am not sure if the customization would be straightforward. First step is to remove the pattern check in the yang, re-compile the package and verify if the tunnel ip is being accepted and configured on the device.ThanksSahithi"
    },
    {
        "title": "[RONCFPSD-443] Does TSDN5.0.0 supports Transport Slicing and Circuit Style policy on XE devices",
        "description": "Does NSO6.1 TSDN5.0.0 supports Transport Slicing and Circuit Style policy on XE devices? ",
        "comments": "Hi Crystal,Please check the TSDN 5.0.0 wiki in detailed documentation for both the features on supported devices.From my understanding, both of the features are not currently supported on XE devices.CS SR is supported only on 7.9.1.Let us know if there is an issue in the wiki.ThanksSahithi"
    },
    {
        "title": "[RONCFPSD-325] NSO Integration Status - NETCONF port",
        "description": "From: Kavipriya Venkatraman -X (kavipven - INFOSYS LIMITED at Cisco) <kavipven@cisco.com> Sent: Tuesday, September 13, 2022 10:57 AMTo: Nirali Vasoya (nvasoya) <nvasoya@cisco.com>; Jason Wycoff (jwycoff) <jwycoff@cisco.com>Cc: infy-crossworkeks-dev(mailer list) <infy-crossworkeks-dev@cisco.com>; Rajesh Tupakula -X (rtupakul - INFOSYS LIMITED at Cisco) <rtupakul@cisco.com>; Srinivas Thirkateh -X (sthirkat - INFOSYS LIMITED at Cisco) <sthirkat@cisco.com>Subject: NSO Integration StatusHi Nirali/Jason,We are testing the EKS NSO Integration on the CW Setup. We have created the NSO setup on EKS and while adding nso in providers in cw setup ui, we see that the HTTPS(8888) and HTTP(8080) ports are reachable but NETCONF port (2022) is not reachable. We are trying to resolve the unreachable issue currently.Thanks and Regards,Kavipriya V",
        "comments": "Hi Kavipriya,Thank you for reaching out.If you need assistance with T-SDN Core Function Pack on EKS, please file ticket HERE.For now, I have filed a ticket on your behalf here: I have a few questions to understand the issue better.1.\tWhat CFP helm chart milestone release are you using for testing? Did you make any updates to the released chart?2.\tWhat was the helm install command used to bring up the instance?3.\tAre you using AWS NLB to reach NSO?4.\tGenerally crosswork components talk to NSO on JSON-RPC and RESTCONF over port 8080 only and that is what is exposed by default. We did not expose port 8888, hence my question, was the chart altered in any way to expose this port? Thanks,NiraliHi Nirali,Thank you for the responsewe have referred this document for installing NSO on eks 1) CNC CFP on EKS 1.0.0 - M3 Release 2) helm install cnc-test cnc-cfp --set persistence.enabled=false --set image.repository=148213121008.dkr.ecr.us-east-1.amazonaws.com/nso-cnc-cfp --set service.annotations.\"service\\.beta\\.kubernetes\\.io/aws-load-balancer-type\"=external --set service.annotations.\"service\\.beta\\.kubernetes\\.io/aws-load-balancer-nlb-target-type\"=ip --set service.annotations.\"service\\.beta\\.kubernetes\\.io/aws-load-balancer-scheme\"=internet-facing 3) yes, aws Nlb is connected with the setup to reach nso 4) sorry 8888 port is also unreachable (only 8080 port is exposed and reachable) but team said that NETCONF port and HTTPS port have to be reachable so that in device NSO will be sync Now devices are not connected to NSO(not in sync) Im not able to access the ticket u have providedThanks and Regards, Kavipriya VHi Nirali,Update on the NSO Integrationhttps was disabled so we made changes in configuration to enable httpsNow https,netconf are reachable but still NSO we were not able to register with device-sync is not happeningDoes it requires any additional configuration separately for sync up?+ AlokAlok, could you please provide access for Kavipriya to access JSD?Hi Kavipriya,Thanks for the details. From what I see below, you are trying to access NSO via NETCONF over NLB and it is not reachable. This is expected because the helm chart we have for NSO doesn\u2019t expose netconf on K8s service. Also, I believe the way https is being accessed is incorrect here, the access should be via NLB with certificate management done by AWS.We can update the helm chart to expose more ports in the load balancer service to get this connectivity. I can help you with that. I will send an invite for us to work on this.Thanks,NiraliHi Nirali/Alok,Thanks, I have got the access for the JSD issue <> .Thanks and Regards,Kavipriya VThanks for joining the call. Below are the meeting notes and future steps:<ol>\t<li>NSO Helm chart doesn\u2019t expose netconf port and this is needed for CDG-NSO integration. This will be fixed in M5 release.</li>\t<li>CNC doesn\u2019t have support for FQDN yet, so NSO pod is being accessed with Pod IP rather than via NLB. For this reason, direct https was enabled on NSO. This is not how it is envisioned though. Eventually, SSL termination will be on NLB, and internal communication will be over http.</li>\t<li>Adding devices to NSO via DLM doesn\u2019t work as TSDN CFP container image doesn\u2019t have DLM and other packages developed outside CFP team. With M4 release, there is a provision to add/update custom packages into existing TSDN container image. Infy team to follow the document and try it out.</li></ol>Thanks,Nirali"
    },
    {
        "title": "[RONCFPSD-331] ASR9K devices are not sync with NSO and throws error \"Bad device configuration: ({case_clause,not_found})\"",
        "description": "Hi -ASR9K devices are not synced with NSO, SSH configuration looks fine and tried generating a new crypto key on devices, still seeing the same issue.Seeing the below error message during the sync operation. Please take a look.admin@ncs(config-device-ASR9K-1)# ssh fetch-host-keysresult failedinfo ASR9K-1: Bad device configuration: ({case_clause,not_found})admin@ncs(config-device-ASR9K-1)# *** ALARM configuration-error: ASR9K-1: Bad device configuration: ({case_clause,not_found})admin@ncs> show devices listNAME      ADDRESS    DESCRIPTION NED ID        ADMIN STATE----------------------------------------------------------------------------AG1       192.168.6.14 -      cisco-iosxr-cli-7.40 unlockedAG2       192.168.6.15 -      cisco-iosxr-cli-7.40 unlockedAG3       192.168.6.16 -      cisco-iosxr-cli-7.40 unlockedAG4       192.168.6.17 -      cisco-iosxr-cli-7.40 unlockedASR9K-1     192.168.6.28 -      cisco-iosxr-cli-7.40 unlockedASR9K-2     192.168.6.29 -      cisco-iosxr-cli-7.40 unlockedSetup details:RFS1- 172.29.106.132Device- 192.168.6.28",
        "comments": "Hi Ragesh,I checked the setup and found that theSSH Algorithms public-key configuration was missing for the devices mentioned and hence the error was coming.I have added the configuration forASR9K-1 and it seems to be working fine now.Please update the configuration forASR9K-2. Refer to the below url to set the missing configuration.Let us know if the issue is resolved and we can close the ticket.Thanks, NikhilThanks Nikhil, Issue fixed on the setup after adding the below ssh config on NSO.set devices global-settings ssh-algorithms public-key [ ssh-ed25519 ecdsa-sha2-nistp256 ecdsa-sha2-nistp384 ecdsa-sha2-nistp521 rsa-sha2-512 rsa-sha2-256 ssh-rsa set devices device ASR9K-2 ssh-algorithms public-key [ ssh-rsa ]TheSSH Algorithms public-key configuration was missing for the devices mentioned and hence the error was coming.The issue was resolved after adding the configuration."
    },
    {
        "title": "[RONCFPSD-457] API request to make update for L2vpn Route Policy Tag",
        "description": "I am trying to update L2vpn Route Policy Tag via API. Here is the method, URL and payload that I use. But it failed. Not sure if my URL or payload is incorrect. Please share the correct info. Thanks in advance.Method: PATCHURL:======https://<tt>cat.cw.host</tt>:<tt>cat.cw.port</tt>/crosswork/proxy/nso/restconf/data/cisco-l2vpn-routing-policy:l2vpn-routing-policy/defined-sets/tag-sets/Paylod:======{ \"tag-set\": [  {   \"name\": \"COLOR_250\",   \"tag-value\": [    251   ]  } ]}Error:===={  \"ietf-restconf:errors\": {    \"error\": [      {        \"error-type\": \"application\",        \"error-tag\": \"malformed-message\",        \"error-path\": \"/cisco-l2vpn-routing-policy:l2vpn-routing-policy/defined-sets/tag-sets/tag-set\",        \"error-message\": \"too many /l2vpn-routing-policy/defined-sets/tag-sets/tag-set{COLOR_250}/tag-value, 2 configured, at most 1 must be configured\"      }    ]  }}-Crystal",
        "comments": "As discussed, this would be the right behavior for L2 and the limitation should be applied to L3 and L2 behavior is as expected.This is correct behavior for L2 VPN route policy.Please confirm the PATCH request failure is expected for L2 and L3 Route Policy Tag. I found out use PUT request, the update is successful. Like to confirm we support PUT for updating L2 and L3 Route Policy Tag instead of PATCH method. It is the same behavior for other Route Policy items such as source-prefix, destination-prefix...etc.Thanks.-Crystal"
    },
    {
        "title": "[RONCFPSD-319] Need Modified prepackaged NSO service pack for 5.7.5.1 release",
        "description": "Hi team, Received modified flat L3VPN NSO service pack for Flat L3VPN 5.7.2.1 earlier. Would you please share the same modified flat L3VPN package for 5.7.5.1 release.Previous communication mail: Build with Custom FP Changes - Sahithi.Model change:\u2026\u2026\u2026list address-family { leaf maximum-prefix { tailf:info \"<32-10000000> - IPV4 Maximum Prefix\"; when \"../address-family = 'ipv4'\"; type uint32 {   range \"32..10000000\"; } default 32;}\u2026\u2026Thanks",
        "comments": "Hi Ajitha,Your custom FP build with NSO 5.7.2.1 should work with NSO 5.7.5.1 since both have same major NSO version.Give it a short and let us know the outcome.Thanks,LinhHi LinhI tried this already and received error message for \"flat l3vpn internal\" entry - \"show platform oper-status\"Setup: 10.195.165.90 - xrd1/xrd1Would you please have a look. Error message:xrd1@ncs> show packages package oper-status packages package cisco-flat-L3vpn-fp-internal oper-status file-load-error oper-status error-info [ \"None of the supported-ned-ids are loaded\" ]I logged on your set up and see cisco-flat-L3vpn-fp-internal is up. Please see the attachedSorry for typo on setup details. Setup: 10.195.165.75 - xrd1/xrd1You have a wrong ned-id in package-meta-data of ncs-5.7.2.1-cisco-flat-L3vpn-fp-internal-EXAMPLE-4.0.0.tar.gz<supported-ned-id xmlns:cisco-iosxr-cli-7.38=\"http://tail-f.com/ns/ned-id/cisco-iosxr-cli-7.38\">cisco-iosxr-cli-7.38:cisco-iosxr-cli-7.38</supported-ned-id> I changed it to 7.39 which is exist on your setup and tar package back with the same package name. The package is up nowHi Linh/Sahithi,Received below validation error while trying the NED. Kindly suggest\u26a0\ufe0f Validation failederrors: reason: Python cb_validate error. STATUS_CODE: TSDN-L3VPN-408 REASON: Router NED not supported CATEGORY: user SEVERITY: ERROR Context [name = Router NED not supported: cisco-iosxr-cli-7.39:cisco-iosxr-cli-7.39, message = Missing dynamic device mapping state = {'Device': 'NCS-3', 'Service': 'L3VPN_FLAT-IGP-IPV4-120', 'Device NED ID': 'cisco-iosxr-cli-7.39:cisco-iosxr-cli-7.39'}] . paths: /cisco-flat-L3vpn-fp-internal:flat-L3vpn{L3VPN_FLAT-IGP-IPV4-120 NCS-3}. path: /cisco-flat-L3vpn-fp-internal:flat-L3vpn{L3VPN_FLAT-IGP-IPV4-120 NCS-3}"
    },
    {
        "title": "[RONCFPSD-318] Incorrect configuration of ASR9903 on ron-ml 1x100G service creation",
        "description": "The configuration is a ron-ml service with rate 1x100G between a cisco 8201 and an ASR9903While the configuration works successfully in 8201, where also in 1x100G mode the Hu interface is identified with sub-interface index 0, on ASR9903 the Hu interface is not a sub-interface. So actually, the plan is completed and green, but the configuration is not applied at the router since the Hu interface do not exist.Following is the commit performed by the RON FPRP/0/RP0/CPU0:ron-asr9903-1#sh configuration commit changes 1000000282Sun Aug 28 06:12:36.754 PDTBuilding configuration...!! IOS XR Configuration 7.7.1controller Optics0/0/1/4transmit-power -45fec OFECdwdm-carrier 100MHz-grid frequency 1937000DAC-Rate 1x1.25!interface HundredGigE0/0/1/4/0ipv4 address 100.1.4.9 255.255.255.254!interface preconfigure HundredGigE0/0/1/4/0no shutdown!endWhile if we check for Hu interface it does not have the sub-if index:RP/0/RP0/CPU0:ron-asr9903-1#sh interfaces hundredGigE 0/0/1/? 0/0/1/0        HundredGigE Interface Instance 0/0/1/1        HundredGigE Interface Instance 0/0/1/10       HundredGigE Interface Instance 0/0/1/11       HundredGigE Interface Instance 0/0/1/2        HundredGigE Interface Instance 0/0/1/3        HundredGigE Interface Instance 0/0/1/4        HundredGigE Interface Instance 0/0/1/5        HundredGigE Interface Instance 0/0/1/6        HundredGigE Interface Instance 0/0/1/7        HundredGigE Interface Instance 0/0/1/8        HundredGigE Interface Instance 0/0/1/9        HundredGigE Interface Instance R/S/I/P/B or R/S/I/P Forward interface in Rack/Slot/Instance/Port/Breakout format or R/S/I/P formatThe correc tocnfiguration that NSO should send in this case for 1x100G to ASR9903 is:interface HundredGigE0/0/1/4ipv4 address 100.1.4.9 255.255.255.254!interface HundredGigE0/0/1/4no shutdown!",
        "comments": "Hi Roberto,CFP follows this table for the logic to determine whether to config the main interface or a sub-interface (quoted from RON 2.0 SDS section 3.8.4):<div class='table-wrap'><table class='confluenceTable'><tbody><tr><td class='confluenceTd'> </td><td class='confluenceTd'></td></tr><tr><td class='confluenceTd'></td><td class='confluenceTd'>HundredGigE 0/0/1/0/0</td></tr><tr><td class='confluenceTd'></td><td class='confluenceTd'>HundredGigE 0/0/1/0/0HundredGigE 0/0/1/0/1</td></tr><tr><td class='confluenceTd'></td><td class='confluenceTd'>HundredGigE 0/0/1/0/0HundredGigE 0/0/1/0/1HundredGigE 0/0/1/0/2</td></tr><tr><td class='confluenceTd'></td><td class='confluenceTd'>FourHundredGigE 0/0/1/0/0</td></tr><tr><td class='confluenceTd'></td><td class='confluenceTd'>HundredGigE 0/0/1/0/0HundredGigE 0/0/1/0/1HundredGigE 0/0/1/0/2HundredGigE 0/0/1/0/3</td></tr></tbody></table></div>So far the only exception is that for 1x400G transponder case CFP will only configure the main interface. Could you please confirm if for ASR 9903 (A9903-20HG-PEC) we need to make another exception in 1x100G transponder case? Is that only forA9903-20HG-PEC?Thanks,LinmaoHi Roberto,Just a gentle reminder.Could you please confirm if only for ASR 9903 (A9903-20HG-PEC) we need to make an exception in 1x100G transponder case where NSO should configure the main interface instead of sub-interface?Thanks,LinmaoRON 2.0-M9 which has the fix has been released. So, I'm closing this ticket."
    },
    {
        "title": "[RONCFPSD-330] Dynamic Tree SID configuration for IOS-XR",
        "description": "Hi,I'm the manager of EPN ; Crosswork's Tier4 testing lab and, we've recently tried bringing up Tree SID configuration in our lab for testing on CW 4.3. We require some assistance regarding dynamic Tree SID configuration (we've managed to properly configure the static tree).Could anyone one from the CFP team contact us for that?Thanks,Lior A.",
        "comments": "Hi Lior,We would be supporting dynamic Tree SID from CNC 5.0 release. Below is the config, we are implementing for Dynamic Tree SID from CFP side which does not include PCE config.ThanksSahithi"
    },
    {
        "title": "[RONCFPSD-456] Failed to connect Device error shown in CNC - NSO shows different IP ",
        "description": "In CNC the following error message shown for one the device - Major - NSO Sync-from/to failed. NSO Reported Error: Failed to connect to device PE-A: connection refused: NEDCOM CONNECT: No route to host (Host unreachable) in new stateOn checking further found the different IP configuration information in NSO than the one configured in device. Checked the device configuration all looks fine. Setup detail - CW - 10.22.179.235 - admin/Cwork123!NSO - 10.194.60.130 - xrd1/Cwork123!",
        "comments": "Hi Murali, apologies for delay. I will take a look today~Hi Murali,After a quick look at your NSO configuration, it seems like PE-A is defined as192.168.5.11. Im not sure why CW GUI is showing 192.168.5.21.admin@ncs> show devices listNAME   ADDRESS  DESCRIPTION NED ID    ADMIN STATE----------------------------------------------------------------------------P-BOTTOM-LEFT 192.168.5.26 -   cisco-iosxr-cli-7.43 unlocked P-BOTTOM-RIGHT 192.168.5.27 -   cisco-iosxr-cli-7.43 unlocked P-TOP-LEFT  192.168.5.24 -   cisco-iosxr-cli-7.43 unlocked P-TOP-RIGHT  192.168.5.25 -   cisco-iosxr-cli-7.43 unlocked PE-A   192.168.5.11 -   cisco-iosxr-cli-7.43 unlocked PE-B   192.168.5.22 -   cisco-iosxr-cli-7.43 unlocked PE-C   192.168.5.23 -   cisco-iosxr-cli-7.43 unlocked SR-PCE   192.168.5.28 -   cisco-iosxr-cli-7.43 unlocked When executing check-sync on PE-A, it showsadmin@ncs> request devices device PE-A check-syncresult errorinfo Failed to authenticate towards device PE-A: Unknown SSH host keyI manually updated ssh host keys usingadmin@ncs> request devices fetch-ssh-host-keysfetch-result {...After this I executed a check-sync on PE-A again and it showsadmin@ncs> request devices device PE-A check-syncresult errorinfo Failed to connect to device PE-A: connection refused: NEDCOM CONNECT: Authenticate: Exhausted available authentication methods. Server allowed: [ publickey password ] in new stateI am not sure how these devices were setup, but prior to running CNC or NSO operations, I would make sure that all devices are correctly onboarded.From our testing, device operations and connectivity on NSO 6.1 is working fine. These errors you are seeing are likely due to your setup or onboarding bootstrap config. Please make sure you are able to ssh into each device using the authgroup credentials from XRDevices.Thanks,Isaac KimHi IsaacI haven't configured that IP address 192.168.5.11 to my device. It was working fine earlier configured IP for PE-A device is 192.168.5.21. I have attached screen shot of devices onboarded and configured IP address.I checked completely and not sure how and why PE-A devices shows different IP address rather than one configured in device.On same NSO or CNC I was able to provision services and policies earlier.Hi Murali,I cannot think of any scenario where a device will be onboarded with a different IP from what was configured. It could potentially be that certain changes were not committed.If you would like, we can get on a call to try to resolve this.Thanks,Isaac KimHi Isaac,Sure we can discuss over the call to resolve this.Regards,Murali BGot on call, but decided we need CNC instance to be up to continue with RCA. No relevant info found from NSO logs.Murali to reach out when he has another CNC instance and able to reproduce issue.If you are not able to reproduce, please let me know here as well.Thanks,Isaac KimGot on another call, found that there is old DLM config from cloned NSO instance which could be source of issue. Could not reproduce on CNC UI. We will keep watch again, but next time we clone NSO and add to a new CNC instance we should try to cleanup old DLM config.Check for old DLM config:1.enter NSO CLI2.enter config mode (\"configure\")3.show dlm config (\"show cisco-dlm\")4.delete any stale entries (\"delete cisco-dlm crosswork-vm <CW IP>\")5.commit changes (\"commit\")6.continue with onboarding NSO to CNCIf Murali faces this again, we will reconvene and investigate further.If we dont face this for some time (assuming we follow above steps), I think we can assume this issue is resolved.Thanks,Isaac KimHi Murali, I believe this ticket has been resolved.To prevent the ticket from being open too long, I will mark this as resolved.If you face this issue again, please open a new JSD and reference this JSD for context.Thanks,Isaac Kim"
    },
    {
        "title": "[RONCFPSD-442] NSO LSA - CFS crashed while trying to scale up the services- NSO 6.1 , TSDN 5.0.0 M5+ patch Eng build 2",
        "description": "Hi,Setup: 172.29.106.131 ( CFS) 172.29.106.132 ( RFS1)172.29.106.133 ( RFS2)NSO LSA installed with NSO 6.1 , TSDN 5.0.0 M5+ patch Eng build 26.1_230109.073843810.4384ecc7db9anso-6.1_230109-tsdn-5.0.0-M5From CW proxy API, with 5 concurrent users, trying to scale services in 5 pair of different endpoint. It is simple l2vpn p2p service. afte some around 450 services, CFS crashed.nso@nso-172-29-106-131:~$ ncs_cliFailed to connect to servernso@nso-172-29-106-131:~$CFS ( NSO provider) went unreachable in CW. hence all my services provisioning started failing.Collected logs and logs present at CFS device 172.29.106.131/home/nso/data_011923_103547_dirsetup is in issue state.please ping me for setup details., i can unicase the credentials. please use it for Read-only.Thanks,Arun.M.G",
        "comments": "Hi Arun,Please try the test using this build :Also please enabled coredump on all your nodes CFS and RFSs .1. ulimit -S -c unlimited#enable core dump permanently, add following line in /etc/security/limits.conf to update system limit #to verify ulimit -c ,close all sessions and open new then new limit will be shown.  2. soft core unlimited#settings up coredump path3. sudo sysctl <del>w kernel.core_pattern=/tmp/core</del>%e-%s-%u-%g-%p-%torsudo sysctl -w kernel.core_pattern=\"/tmp/%e_core_dump.%p\"(based on requirement )#You can make core dump file path changes permanent, by adding following line in /etc/sysctl.conf4. kernel.core_pattern=\"/tmp/core-%e-%s-%u-%g-%p-%t\"orkernel.core_pattern=\"/tmp/%e_core_dump.%p\"Significance of format specifier for coredump:<ol>\t<li>%e The process or thread's comm value, which typically is the  same as the executable filename (without path prefix, and  truncated to a maximum of 15 characters)</li>\t<li>%i TID of thread that triggered core dump, as seen in the PID  namespace in which the thread resides.</li>\t<li>%p PID of dumped process, as seen in the PID namespace in which  the process resides.</li>\t<li>%s Number of signal causing dump.</li></ol>#To test crash to generate coredump5. kill -11 $$#Verify if coredumps get generated :ls -lart/tmp/ | grep core<del>rw</del>------ 1 admin1 admin1 2080768 Oct 6 11:18 bash_core_dump.21904#for ncs process crashkill -s SIGSEGV $(pgrep ncs.smp)#to verify ulimit -c ,close all sessions and open new then new limit will be shown.Before next run please enable and verify if coredump crash are getting generated .After crash please share coredump crash it will help platform team to analyze the failure.Thanks PriyankaWorking on CDETS"
    },
    {
        "title": "[RONCFPSD-324] provisioning not reflected till 'Sync to'",
        "description": "I am using REST API to provision SR TE policy in cluster setup. i am using no-networking = false, so that config is pushed to device. After the api is executed through shell script, SR policy is available in cluster but not in device. After 'Sync to' the config is available in device. Should i modify any other parameter in the script, so that config is pushed to device after the script execution. NSO is available in 172.20.63.132 - cnctest/Ovatest123@device in RFS - 172.20.63.148 - xrv9k-4",
        "comments": " Hello, I looked in all of the RFS for a device calledxrv9k-4 and couldnt find one.Attached screenshots.Please provide more information on this ticket for further troubleshooting.Regards,Janaki DuggiralaHi Janaki,There is a typo in device name. Could you please check \"xrv9-4\" and \"xrv9-6\" devices in RFS.Thanks,Sreedhar.xrv9-4 is available in 172.20.63.150 - RFS3Hello,Assuming:<ul>\t<li>Your cluster is up > show cluster</li>\t<li>You have performed a host key fetch > request cluster remote-node my-rfs-node ssh fetch-host-keys</li>\t<li>Your devices and NSO and service are all in sync > plan is reached, no commits failed</li></ul>I would recommend not using the no-networking field in CURL command.My command is as below (I tried to update color):::curl -is -u admin:admin -X PATCH -H \"Content-type: application/yang-data+xml\" -d '<data xmlns=\"urn:ietf:params:xml:ns:yang:ietf-restconf\"> <sr-te xmlns=\"http://cisco.com/ns/nso/cfp/cisco-tsdn-sr-te\"> <policies xmlns=\"http://cisco.com/ns/nso/cfp/cisco-tsdn-sr-te-sr-policies\"> <policy> <name>SR-CLI-DYNAMIC</name> <head-end> <name>PIOSXR-1</name> </head-end> <tail-end>127.0.0.1</tail-end> <color>150</color> <binding-sid>111</binding-sid> </policy> </policies> </sr-te></data>' 'http://localhost:8080/restconf/data'And this worked to push config correctly to device. When I use the no-networking, indeed the config does not push correctly to device.Let me know if this is alright.Regards,Janaki DuggiralaThank you. I removed the no-networking option and config is being pushed to the device. However is it a bug in using no-networking option. Is it deprecated option?Hello, The no-networking option is not needed, since its a simple commit to update config. This is like a standard commit on the NSO CLI and with the standard commit there is a no-networking option which enables to not send anything to the device (see screen shot attached). Let me know if this helps and I will proceed to close this ticket. Thank you. Regards, Janaki DuggiralaCustomer was using incorrect params in RPC command. Assisted customer with the right command."
    },
    {
        "title": "[RONCFPSD-495] Old route-policies get added during provisioning services though CNC or device side there are no route-policies",
        "description": "Old route-policies get added during provisioning services though CNC or device side there are no route-policiesSteps:1. I deployed latest NSO 6.1 and tsdn builds on my NSO LSA setup. Note: Old cdb on NSO VMs was deleted and this is freshly deployed NSO build.2. When I try to provision ETREE-SRODN service, observing that old route-policies also get added though CNC or device side there are no route-policies.Attaching the payload, native configs on NSO UI and existing device configs for reference.Collected NSO logs on all LSA cluster nodes, will be attaching the logs soon.",
        "comments": "  During commit it showed that devices were out of sync and picking old route-policies. Once synched it adds only one route-policy. I saw similar issue with L3NM-SRTE service where config gets pushed to generic parent route-policy though it's not specified in payload. will try once and if able to repro on new NSO build, will open new JSD ticket. Thanks.The devices were out of sync and picking old route-policies. Once synched it adding the required route-policy only."
    },
    {
        "title": "[RONCFPSD-481] Intermittently hitting \"Read time out error\" and it fails commit",
        "description": "Setup - 10.195.165.75 - xrd1/xrd1Received Read time out error message while pushing attached payload.Please find attached screenshot. Issue is intermittent.Kindly check if there is a way to handle this error.",
        "comments": " CDETS filed after discussion with Ajitha"
    },
    {
        "title": "[RONCFPSD-94] After consuming new ONC, provisioning fails ",
        "description": "After consuming new ONC, provisioning fails Please see attached .Env Details: NSO: ssh+ UI -> nso552/Public1234!CNC: UI: admin/Public1234!SSH: cw-admin/Public1234!",
        "comments": "Hi Yevgeny, the issue you are seeing is due to ONC is missing transmit power in connectivity service output. We will have to wait for ONC to provide a fix.Roberto has provided the workaround:With the build 17.09.2021.CVT.CB4 and by applying the correct Env Variable (updated in wiki page copied below for convenience)On a CW cluster with ONC already deployed, execute on the shell:<ol>\t<li></li></ol>This will open up a vi editor.  2. Scroll down to section, 3. the following lines if they are present (added as part of previous workaround):- name: networkholder.optval.activation.active.defaultvalue: ZONE_UNKNOWN- name: networkholder.optval.activation.whatif.defaultvalue: ZONE_UNKNOWN  4. the following lines to workaround the missing Logo params on the device- name: optvalidation.logo_data.mandatoryvalue: \"false\"  5. Save the file and exit  6. All 3 replicas of onc-pce-service will restart (starting from onc-pce-service-2)  7. Once restarts are complete (may take up to 15 minutes and can be checked with \"kubectl get pod | grep onc-pce\") ONC usage can resume"
    },
    {
        "title": "[RONCFPSD-132] Policy/Service showing as in-progress in CNC & the NSO plan message shows the ncs:ready not reached",
        "description": "Policy/Service showing as in-progress in CNC ; the NSO plan message shows the ncs:ready not reachedBut these policy config pushed to the device successfully.Server : 10.194.63.198CFS : 10.194.63.169RFS1: 10.194.63.170RFS2: 10.194.63.242RFS ; CFS has same credentials.Issue screenshot attached",
        "comments": " Hi Ragesh,I checked on your setup and on your CFS node, it is missing some required LSA notification kickers.admin@ncs% show kickers notification-kickerNo entries found.Please refer the following wiki for correct LSA bootstrap procedure.Thanks,NishadThanks Nishad for looking the issue, After loading the cfs-netconf-notification-kicker.xml issue got fixed, Please close the ticket.Corrected the bootstrap data and issue got fixed."
    },
    {
        "title": "[RONCFPSD-126] Python cb_validate error. STATUS_CODE: TSDN-L2VPN-408",
        "description": "Provisioning failed with error: Python cb_validate error. STATUS_CODE: TSDN-L2VPN-408",
        "comments": " Bootstrapping on CFS was done while havingauthentication issue with the RFS nodes; therefore, dynamic device mapping information was not populated on the RFS nodes, which caused the error when the L2VPN service was deployed.Issue action commands below con the CFS node to get dynamic config pushed to the RFS nodes. Services were successfully deployed afterwards.unhide tsdnrequest flat-L2vpn-actions update-internal-cfp-configurationsrequest ietf-te-actions update-internal-fp-configurationsrequest flat-L3vpn-actions update-internal-cfp-configurationsrequest cisco-sr-te-cfp:sr-te update-internal-cfp-configurationsCommand to verify on RFS nodes:unhide tsdnshow cisco-flat-L2vpn-fp-internal:cfp-configurationsshow cisco-flat-L3vpn-fp-internal:cfp-configurationsshow cisco-sr-te-cfp-internal:cfp-configurationsshow cisco-rsvp-te-fp:cfp-configurations"
    },
    {
        "title": "[RONCFPSD-80] cisco-zr-dco-cfp-native-flexport-linecard-template.xml:10 Element: 'port-ranges' only exists for ned-id: cisco-iosxr-nc-7.4:cisco-iosxr-nc-7.4",
        "description": "After consuming TSDN M6 FP, this thing started to appear Since starting from M6 two packages collide between the two: ncs-5.5-cisco-iosxr-nc-7.3.2.34I.tar.gzncs-5.5-cisco-iosxr-nc-7.3.2.37I.tar.gzncs-5.5.2.3-core-fp-plan-notif-generator-1.0.4.tar.gzncs-5.5.2.3-core-fp-plan-notif-generator-1.0.6.tar.gzI had chosen the latest for both cases .",
        "comments": "Please install compatible RON CFP withCNC 3.0 M6 and let us know if you're still facing the issue. Release pages: (which redirects to )Hi Yevgeny,Please confirm whether you still having the issue with RON reported in this ticket. It seems to me that you no longer facing the issue, according to the email you sent to TSDN support alias of installing RON M3 build. If I am not hearing from you, I will close this case Monday 9/13/21.Thanks,VanAssuming the issue is no longer a problem after installing compatible RON ; CNC packages."
    },
    {
        "title": "[RONCFPSD-57] Knowdge sharing session on NSO Actions - CNC3.0",
        "description": "Hi Team,This is to request for a knowledge sharing session on NSO Action button options from CNC3.0 as discussed in the last Scrubber meeting.From the Testing point of view: We would like to understand and remark the combination of usecases with the following NSO options.More specific to when and where are the scenarios exactly these recovery options used.\u2022Error recovery Check-Sync\u2022Error recovery Sync-from\u2022Error recovery Sync-to\u2022Reactive-Redeploy\u2022Re-Deploy ReconcileRising this request ins-pite of gone through appropriate guidlines given against corefp wiki-page.Thanks,Dinesh",
        "comments": "Please refer to all service related supported actions in our wiki. For example, for SR-TE you can refer here: The error-recovery flow wiki should be helpful for when to use these actions are applicable: For NSO device level action, please refer to the official NSO Documentation: If you have any specific questions after going through the links above, then go ahead and ask them here and I'll go ahead and try to answer to the best of my ability.Thanks,Regi\u2022 Error recovery Check-SyncWhat does Error recovery check-sync do? Device check-sync compares device config and config in NSO DB. This is clear. But we are not very clear about error recovery Check-Sync. What is the use casse for this action?\u2022 Error recovery Sync-fromWhen a service is in failure state, we would like to know what instance this sync-from can be performed to bring the plan state success and how.?\u2022 Error recovery Sync-toWhen a service is in failure state, we would like to know what instance this sync-to can be performed to bring the plan state success and how.?Note: Either in the webex recording nor in the Wiki link, this option is never discussed.\u2022 Reactive-RedeployAfter performing necessary error recovery step, What does Reactive action do? What is the use case for this?\u2022 Re-Deploy ReconcileAfter performing necessary error recovery step, What does reconcile action do? What is the use case for this?We had a meeting details are posted here: "
    },
    {
        "title": "[RONCFPSD-278] Device Hostname Update not reflected in CW GUI",
        "description": "Hi Team, I been observing below 2 scenarios, request you to please check and share your comments on it.Scenario-1 :-> When Updated hostname and Inventory ID from CW GUI DLM page only Inventory ID is being updated (Hostname attribut not updated).Scenario-2 :-> When renamed device hostname from nso cli, latest hostname details are not reflected in GUI.Please have a look at attached mail thread for detailed description.Thank you.Kind regards, Rohit M",
        "comments": " Hello Rohit,It seems like your query involves DLM package and CNC GUI. Both of these things are not within the scope of TSDN. I would recommend to forward this query to the respective owners of the previously mentioned features.Thanks,Isaac KimHi Issac Kim, Thank you for letting me know. Would you please share their queue link so that I can raise my request to them.Kind regards, Rohit MHi Rohit,We do not know if they have a queue setup but you can contact Ravi Kumar Kolla from DLM team.I will close this request.ThanksSahithiUnrelated to TSDN CFP. Query was regarding DLM FP."
    },
    {
        "title": "[RONCFPSD-244] LSA - Capacity method details",
        "description": "HI, I have install CFS and RFS1 and RFS2. Now before adding providers in the CNC, I need to know how to use Capacity method in LSA setup. For SH testing, I have some test cases to use this setup. I am already using round robin. I am not understanding what is capacity method how to use it. Please let me know",
        "comments": "Hi Sampath,Could you please elaborate what is capacity method ? Is it NSO or CFP-related issue?Can you share the specific issues you see with CFP or NSO?Thanks,Priyanka Hi Sampath,I will close this JSD if i dont get info before EOD today.ThanksPriyankaI have attached the snapshot. Please check and let me know Hi Sampath,Please work with CNC UI team .This is not related to CFP or NSO.ThanksPriyanka"
    },
    {
        "title": "[RONCFPSD-522] Steps to generate the jwt-token to test with authentication provider",
        "description": "Followed \"TSDN 6.0.0 - Drop 5 (DTHO) - cisco cfp-jwt-auth package\" wiki to enable RBAC PAM. After the config done, tried to test it by running the following command, but it failed.curl -is -H \"Authorization: Bearer $(cat /root/temp/jwt.txt)\" -vMaybe the token that I used is wrong. Like to find out the steps to generate the jwt token and use it in the command. Attached are the jwt.txt file and the curl response that I got. Thanks.",
        "comments": " Thanks Subramanian for the webex session on this. In summary, the issue is the certificate pem file was not exported from root. After replacing the certificate pem file, the curl command works fine. Can you update the wiki, by adding one extra note to click on \"Crosswork\" (the root level) under Certificate Hierarchy before clicking export button to be clearer?Here is the webex recording info:link: Password:pBHxijM5Had a a screenshare and helped resolve the issue.The wiki is also updated for the same . Thanks Crystal for uploading the recording."
    },
    {
        "title": "[RONCFPSD-536] l3vpn 'probes' section accepts string values for \"agent-vlan\" instead of enforcing only numbers and range",
        "description": "Hi,We see that \"probes\" section (for Accedian probes) in l3vpn services allows string values for \"agent-vlan\" field.But in reality it can be only number and only in specific range.Shouldn't NSO/CFP enforce it ? Also we have some doubt about 'vpn-network-access' field - it's correlated with vpn-network-access id from vpn-node section. Should this be unique for every VPN-service ?Regards,Leonid.",
        "comments": "Hi Leonid,The ID for \"vpn-network-access\" will be unique only for a given vpn-node. However it is not unique across every service or every vpn-node. It is not globally unique.Also, we can definitely add in the range for \"agent-vlan\". Could you tell us what the range should be?Thank you for clarifying regarding \"vpn-network-access\" field.Regarding the range for \"agent-vlan\" - it's the standard 1-4094 as for dot1qHi Aravind,Should we track via cdets?Thanks,Arun.M.Gyes sure!Sure, thank youFiled CSCwh37105 in CDETS for tracking.available in the next drop"
    },
    {
        "title": "[RONCFPSD-250] Timeour while service commit",
        "description": "Setup: CNC: 10.195.165.70 - admin/Cnc@1234NSO: 10.195.165.75 - xrd1/xrd1While trying to commit a service , im getting \"Post \"https://10.195.165.75:8888/jsonrpc/validate_trans\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)\" attached error. Please help troubleshoot reason for failure and if its known issue",
        "comments": "Hi Ajitha,As discussed over Webex its not an issue and you are not seeing it anymore.ThanksPriyanka Hi Priyanka, we discussed and hope you were trying to troubleshoot my observation with logs. I see many devices were added to NSO (not CNC) and my devices are not able to authenticate in NSO. Unable to create any services. Would you please check asap"
    },
    {
        "title": "[RONCFPSD-287] L2vpn EVPN service created. Device name contains dots (domain name)",
        "description": "Same issue as CSCwc18044: Fixed in M7Patch Applied on the system to fix it.",
        "comments": "Patch applied"
    },
    {
        "title": "[RONCFPSD-293] config l3vpn without bgp neighbor ",
        "description": "hi, we noticed that there is an option not to set neighbor under bgp part - is that correct to model the service like that? our NSO server 10.56.58.197 (nso574/Public1234!)see service - ",
        "comments": " Hi Idan,There is an option to set neighbors in BGP .The one you highlighted in yellow in the screenshot you attached, there was blue plus sign too , please use that one to add neighbor in NSO UI L3 Service.Attached screenshot for reference.ThanksPriyankahi - my question is - bgp neighbor is not a mandatory field? shouldnt NSO prevent user creating l3vpn when bgp neighbor is not set? thx. Hi Idan ,I will forward the you email discussion.This change is backward incompatible hence it is decided with discussion across CNC teams.Hope the thread i will send you might you understand the reason.ThanksPriyankathanks, saw you mail. but the original question was on route-target - and here I ask on bgp neighbor - both cases are the same? "
    },
    {
        "title": "[RONCFPSD-285] CNC tsdn-core-fp-common alarms purge and NSO CLI alarms",
        "description": "When we re-deploy a TSDN CFP RSVP-TE service and the configuration is rejected by the device\u2026 I see and \"service-activation-failure\" alarm in the NSO CLIncsadmin@ncs-ts4nso01vs001# te tunnels tunnel pcepadap10496 re-deployError: External error in the NED implementation for device WSBMPS11: command: path: Error: String too longncsadmin@ncs-ts4nso01vs001# *** ALARM service-activation-failure: External error in the NED implementation for device WSBMPS11: command: path: Error: String too longncsadmin@ncs-ts4nso01vs001#\u2026 but this alarm is no longer present in the alarm list:ncsadmin@ncs-ts4nso01vs001# show alarms alarm-listalarms alarm-list number-of-alarms 0This alarm is actually removed by tsdn-core-fp-common. Why does this happen?<INFO> 22-Jun-2022::11:46:52.392 cisco-tsdn-core-fp-common Thread-9: - Received alarm: /te:te/tunnels/tunnel<DEBUG> 22-Jun-2022::11:46:52.394 cisco-tsdn-core-fp-common Thread-9: - alarm text: External error in the NED implementation for device WSBMPS11: command: path: Error: String too long<DEBUG> 22-Jun-2022::11:46:52.412 cisco-tsdn-core-fp-common : - CQ Alarms received: {'cq_alarms': []}<DEBUG> 22-Jun-2022::11:46:52.413 cisco-tsdn-core-fp-common : - Waiting for subscription event<INFO> 22-Jun-2022::11:46:52.414 cisco-tsdn-core-fp-common : - Service alarms: {'service_alarms': []}<DEBUG> 22-Jun-2022::11:46:52.414 cisco-tsdn-core-fp-common : - Waiting for subscription event<INFO> 22-Jun-2022::11:46:52.414 cisco-tsdn-core-fp-common Thread-9: - Purged alarm: /te:te/tunnels/tunnelI'm struggling to explain to Vodafone this \"ghost\" alarms displayed in the CLI.Context:1) Vodafone Germany wants to test the SNMP alarm notifications originating from NSO, going into their alarm monitoring system named Spectrum. One of the alarms when want to see is: ALARM service-activation-failure2) Im not using CQ3) Im using the RSVP-TE TSDN CFPThis is how Im generating this alarm in the Vodafone Germany Lab:Package is loaded correctly and service is created correctly.No alarms present in NSO.ncsadmin@ncs-ts4nso01vs001#ncsadmin@ncs-ts4nso01vs001# te tunnels tunnel pcepadap10496 deep-check-syncsync-result {  local-node {    in-sync true  }}ncsadmin@ncs-ts4nso01vs001# show alarms alarm-list number-of-alarmsalarms alarm-list number-of-alarms 0</ul>I make a change in the NSO service device template, making a string longer that what the device will accept.This will cause the device to reject the config with an error: string too longPerform a packages reload.</ul>Perform a service re-deploy\u2026 that will fail with String too long:I can see the alarm ALARM service-activation-failure appearing in all open NSO CLI terminalsI can see it being deleted in the cisco-tsdn-core-fp-common log.</ul>ncsadmin@ncs-ts4nso01vs001# show alarms alarm-list number-of-alarmsalarms alarm-list number-of-alarms 0ncsadmin@ncs-ts4nso01vs001# te tunnels tunnel pcepadap10496 re-deployError: External error in the NED implementation for device WSBMPS11: command: path: Error: String too longncsadmin@ncs-ts4nso01vs001# *** ALARM service-activation-failure: External error in the NED implementation for device WSBMPS11: command: path: Error: String too longncsadmin@ncs-ts4nso01vs001#System message at 2022-06-23 13:00:45...Commit performed by ncsadmin via ssh using cli.ncsadmin@ncs-ts4nso01vs001#ncsadmin@ncs-ts4nso01vs001#ncsadmin@ncs-ts4nso01vs001#ncsadmin@ncs-ts4nso01vs001# show alarms alarm-list number-of-alarmsalarms alarm-list number-of-alarms 0ncsadmin@ncs-ts4nso01vs001#ncsadmin@ncs-ts4nso01vs001#<DEBUG> 23-Jun-2022::13:00:45.213 cisco-tsdn-core-fp-common : - CQ Alarms received: {'cq_alarms': []}<DEBUG> 23-Jun-2022::13:00:45.213 cisco-tsdn-core-fp-common : - Waiting for subscription event<INFO> 23-Jun-2022::13:00:45.214 cisco-tsdn-core-fp-common : - Service alarms: {'service_alarms': [('ncs', 'service-activation-failure', '/te:te/tunnels/tunnel[name=\"pcepadap10496\"]', '')]}<DEBUG> 23-Jun-2022::13:00:45.214 cisco-tsdn-core-fp-common : - Waiting for subscription event<INFO> 23-Jun-2022::13:00:45.222 cisco-tsdn-core-fp-common Thread-9: - Received alarm: /te:te/tunnels/tunnel<DEBUG> 23-Jun-2022::13:00:45.224 cisco-tsdn-core-fp-common Thread-9: - alarm text: External error in the NED implementation for device WSBMPS11: command: path: Error: String too long<DEBUG> 23-Jun-2022::13:00:45.246 cisco-tsdn-core-fp-common : - CQ Alarms received: {'cq_alarms': []}<DEBUG> 23-Jun-2022::13:00:45.246 cisco-tsdn-core-fp-common : - Waiting for subscription event<INFO> 23-Jun-2022::13:00:45.247 cisco-tsdn-core-fp-common : - Service alarms: {'service_alarms': []}<DEBUG> 23-Jun-2022::13:00:45.247 cisco-tsdn-core-fp-common : - Waiting for subscription event<INFO> 23-Jun-2022::13:00:45.247 cisco-tsdn-core-fp-common Thread-9: - Purged alarm: /te:te/tunnels/tunnelWhen the ALARM service-activation-failure is created in NSO, the SNMP Notification is sent to Spectrum.The Vodafone operations team monitoring Spectrum sees the alarm and will go to NSO to perform an investigation and eventually mark the alarm cleared\u2026 but no alarm is present in NSO.ncsadmin@ncs-ts4nso01vs001# show alarms alarm-list number-of-alarmsalarms alarm-list number-of-alarms 0ncsadmin@ncs-ts4nso01vs001# show alarms alarm-list number-of-alarmsalarms alarm-list number-of-alarms 0a) I need to explain the above behaviour to Vodafone in the context of how should the operational team act facing this alarm.B) In the NSO admin guide it is written:Alarm Identity: service-activation-failureClear condition(s): If the service is successfully redeployed, the alarm is cleared.\u2026but Vodafone will not have this alarm in NSO.",
        "comments": "Hi Sujay,For TSDN, I believe this has been the behavior for service alarms. tsdn-core-fp-common code purges the alarm which is then reflected on the plan state marked failed with the exact alarm text. This applicable to all the services.This failure will be sent in plan notification.ThanksSahithiExpected behavior from CFP. Delete alarms are purged as we want NSO to recreate the same alarms on re-deploy."
    },
    {
        "title": "[RONCFPSD-520] Unable to migrate device NEDs as part of NSO upgrade",
        "description": "Stuck on the Step 6 of the NSO guide: Tried \"show devices | match \"devices\"\" and got the following output:devices device 172.20.200.138devices device AA-ASR1001x-1devices device AA-ASR903-2devices device AA-ASR903-3devices device AA-NCS5501-1devices device AA-NCS5501-2devices device AA-NCS5501-3devices device AA-XRV9k-1devices device AA-XRV9k-2When used these device names on the command above as:request devices device AA-ASR1001x-1 migrate new-ned-id cisco-iosxr-cli-7.49 dry-run verboseGives the following error:Error: Failed to connect to device AA-ASR1001x-1: connection refused: NEDCOM CONNECT: Authenticate: Exhausted available authentication methods. Server allowed: [ publickey keyboard-interactive password ] in new stateNeed help with migrating device NEDs as part of NSO upgrade. This is in continuation with the ticket raised on Friday: ",
        "comments": "Hi Raghasuma, just closing out on this ticket.We discussed offline that the problem is due to changing encryption keys in ncs.conf during upgrade which caused the hashed passwords to be un-decodable. The solution was to rehash device authgroup passwords with the new encryption strings defined in ncs.conf by simply updating the authgroup with same password. Afterwards we confirmed that devices are reachable.If you have any additional questions please let me know.Thanks,Isaac Kim"
    },
    {
        "title": "[RONCFPSD-246] Information needed regarding Custom Template deployment on NSO LSA HA",
        "description": "Hi Team,In LSA, custom templates are only added to RFS nodes. I am trying this when RFS is in HA mode. Do I have to add custom template to both HA nodes of RFS or I can just add it using VIP IP and RFS HA will take care of it.Kindly help to understand the scenario.Thanks,Kanchan",
        "comments": "Hi Kanchan ,As per Webex discussion, we need a custom template package on both nodes, but yes creation from VIP makes it synch on the standby node.After adding the same packages on both nodes you will be good to create or use custom templates from VIP.ThanksPriyankaWebex suggestion provided.Thanks Priyanka."
    },
    {
        "title": "[RONCFPSD-252] Uninstallation of CFS throwing error",
        "description": "NSO CFS: 10.56.116.121 ( nso/Public1234!)NSO RFS : 10.56.116.122 ( nso/Public1234!)I have NCS 5.7.2.1 with TSND 4.0.0 M4 installed.while trying to uninstall the CFS, facing error at the below steps.nso@ncs% delete cluster remote-node rfs-1nso@ncs% commitAborted: 'cluster commit-queue enabled' (value \"true\"): At least one cluster remote-node has to be configured. All LSAdevices must be configured as cluster devices.nso@ncs% delete cluster authgroup cluster-rfs-authError: element not foundnso@ncs% delete cluster device-notifications enablednso@ncs% commitAborted: 'cluster commit-queue enabled' (value \"true\"): At least one cluster remote-node has to be configured. All LSAdevices must be configured as cluster devices.nso@ncs%can you please help in this?Thanks,Arun.M.G",
        "comments": "Hi Arun,As discussed , If the cluster has ONLY one RFS, you could not delete it. Instead need to delete the whole cluster.I have updated the wiki as well for the next release.Please suggest if the solution worked and we can close this ticket.Regards,Nishad SubairHi Nishad, yes, that worked. please update the confluence and we can close this.Thanks for your help.Thanks,Arun.M.GHad discussion with the submitter and provided the solution.Also updated the M6 wiki with the Note mentioning \"If the cluster has ONLY one RFS, need to delete the whole cluster\"."
    },
    {
        "title": "[RONCFPSD-534] code error message on cisco-tsdn-core-fp-common",
        "description": "NSO Version:6.1_230124.150846953.5043401bc5beLogin details:ssh -L 30163:192.168.22.76:8888 root@10.23.213.208 (Password: Cwork123!) (UI login: admin/Cwork123!)SSH login:SSH to Jump host 10.23.213.208 ssh login for 192.168.22.76: admin/Cwork123!",
        "comments": "Hello, I have logged into your NSO and run the following command:admin@ncs> request packages package cisco-tsdn-core-fp-common redeployThis has redeployed the package and fixed the error. Please verify.Thanks Janaki. It looks good now.Redeployed package on NSO. Customer confirmed issue is resolved."
    },
    {
        "title": "[RONCFPSD-508] Want access to Make files for compiling customizing T-SDN FP",
        "description": "As part of TCL POC, we want to demonstrate to customers that we can customize service packs on NSO and show changes on GUI. For example currently encapsulation type is only dot1q present but customers also want to add second-dot-1q as well",
        "comments": "Hello, please post details on error message received and steps to reproduceHello, we have not received further response on this ticket.Please let us know if this issue persists.Note: If no response is received ticket will be closed EOD Aug 2nd."
    },
    {
        "title": "[RONCFPSD-41] Reactiv-Redeploy does not work properly",
        "description": "Steps:1. Headend node is out of sync2. Provision a policy with async commit queue  Provision failed as expect3. Do a sync-to to make headend not in sync4. Do \"Reactive-Redeploy\"  The provisioned policy is still in failed stateXRV9K 7.3.2.33I is used",
        "comments": " Hi Crystal,Please following the steps from wiki linked to resolve the issue.Sync-to and reactive-redeploy is not a right command in this case.Thanks,LinhBy reading the link, I am not sure for this scenario what would be the right command to use except for redeploy? We would like to know in what scenario can reactive-redeploy and redeploy-reconcile can be used?Read the link one more time and found there is flow for \"Redeploy reconcile\" under \"Persistent Create Failure Recovery Flow\". Need clarification on the followings:1. For this flow, one of the steps says \"Sync from on device\".   Is it to do a Sync from device action? copy the device config to NSO?2. I still do not see a flow for \"Reactive Redeploy\".  Can you share the flow for this action?Thanks.All the flows outlined are with respect to NSO being the source of the actions (ie NSO sync-from device)I**don't believe we have a flow outlined for reactive-re-deploy specifically. For the most part on how they differ, is that reactive-re-deploy is shallow and asynchronous by default. You can think of `reactive-re-deploy = re-deploy shallow` except `re-deploy shallow` is synchronous. There are some cases where reactive-re-deploy maybe helpful, but currently nothing comes to mind specifically for T-SDN. For now, you should just follow the wiki on the error flows that Linh forwarded and if any of the flows do not help then feel free to reach out again and we can go over steps to resolve the issue.Had webex with submitter and explained the difference"
    },
    {
        "title": "[RONCFPSD-69] timeout error when provision L3VPN service on XE setup",
        "description": "Provision L3VPN service with SR policy. It includes one end XR (PE2-ASR9k) and the other end XE (ASR920-2-PE8).During the commit, 2 popups with the following error messages: net/http: request canceled (Client.Timeout exceeded while awaiting headers)Server did not respond to the request within 25 seconds.The provision is actually went through. Can someone take a look? Attached is the discussion with cnc-ui-dev",
        "comments": " HI Crystal,Can you provide me the steps to reproduce and payload used..?--Raghavi.Attached please find the payload. The steps is to use CAT UI and import this attached xml file to provision L3VPN service in a setup with has XE devices. Thanks. HI Crystal,We are working on getting the device access.--RaghaviHi Crystal,As we can successfully deploy the service, for me to further debug need details like time when you committed the service and the time you received the plan ready reached notification from NSO.If not you can simple provide the logs. I am looking for ncs-python-vm-ietf-l3vpn-nm.log.Also i would suggest to try out this on NSO UI.Also for future JSD tickets please include all the info requested in this wiki.--Raghavi. NSO: 5.5.2.7TSDN cfp: 3.0.0 M5Device type ; version:   ASR920: 17.6.1  ASR9K: 6.7.2Payload attached. Note: Tried it with an upgraded setup using inventory id to provision service. Payload changed to use inventory id instead of host name for nodes.NSO log attached.  HI Crystal,As discussed over the call..it's the delay in response from device not the NSO. We can check timeout for devices in NSO using below commanddefault timeout is 20Secondshow devices global-settings read-timeout read-timeout 20;In this case XE device is taking little longer time to respond. so increasing this value will help to avoid timeout from NSO if there is any delay in response from the device.--RaghaviHi Crystal,Did the above comment from fix your issue?Thanks,Regino response from submitter"
    },
    {
        "title": "[RONCFPSD-130] unable to create sr-te policy - error ",
        "description": "Tried to create a sr-te-policy on NSO - got the following error msg:message: RPC error towards TB3-PE-B: unknown_element: ns2:sr/ns1:traffic-engineering/ns1:policies/ns1:policy/ns1:candidate-paths/ns1:preferences/ns1:preference/ns1:path-infos/ns1:path-info/ns1:hop-typeNSO: 172.24.97.147 (ssh pw \"Vtsisco@123!\")",
        "comments": "Hi Quy,Please provide the details mentioned in our release notes: Thanks,Nishadhi Nishad,Thanks for getting back to us. Here is the information:i was using NSO UI and CNC-UI to create the sr-te policy (similar payload below)Hi Quy,Please provide the following details.Platform used and version number.Thanks,Nishadhi Nishad,please see the attached files for the infoThanks and regards,-QuyHi Quy,We re-deployed the service and it worked fine.Also tried to reproduce the issue again , but was not reproducible.The Trace for the device wasn't enabled. if you face the issue again , please provide the reproduction steps and logs for further debugging.Thanks ,Nishadhi Nishad,Thanks for the update - will try couple more use cases and will update soon.Good to know that the sr-te policy after redeployed the service went to success state.Regards,-Quyhi Nishad,I tried to create a new sr-te policy from CNC UI and the issue is still displayed.We use ASR9K devices.Please see attached files for the payload, the output of the dry run and the snapshot of the error msg.Hope this is enough information for you.Thanks and regards,-Quy Hi Quy,Issue is because you are using 7.4.2 device but using 7.3 NED.NC NEDs need to match device version otherwise please use CLI.Thanks,Nishadhi Nishad, after changing to 7.4 NED, the sr-te policy went through - was wondering why the NSO did not flag/error out with other policy (i.e. L3/L2 policy) creation.Thanks for your help. You can close this ticket.Regards,-QuyHi Quy,Thank you for the update.Regards,Nishad"
    },
    {
        "title": "[RONCFPSD-96] device sync-from failed after change device-type to netconf ned",
        "description": "Steps:1. This is on a CSP5K setup with Crossowork, CNC and CDG installed2. Onboard provider and devices3. The devices gets created on NSO with cli ned automatically.4. Change to netconf ned by using cli command on NSO VM:set devices device xrv9k-7 device-type netconf ned-id cisco-iosxr-nc-7.35. Do a device sync-from command. It failed with missing element.admin@ncs> request devices device xrv9k-7 sync-fromresult falseinfo xrv9k-7: missing element: hop-type in /ncs:devices/ncs:device/ncs:config/Cisco-IOS-XR-segment-routing-ms-cfg:sr/Cisco-IOS-XR-infra-xtc-agent-cfg:traffic-engineering/Cisco-IOS-XR-infra-xtc-agent-cfg:policies/Cisco-IOS-XR-infra-xtc-agent-cfg:policy/Cisco-IOS-XR-infra-xtc-agent-cfg:candidate-paths/Cisco-IOS-XR-infra-xtc-agent-cfg:preferences/Cisco-IOS-XR-infra-xtc-agent-cfg:preference/Cisco-IOS-XR-infra-xtc-agent-cfg:path-infos/Cisco-IOS-XR-infra-xtc-agent-cfg:path-infoNSO logs attached.NSO version: 5.5.2.7TSDN CFP: 3.0.0 M6Device: XRV9K 7.3.2 33I",
        "comments": " Hi Crystal,XRV9K 7.3.2.33I is not listed on our as such it hasn't tested and validated so we are unable to support this version for the M6 release.Please upgrade to 7.3.2.37I and let me know if you run into the issue there. We can then move forward to investigating the issue further.Thanks,RegiNo response from submitter. Closing ticket."
    },
    {
        "title": "[RONCFPSD-82] XML Payload need to Create L3vpn on Untagged interface",
        "description": "Hi,I have XML paylaod to create L3vpn for tagged interface.but i would need for untagged interface..i have tried removing the connection tag. but doesnt work.        <port-id>TenGigE0/0/0/0</port-id><!--connection>         <encapsulation-type>tagged-int</encapsulation-type>         <tagged-interface>          <type>dot1q</type>          <dot1q-vlan-tagged>           <cvlan-id>106</cvlan-id>          </dot1q-vlan-tagged>         </tagged-interface>        </connection-->attached payload for L3vpn with tagged interface",
        "comments": " It seem your payload is incorrect. This is untagged sample payload <l2vpn-ntw xmlns=\"urn:ietf:params:xml:ns:yang:ietf-l2vpn-ntw\">  <vpn-services>   <vpn-service>    <vpn-id>l2nm-p2p</vpn-id>    <vpn-svc-type>vpn-common:t-ldp</vpn-svc-type>    <vpn-nodes>     <vpn-node>      <vpn-node-id>PE1</vpn-node-id>      <ne-id>PE1</ne-id>      <signaling-options>       <type>vpn-common:t-ldp</type>       <t-ldp-pwe>        <ac-pw-list>         <peer-addr>100.100.100.6</peer-addr>         <vc-id>1001</vc-id>         <mpls-label>101</mpls-label>        </ac-pw-list>       </t-ldp-pwe>      </signaling-options>      <vpn-network-accesses>       <vpn-network-access>        <id>l2vpn-p2p-ac1</id>        <connection>         <encapsulation-type>vpn-common:untagged-int</encapsulation-type>         <untagged-interface>          <l2-access-type>vpn-common:untagged-int</l2-access-type>          <untagged>           <physical-inf>GigabitEthernet0/0/0/3</physical-inf>           <sub-if-id>100</sub-if-id>          </untagged>         </untagged-interface>        </connection>       </vpn-network-access>      </vpn-network-accesses>     </vpn-node>     <vpn-node>      <vpn-node-id>PE2</vpn-node-id>      <ne-id>PE2</ne-id>      <signaling-options>       <type>vpn-common:t-ldp</type>       <t-ldp-pwe>        <ac-pw-list>         <peer-addr>100.100.100.5</peer-addr>         <vc-id>1001</vc-id>         <mpls-label>102</mpls-label>        </ac-pw-list>       </t-ldp-pwe>      </signaling-options>      <vpn-network-accesses>       <vpn-network-access>        <id>l2vpn-p2p-ac1</id>        <connection>         <encapsulation-type>vpn-common:untagged-int</encapsulation-type>         <untagged-interface>          <l2-access-type>vpn-common:untagged-int</l2-access-type>          <untagged>           <physical-inf>GigabitEthernet0/0/0/3</physical-inf>           <sub-if-id>100</sub-if-id>          </untagged>         </untagged-interface>        </connection>       </vpn-network-access>      </vpn-network-accesses>     </vpn-node>    </vpn-nodes>   </vpn-service>  </vpn-services> </l2vpn-ntw>Regards,LinhHi Linh, Thanks for quick response. I am looking for L3vpn .  Not l2vpn.1] I wanted to configure l3vpn on parent interface , without sub-interface.Thanks,Arun.M.GHi Arun, Attached l3nm.xml is corrected oneThanks,LinhHi Linh,I dont see the attachment .Thanks,Arun.M.GThe payload is provided"
    },
    {
        "title": "[RONCFPSD-124] SRV6 policy provisioning throws error ",
        "description": "SRV6 policy provisioning throws below error message:\u00a0SRv6 is not supported with current device or NEDCATEGORY: userSEVERITY: ERRORContext [name = SRv6 validation, message = Either device not synced or NED/device image version is not supported for SRv6 state = {'Service': 'srv6_vpn_policy-9002', 'Device': 'TB3-PE-B', 'NED-ID': 'cisco-iosxr-nc-7.4:cisco-iosxr-nc-7.4', 'Version': ''}]\"\"",
        "comments": "Additional info:10.194.63.142 (CNC cluster - ssh - cw-admin/Cwork123!)10.294.63.147 (NSO - non-LSA with M2 - ssh - nso/Vtsisco@123!)correction on the cluster and NSO setup - only the IP addresses were incorrect 172.24.97.142172.24.97.147 hi NSO team, any update on this and do you need any other info from us?Thanks and regards.Hi Quy,Srv6 policy is supported only for XR 7.3.2 version.ThanksSahithiRef: "
    },
    {
        "title": "[RONCFPSD-118] Devices not showing in the dispatch map for CFS & RFS",
        "description": "Devices not showing in the dispatch map for CFS ; RFS.admin@ncs% show dispatch-mapNo entries found.admin@ncs% run show devices device rfs-1 netconf-notifications subscription                       FAILURE ERRORNAME                STATUS  REASON  INFO-------------------------------------------------------------rfs-1-cisco-custom-template-events running -    -rfs-1-dispatch-map-update      running -    -rfs-cisco-custom-template-events  running -    -rfs-dispatch-map-update       running -    -tsdn-kicker-events         running -    -admin@ncs%CFS-10.194.63.169RFS1-10.194.63.170RFS2-10.194.63.242Credentials: admin/Vtsisco@123!",
        "comments": "Hi Ragesh,I have updated wiki with correct verification steps for the dispatch map : On your CFS node now it shows correctly :admin@ncs% show devices lsa dispatch-map device TB2-P-BOTTOMLEFT {  ned-id   cisco-iosxr-cli-7.36:cisco-iosxr-cli-7.36;  remote-node rfs-1;}device TB2-P-BOTTOMRIGHT {  ned-id   cisco-iosxr-cli-7.36:cisco-iosxr-cli-7.36;  remote-node rfs-1;}device TB2-P-TOPLEFT {  ned-id   cisco-iosxr-cli-7.36:cisco-iosxr-cli-7.36;  remote-node rfs-1;}device TB2-P-TOPRIGHT {  ned-id   cisco-iosxr-cli-7.36:cisco-iosxr-cli-7.36;  remote-node rfs-1;}device TB2-PE-A {  ned-id   cisco-iosxr-cli-7.36:cisco-iosxr-cli-7.36;  remote-node rfs-1;}device TB2-PE-B {  ned-id   cisco-iosxr-cli-7.36:cisco-iosxr-cli-7.36;  remote-node rfs-2;}device TB2-PE-C {  ned-id   cisco-iosxr-cli-7.36:cisco-iosxr-cli-7.36;  remote-node rfs-2;}device rfs-1 {  ned-id cisco-nso-nc-5.5:cisco-nso-nc-5.5;  local;}device rfs-2 {  ned-id cisco-nso-nc-5.5:cisco-nso-nc-5.5;  local;}admin@ncs% RFS Node won't show this .Only CFS will show .Also to refresh the dispatch map :admin@ncs% request devices lsa dispatch-map sync remote-nso rfs-1I tried refreshing in your CFS node and it worked fine.Please let us know if you need any further assistance.ThanksPriyanka"
    },
    {
        "title": "[RONCFPSD-497] L3VPN + OND with SRv6 in 5.0 service model",
        "description": "We have an L3vpn service attached with ODN templates + SRv6 in CNC4.0. After converted it with CNC5.0 format. The provision is successful but the policies are in operational down state. Attached are the payloads for 4.0 and 5.0. Can you let me know if anything is wrong for the conversion? Thanks.",
        "comments": "  Hi Crystal,I do not see any issue with your payload from first glance. It looks similar to payload suggested in the wiki for L3NM support with SR ODN Would you be able to help here?ThanksSahithi"
    },
    {
        "title": "[RONCFPSD-483] [TM-TC] Post cleanup , unable to create new plan again.",
        "description": "In tm-tc fp, cleanup is successfully deleting the config that is intended to be removed. But after retrying creation and cleanup multiple times, the cleanup is throwing below alarm on CLI admin@ncs# *** ALARM service-activation-failure: Operation failed because: Not able to retrieve diffset for zombie nano service : '/cisco-tm-tc-fp-internal:tm-tc'After throwing this alarm on CLI, the cleanup returns success but new plan creation fails. This happens after trying for few times and creating new plan is blocked after we hit this. ",
        "comments": "Hi Raja, thank you for the information.Seems like there are some leftover artifacts from cleanup action which may be interfering with your service creation.Leftover artifacts from cleanup action are typically the result of race conditions. If you see the TM TC cleanup action, we do a delete operation and afterwards force-backtrack plan components. These two operations can result in a race condition which can cause certain artifacts to regenerate during cleanup. Otherwise there could be leftover artifacts that can result in unexpected behavior.To avoid this, for TSDN, we mandate users to first attempt to delete service prior to using cleanup action as a last resort option.Could you confirm if service was deleted prior to cleanup?Thanks,Isaac KimHi Raja,After some discussion, we have decided that the best solution would be to use NSO's native delete operation.As Sahithi corrected me last call, NSO delete is not a synchronous operation. We must keep in mind, cleanup action also has a async delete operation at the beginning of the action. This is what is causing the race conditions and artifacts you mentioned in this ticket. If we do not delete the TMTC service prior to force backtrack, service configuration will remain as leftover artifacts. In addition, in my testing, I have seen TMTC cleanup action leave artifacts when executed on created service with out of sync device. So a delete + converged plan prior to cleanup is a . Otherwise behavior is undefined. : plan must be in backtrack mode and fully converged (which means no active operations on plan are running).To meet this pre-condition, we can do a NSO delete + commit. Once we commit, service config is deleted and zombies will spawn which will backtrack the plan asynchronously.If there are no errors during backtrack, the plan should eventually be cleaned up. In this case, cleanup action is not required.In case there are errors (such as connection refused, out of sync), the plan will fail and remain in backtrack mode. This meets the pre-condition stated above and cleanup action should be executed next.In order to ensure that plan has fully converged, we will need to introduce some kind of external poller mechanism to check plan state. Here is an example flow:<ol>\t<li>Delete Service A</li>\t<li>Commit</li>\t<li>Externally Poll NSO for Service A plan state\t<ol>\t\t<li>Service A plan has no failure during backtrack\t\t<ol>\t\t\t<li>Plan is deleted\t\t\t<ol>\t\t\t\t<li>DONE</li>\t\t\t</ol>\t\t\t</li>\t\t</ol>\t\t</li>\t\t<li>Service A plan has failure during backtrack\t\t<ol>\t\t\t<li>Plan is stuck in failed state and in backtrack mode\t\t\t<ol>\t\t\t\t<li>Execute cleanup action\t\t\t\t<ol>\t\t\t\t\t<li>DONE</li>\t\t\t\t</ol>\t\t\t\t</li>\t\t\t</ol>\t\t\t</li>\t\t</ol>\t\t</li>\t</ol>\t</li></ol>Based on this flow, we can see that the main condition for the poller is to determine if the plan has failed or not. If the plan does not fail during backtrack, the plan should not exist. If the plan does fail during backtrack, the plan will fail and converge. If the plan is currently backtracking, plan should exist and there should be no plan failures.So to determine if we need to execute cleanup action, all we have to do is check if plan has failed or not.To check plan status, you can check two items:<tm tc plan> -> plan -> error-info -> message<tm tc plan> -> plan -> failedIn most cases, there will be an error-info message on plan for failed delete. But in edge cases, there are times when message is empty.I hope this is a viable solution to this problem. Please let us know what you think.Thanks,Isaac KimThanks for looking into the issue. I see, conclusion is that there is no way we can achieve synchronous deletion of plan which is a must as per design of collection service which triggers TM-TC FP. I have concern in polling externally to check if plan deletion is successful or not. This can work in case of standalone installations but there is no plan created on CFS in case of LSA deployments. Given this, we want to do all the changes with in tm-tc fp instead of handling it on client side. Is there any polling API available in ncs api that we can use ? That would be helpful to achieve whatever you are suggesting but within fp code. Hi Moksha,As discussed on call, I have tried to find a way to stream notifications from RFS node to CFS node stream. But I do not think that is possible. We can check the received RFS service-state-change notifications on the CFS node through NSO device tree, but this will require an external poller.To utilize notification stream, you will need to interface with notification stream on the NSO node where the service is located. In the case of LSA, the RFS service-state-change notification stream should be used. A custom kicker can be utilized to watch the received notifications for each RFS node and execute a custom action which can copy over the notifications to CFS notification stream. But this will be more complicated.Thanks,Isaac KimA solution was proposed to submitter and abosorbed."
    },
    {
        "title": "[RONCFPSD-454] NCS 6.1 with M5+ LSA Setup not working",
        "description": "CNC is unable to detect CFS in a LSA setup when installed with NSO 6.1 with M5+ CFP. Setup Details: CNC - 10.194.63.198 (admin/Public123! cw-admin/Cwork123!)NSO CFS - 10.194.63.169 (nso/Vtsisco@123!)NSO RFS-1 - 10.194.63.170 (nso/Vtsisco@123!)NSO - RFS-2 - 10.194.63.242 (nso/Vtsisco@123!)",
        "comments": "Hi Sachin, I will investigate your setup now. Thanks.After investigating, NSO CFS node seems to be responding fine from NSO CLI and NSO WebUI. When checking CNC WebUI, we can see that there are connection timeout errors from DLM which is trying to connect to CFS node port 20243. I assume that DLM should be trying to connect to 2024 which is NSO's ssh port.Sachin to connect with CNC devs about DLMHi Sachin,If everything has been resolved from NSO side, please let me know.I will close this ticket in a few days if there is no reply.Thanks,Isaac KimDLM package was having trouble with misconfigured port. NSO seems to be functioning fine."
    },
    {
        "title": "[RONCFPSD-332] Multiple issues with 4.1.0-M2",
        "description": "1] 1 am not able to provision L2VPN or L3VPN service with devices in south bound locked, Service is going to failed state saying \"devices in south-bound locked\" state2] With devices unlocked: Some of the services failed during provisioning with \"RPC error towards RFS-1: operation_failed: Commit failed because commit queue item 1663485287551 has an overlapping service or device modification.\" ERROR3] When i re-deploy those services failed in (issue 2), i am getting -> RPC error towards RFS-1: unknown_element: for /cisco-flat-L2vpn-fp-internal-remote-site:flat-L2vpn-internal-remote-site-service/cisco-flat-L2vpn-fp-internal-remote-site:flat-L2vpn-p2p: /flat-L2vpn-internal-remote-site-service/flat-L2vpn-p2p: the 'when' expression \"../service-type = 'p2p'\" failedCFS and RFS show tech copied @ /auto/ncahi/cw_pyats/users/shbalu/bkp/NSO:-rwxrwxrwx. 1 shbalu eng 824M Sep 20 09:16 data_091922_215719.tgz -rwxrwxrwx. 1 shbalu eng 1.4G Sep 20 09:17 data_091922_215737.tgz ",
        "comments": "Not seeing Southbound lock issue with L3VPN service, but looking or update on issue 2and 3Below CDET has been raised for this. Hence closing this ticket.CSCwd15938 - L2VPN service creation failed with Commit queue overlapping service or device modification"
    },
    {
        "title": "[RONCFPSD-326] Unable to fetch the ssh-host key for the RFS node and the cluster status showing down",
        "description": "Hi-Unable to fetch the ssh key for the RFS node and the cluster status showing down. Please take a look.admin@ncs% request cluster remote-node rfs-1 ssh fetch-host-keysresult failedinfo Connection to rfs-1 timed outadmin@ncs% run show cluster           LAST  RECEIVEDNAME  NAME STATUS EVENT NOTIFICATIONS-------------------------------------------rfs-1rfs-2REMOTE                 LOCAL REMOTENODE  ADDRESS     PORT CHANNELS USER  USER  STATUS TRACE-------------------------------------------------------------------------rfs-2  172.29.106.133 2022 -     admin admin  down  disabledrfs-1  172.29.106.132 2022 -     admin admin  down  disabledCluster setupCFS - 172.29.106.131RFS1 - 172.29.106.132RFS2 - 172.29.106.133Credentials: admin/Cwork123!",
        "comments": "Hello,Please check your netconf ports and network connectivity.Regards,Janaki Duggiralawe are able to ping from CFS to RFS.can you please let us know how to check the netconf ports?setup details are provided below., can you please check ?Thanks,Arun.M.GHello, We tried to log into the setup mentioned here but we were unable to log in. Please give us the correct IPs to CFS/RFS. If these IPs are correct then maybe the network is not stable, so we are unable to troubleshoot.jaduggir@$ ssh admin@172.29.106.132ssh: connect to host 172.29.106.132 port 22: Operation timed out Regards, Janaki DuggiralaHi Janaki,Able to connect the VM's now, Could you please check the setup.nso@gd-arupras2-nso:~$ ssh admin@172.29.106.131The authenticity of host '172.29.106.131 (172.29.106.131)' can't be established.ECDSA key fingerprint is SHA256:DTy6b5qyCA+gJkcw1JjeB7hcPUNlaR3tRGMcSwbGb1c.Are you sure you want to continue connecting (yes/no)? yesWarning: Permanently added '172.29.106.131' (ECDSA) to the list of known hosts.admin@172.29.106.131's password:Welcome to Ubuntu 18.04.1 LTS (GNU/Linux 4.15.0-29-generic x86_64)<ul>\t<li>Documentation: </li>\t<li>Management:   </li>\t<li>Support:    </li></ul><ul>\t<li>Canonical Livepatch is available for installation.</li></ul><ul class=\"alternate\" type=\"square\">\t<li>Reduce system reboots and improve kernel security. Activate at:   </li></ul>674 packages can be updated.459 updates are security updates.Last login: Wed Sep 14 09:46:58 2022 from 10.65.57.218admin@nso-172-29-106-131:~$Thank you. We are checking.Dev Notes: From investigation,Command stuck hereadmin@ncs% request devices fetch-ssh-host-keysadmin@ncs% request devices device rfs-1 connectNext,admin@nso-172-29-106-132:/etc/ncs$ sudo ufw statusStatus: activeTo       Action  From2244      ALLOW  Anywhere22/tcp      ALLOW  Anywhere2244 (v6)     ALLOW  Anywhere (v6)22/tcp (v6)    ALLOW  Anywhere (v6)Customer did not open firewall port for 2022 and 2024We opened those ports on RFS 1From Linh Ly,Able to connect to rfs1 from cfs after open 2022/2024 port on RFS1admin@ncs> request devices device rfs-1 ssh fetch-host-keysresult updatedfingerprint {algorithm ssh-ed25519value 2d:46:b1:ae:4f:a2:06:6f:4a:e8:f8:b9:a0:2a:02:a3}admin@ncs> request devices device rfs-1 sync-fromresult trueRFS 2 ports need to be opened as well:sudo ufw allow from any to any port <port-number> proto tcpAfter opening ports, Cluster is UPadmin@ncs% run show cluster                RECEIVEDNAME NAME     STATUS LAST EVENT     NOTIFICATIONS-------------------------------------------------------------------------------rfs-1 device-notifications up  0000-01-01T00:00:00-00:00 0  ncs-events   up  0000-01-01T00:00:00-00:00 0rfs-2REMOTE         LOCAL REMOTENODE ADDRESS   PORT CHANNELS USER USER STATUS TRACE-------------------------------------------------------------------------rfs-2  2022 -   admin admin down disabledrfs-1  2022 -   admin admin up  disabledThanks Janaki for checking the issue, allowed 2022 port on RFS2 firewall and now the cluster status showing fine for RFS1 and RFS2.admin@ncs% run show cluster                                RECEIVEDNAME  NAME         STATUS LAST EVENT         NOTIFICATIONS-------------------------------------------------------------------------------rfs-1 device-notifications up   0000-01-01T00:00:00-00:00 0    ncs-events      up   0000-01-01T00:00:00-00:00 0rfs-2 device-notifications up   0000-01-01T00:00:00-00:00 0    ncs-events      up   0000-01-01T00:00:00-00:00 0REMOTE                 LOCAL REMOTENODE  ADDRESS     PORT CHANNELS USER  USER  STATUS TRACE-------------------------------------------------------------------------rfs-2  172.29.106.133 2022 -     admin admin  up   disabledrfs-1  172.29.106.132 2022 -     admin admin  up   disabledThank you, closing ticket.Regards,Janaki DuggiralaCustomer did not open firewall port for 2022 and 2024.Assisted customer with enabling ports.Cluster came up successfully.Below command used for allowing the netconf on NSO-VMsudo ufw allow from any to any port 2022 proto tcp"
    },
    {
        "title": "[RONCFPSD-440] L3VPN with Point-to-point",
        "description": "Hi Team,Are we supporting L3 VPN with P2P vpn service topology, if yes can I get the payload for the same.Also want to confirm for Dynamic MVPN provisioning we do not support P2P vpn-service-topology, if user uses P2P with dynamic MVPN what error will be thrown.Thanks,Kanchan",
        "comments": "P2P is not supported on L3VPN. We have CDETS from Ajitha for it and we are working on it. Should be resolved in M6 release.ThanksSahithiThanks Sahithi. you can close the ticketWorking on a CDET with exact same issue."
    },
    {
        "title": "[RONCFPSD-468] NSO 6.1 - TSDN 5.0.0 M5+  NSO License issue - CAA 5.0 - SH Uni-d Scale setup",
        "description": "Hi,I am seeing below error in my NSO LSA setup (in both CFS and RFS). We have NSO LSA setup installed NSO6.1 , TSDN 5.0.0 M5+ . I am using this setup for SH Uni-d Scale testing, I have 27702 services configured as of now.Can you please check and help ?Since this is Scale setup, having 27k services, please use the Setup for RO purpose onlySetup: 172.29.106.131 - CFS (nso/Cwork123!)172.29.106.132 - RFS1 (nso/Cwork123!)172.29.106.133 - RFS2 (nso/Cwork123!)",
        "comments": "Hi Arun,You're using an engineering build of NSO, so this is normal. Is the causing any other issues other than the notification?Thanks,RegiHi reginald,As of now no. do we have any side effects becuase of this. if nothing and if this is normal, please close this ticket.Sounds good. There shouldn't be any side-effects. Closing the ticket now.Thanks,Regi"
    },
    {
        "title": "[RONCFPSD-9] Context [name = Fetch SIP Error, message = Fetch SIP Failed]",
        "description": "Error====Context File \"/home/nso542/RON-ML/state/packages-in-use/1/cisco-optical-cfp/python/cisco_optical_cfp/optical_actions.py\", line 424, in cb_action\u00a0\u00a0\u00a0 sips = controller.fetch_sip(File \"/home/nso542/RON-ML/state/packages-in-use/1/cisco-optical-cfp/python/cisco_optical_cfp/onc.py\", line 213, in fetch_sip\u00a0\u00a0\u00a0 inv_id = self._get_inventory_key(key)File \"/home/nso542/RON-ML/state/packages-in-use/1/cisco-optical-cfp/python/cisco_optical_cfp/onc.py\", line 314, in _get_inventory_key\u00a0\u00a0\u00a0 (rack, shelf, slot, port) = rem.split(\"/\")Environment==========UI + SSH: nso542/Public1234!Instance: Local Installation /home/nso542/RON-MLONC_HOST=10.56.58.69ONC_PORT=30666ONC_USER=adminONC_PWD=cisco123Service:========<ron-ml\u00a0\u00a0\u00a0xmlns=\"http://cisco.com/ns/nso/cfp/cisco-ron\">\u00a0\u00a0\u00a0\u00a0<name>400Gbps-Transponder-OLS</name>\u00a0\u00a0\u00a0\u00a0<mode>transponder</mode>\u00a0\u00a0\u00a0\u00a0<bandwidth>400</bandwidth>\u00a0\u00a0\u00a0\u00a0<circuit-id>2</circuit-id>\u00a0\u00a0\u00a0\u00a0<grid-type>100mhz-grid</grid-type>\u00a0\u00a0\u00a0\u00a0<frequency>1951000</frequency>\u00a0\u00a0\u00a0\u00a0<dac-rate>1x1</dac-rate>\u00a0\u00a0\u00a0\u00a0<ols-domain>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<service-state>UNLOCKED</service-state>\u00a0\u00a0\u00a0\u00a0</ols-domain>\u00a0\u00a0\u00a0\u00a0<end-point\u00a0>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<end-point-device>P-TOPLEFT-VXR</end-point-device>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<terminal-device-optical\u00a0>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<line-port>0/0/0/0</line-port>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<transmit-power>-90</transmit-power>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0</terminal-device-optical>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<terminal-device-packet\u00a0>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<interface\u00a0>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<index>0</index>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<ip-address\u00a0>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<v4>20.20.10.13/30</v4>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0</ip-address>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0</interface>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0</terminal-device-packet>\u00a0\u00a0\u00a0\u00a0</end-point>\u00a0\u00a0\u00a0\u00a0<end-point\u00a0>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<end-point-device>P-TOPRIGHT-VXR</end-point-device>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<terminal-device-optical\u00a0>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<line-port>0/0/0/0</line-port>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<transmit-power>-90</transmit-power>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0</terminal-device-optical>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<terminal-device-packet\u00a0>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<interface\u00a0>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<index>0</index>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<ip-address\u00a0>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<v4>20.20.10.14/30</v4>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0</ip-address>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0</interface>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0</terminal-device-packet>\u00a0\u00a0\u00a0\u00a0</end-point></ron-ml>",
        "comments": "The add/drop port format - \"Add/Drop port in proper format like \". In the ron->inter-layer-link list the entries are provided in an incorrect format /1/4/2/0/26,25 - instead, it should be 1/4/2/26,25.show ron inter-layer-linkinter-layer-link P-BOTTOMLEFT-VXR 0/0/0/0 { site Site6; ols-domain { network-element tcc3; optical-add-drop */1/4/2/0/26,25*; }}inter-layer-link P-BOTTOMLEFT-VXR 0/0/0/1 { site Site6; ols-domain { network-element tcc3; optical-add-drop */1/4/2/0/28,27*; }}inter-layer-link P-BOTTOMLEFT-VXR 0/0/0/2 { site Site6; ols-domain { network-element tcc3; optical-add-drop */1/4/2/0/24,23*; }}...Hi Yevgeny,Please check installation pre-requistes section, Python module Prarmiko and xmllint are particularly required by RON CFP.I did the following quick tests in your system and looks like Pramiko is missing (unless I missed your normal environment settings for local installation):(pythonEnv) nso542@iorgad-exsi-vm1:~$ netconf-console --host 10.56.58.69 --port 30666 --user admin --password cisco123 --helloYou must install the python ssh implementation paramiko in order to use ssh.(pythonEnv) nso542@iorgad-exsi-vm1:~$ pythonPython 3.8.5 (default, Jul 20 2020, 19:50:14) on linuxType \"help\", \"copyright\", \"credits\" or \"license\" for more information.>>> import paramikoTraceback (most recent call last): File \"<stdin>\", line 1, in <module>ModuleNotFoundError: No module named 'paramiko'>>>Problem continues, all the required components are out there I have a ask from you to prevent moving forward by tiny steps. Can you please make this payload work ? root@iorgad-exsi-vm1:~#python3.8Python 3.8.2(default, Mar 21 2020, 17:24:44)on linuxType\"help\", \"copyright\", \"credits\" or\"license\" for more information.>>> import paramiko;>>> exit();root@iorgad-exsi-vm1:~#xmllint --versionxmllint: using libxml version20903I have changed couple SIP settings in your system to get over the SIP fetch failure. Although I couldn't get the plan reached status completely but I think it will work after clearing pre-existing router config.I am not sure of your ONC topology, you probably need to verify the service-interface-point connection pairs. And, please follow Ravi advice above to configure the inter-layer-link.Before:inter-layer-link P-TOPLEFT-VXR 0/0/0/0 { ols-domain { network-element daigosim9; optical-add-drop /1/6/2/0/20,19; }}inter-layer-link P-TOPRIGHT-VXR 0/0/0/0 { ols-domain { network-element daigosim9; optical-add-drop /1/3/2/0/10,9; }}set ron inter-layer-link P-TOPLEFT-VXR 0/0/0/0After:nso542@ncs% show ron inter-layer-link P-TOPLEFT-VXR 0/0/0/0 ols-domain { network-element daigosim9; optical-add-drop 1/6/2/20,19;}nso542@ncs% show ron inter-layer-link P-TOPRIGHT-VXR 0/0/0/0ols-domain { network-element daigosim10; optical-add-drop 1/1/3/20,19;}nso542@ncs% run show ron ron-ml-plan 400Gbps-Transponder-OLS plan BACK STATUS POST ACTION TYPE NAME TRACK GOAL CODE STATE STATUS WHEN ref STATUS -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------self self false - - init reached 2021-05-25T12:11:43 - create-reached ready not-reached - - - optical-controller Optical-Controller false - RON-101 init reached 2021-05-25T16:05:48 - - cisco-ron-cfp-nano-plan-services:config-apply reached 2021-05-25T16:05:48 - - ready not-reached - - - cisco-ron-cfp-nano-plan-services:router P-TOPLEFT-VXR false - - init not-reached - - - cisco-ron-cfp-nano-plan-services:config-apply not-reached - - - ready not-reached - - - cisco-ron-cfp-nano-plan-services:router P-TOPRIGHT-VXR false - - init not-reached - - - cisco-ron-cfp-nano-plan-services:config-apply not-reached - - - ready not-reached - - -This specific problem was resolved, i will move to a new ticket on the follow up Corrected inter-layer-link issue but the setup has issue with XR routers. Yevgeny decided to close the case and moved to new setup."
    },
    {
        "title": "[RONCFPSD-8] Hardware transceiver capability does not support the configured mode and bandwidth",
        "description": "EnvironmentDescription: \u00a0UI + SSH: nso542/Public1234!Instance: Local Installation /home/nso542/RON-MLSimulation Type: VXR + ZR Emulation \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Service:\u00a0 AttachedXML File\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Devices Types: Spitfires 8201\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Device Details:\u00a0 Attached Json File\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Device Credentials: admin/Public1234!",
        "comments": "Fetch optic port details on ZR failed. Following log message from ncs-python-vm-cisco-zr-cfp.log. Seems like the ZR device name misspelled instead of VXR it is given as XVR in the payload, please fix this for both ZRs and retry.Exception during fetch optics '{P-TOPLEFT-XVR} not in /ncs:devices/deviceadmin@ncs> show devices listNAME        ADDRESS     DESCRIPTION NED ID        ADMIN STATE----------------------------------------------------------------------------------P-BOTTOMLEFT-VXR  192.168.122.182 -      cisco-iosxr-nc-7.3  unlockedP-BOTTOMRIGHT-VXR 192.168.122.4  -      cisco-iosxr-nc-7.3  unlockedP-TOPLEFT-VXR   192.168.122.104 -      cisco-iosxr-nc-7.3  unlockedP-TOPRIGHT-VXR   192.168.122.170 -      cisco-iosxr-nc-7.3  unlockedPE-A        172.16.1.35   -      cisco-iosxr-cli-7.33 unlockedPE-A-VXR      192.168.122.102 -      cisco-iosxr-nc-7.3  unlockedPE-B        172.16.1.36   -      cisco-iosxr-cli-7.33 unlockedPE-B-VXR      192.168.122.28  -      cisco-iosxr-nc-7.3  unlockedPE-C        172.16.1.37   -      cisco-iosxr-cli-7.33 unlockedPE-C-VXR      192.168.122.185 -      cisco-iosxr-nc-7.3  unlockedonc-sd-team    10.56.58.69   -      onf-tapi-nc-1.0    unlockedThanks,RaviHi Yevgeny,Please update the case after the issue is resolved.Thanks,VanHi Yevgeny,We notice you're using unsupported optical adapter device, PID \"DP04QSDD-E30-19A\".Please checktransceiver-capability for supported PIDsThanks,Vanadmin@ncs> show devices device P-TOPLEFT-VXR live-status optics-oper optics-ports optics-port Optics0/0/0/3 optics-info transceiver-infooptics-info transceiver-info date 202005optics-info transceiver-info optics-vendor-rev N/Aoptics-info transceiver-info optics-serial-no 201800148optics-info transceiver-info optics-vendor-part DP04QSDD-E30-19Aoptics-info transceiver-info optics-type \"QSFPDD 400G ZRP\"optics-info transceiver-info vendor-name \"Acacia Comm Inc.\"optics-info transceiver-info oui-no 31.32.00optics-info transceiver-info optics-pid DP04QSDD-E30-19Aoptics-info transceiver-info optics-vid N/Aadmin@ncs> show devices device PE-A-VXR live-status optics-oper optics-ports optics-port Optics0/0/0/0 optics-info transceiver-infooptics-info transceiver-info date 202005optics-info transceiver-info optics-vendor-rev N/Aoptics-info transceiver-info optics-serial-no 201800148optics-info transceiver-info optics-vendor-part DP04QSDD-E30-19Aoptics-info transceiver-info optics-type \"QSFPDD 400G ZRP\"optics-info transceiver-info vendor-name \"Acacia Comm Inc.\"optics-info transceiver-info oui-no 31.32.00optics-info transceiver-info optics-pid DP04QSDD-E30-19Aoptics-info transceiver-info optics-vid N/AHi Van, After upgrading to the ZR version you had recommended, have a i new error RPC error towards PE-A-VXR: unknown_element: ns2:interface-configurations/ns2:interface-configuration/ns1:optics/ns1:optics-modulationNAME: \"FourHundredGigE0/0/0/0\", DESCR: \"Cisco QSFPDD 400G ZRP Pluggable Optics Module\"PID: QDD-400G-ZRP-S , VID: ES03, SN: ACA24490072Now it a Different Error Python cb_nano_create error. Unknown error (66): cisco-ron-cfp-using-cisco-zr-template.xml:13 Expression '{$FEC}' resulted in an incompatible value 'None' for /cisco-zr-cfp:zr/dco{400Gbps-Transponder-internal P-TOPLEFT-VXR}/fecSTATUS_CODE: RON-824REASON: Failed to process and initiate terminal-device config on zr cfpCATEGORY: serviceSEVERITY: ERRORContext [name = terminal-device config state = {'service': '/cisco-ron-cfp:ron/ron-ml{400Gbps-Transponder}', 'device': 'P-TOPLEFT-VXR'}]Hi Yevgeny,It's a strange error. Please do the following so we can continue debugging your setup:<ol>\t<li>Your XR router is running version7.3.15.05I while ours are7.3.15.12I. Please upgrade to7.3.15.12I or later if possible.</li>\t<li>Enable<hide-group><name>ron</name></hide-group> in ncs.conf</li>\t<li>Enable python-vm logging level debug</li></ol>By the way, we took your service config and recreated in our setup successfully.Thanks,VanHi Van,You are missing a point. Your problem is not with XrV 9K Running 7.3.15.05I, but with Spitfire 8K Running xrv9k-full-x-7.3.2.23I PE-A Is XrV 9K and T-TOPLEFT is 8K. Your problem is with 8K\u2019s. Here isthe proof, same service running between two 8K\u2019s , same problem <ron-ml xmlns=\"http://cisco.com/ns/nso/cfp/cisco-ron\"> <name>400Gbps-Transponder</name> <mode>transponder</mode> <bandwidth>400</bandwidth> <circuit-id>2</circuit-id> <grid-type>100mhz-grid</grid-type> <frequency>1951000</frequency> <dac-rate>1x1</dac-rate> <end-point > <end-point-device>P-TOPLEFT-VXR</end-point-device> <terminal-device-optical >  <line-port>0/0/0/0</line-port>  <transmit-power>-90</transmit-power> </terminal-device-optical> <terminal-device-packet >   <interface >  <index>0</index>  <ip-address >   <v4>20.20.10.13/30</v4>  </ip-address>  </interface>   </terminal-device-packet> </end-point> <end-point > <end-point-device>P-TOPRIGHT-VXR</end-point-device> <terminal-device-optical >  <line-port>0/0/0/0</line-port>  <transmit-power>-90</transmit-power> </terminal-device-optical> <terminal-device-packet >   <interface >  <index>0</index>  <ip-address >   <v4>20.20.10.14/30</v4>  </ip-address>  </interface>   </terminal-device-packet> </end-point></ron-ml>Hi Yevgeny,RON 0.5 doesn't support XR 7.3.2.My point was your Spitfire routers PE-A-VXR,P-TOPLEFT-VXR, and evenP-TOPRIGHT-VXR are running older build of XR 7.3.15 (05I) as compared to my working setup, which is running XR 7.3.15 (12I).I am asking you to upgrade your routers toXR 7.3.15 (12I) if possible.Thanks,VanThis is the image we found, is that ok ?8000-golden-x64-7.3.15.23I-PROD_BUILD_7_3_15_23I_DT_IMAGE.isoI am not sure about this particular image. I have uploaded a copy of 7.3.15.12I to/auto/tftpboot-users-sj/vanpham, you can pick up from there.$ md5sum 8000-golden-x64-7.3.15.12I-PROD_BUILD_7_3_15_12I_DT_IMAGE.iso 12769458a0b762137abc6502e9cd23ee 8000-golden-x64-7.3.15.12I-PROD_BUILD_7_3_15_12I_DT_IMAGE.isoPlease let me know if you have trouble downloading the image.Provide image also wont load. Can you please provide your YAML configuration forinspection <sup>yaml file attached. Please note that we're running XVR simulator on bare metal server. If you're running your simulator from a VM, there are more settings required on the hypervisor. VXR sim support alias: vxr-support@cisco.com.</sup>What is this ?linecard_types: Yevgeny's setup is working with updated XR 7.3.15 image."
    },
    {
        "title": "[RONCFPSD-469] Unable to add/edit customer in service tag of transport slicing",
        "description": "Hi,I'm trying to update the customer in service tags. While updating the customer, i'm getting a popup \"Method failed\" and logs out.Setup:userid: nsopwd: Vtsisco@123!",
        "comments": "Hi Magesh,Are you seeing this issue in the latest M6 build?Thanks,RegiHi Regi,I have noticed this issue in below build,nso-6.1_230124-tsdn-5.0.0-M6Thanks,NaveenHi Naveen,Please try with the latest patch build nso-6.1_230206-tsdn-5.0.0-M7.tar.gz (M6+ Patch 1). This has some fixes related to the service-tags.Thanks,RegiHello, please let us know if this issue is still valid.If no response is received, ticket will be resolved EOD Sept 8th.Thank you.No further response from customer. Closing ticket."
    },
    {
        "title": "[RONCFPSD-327] l3vpn topology and RT directions ",
        "description": "When using topology (any-to-any/hub-spoke) \u2013 is there a limitation or convention on the RTs directions in case we use ie-profile? For instance, I configured any-to-any service, but the direction of the RTs (configured under ie-profile) is import \u2013 which is not so correct for any-to-any topology. Another example is in hub-spoke \u2013 in that case, I put the RTs with import - which doesnt make sense for the hub node (also both for the spoke node).  So should we expect any possible direction or NSO will limit it? attached example of hub spoke in which the RTs are with direction \"both\". ",
        "comments": " Hello,There is no limitation or convention on the RTs directions.The service will setup the basic topology defined by the user using the RTs, but there's no restriction if the user wants to import/export/both extra vpn-targets.Let me know if this helps.Regards,Janaki DuggiralaHello, Please let us know if this issue is resolved and if we close the ticket?If no further response is received, ticket will be closed Friday (1/6).Regards,Janaki DuggiralaClosing ticket since no further response has been received from customer."
    },
    {
        "title": "[RONCFPSD-441] FQDN not working on 6.10",
        "description": "hi, when we add NSO provider in CrossWork with FQDN the provider stays unreachable. in prev versions (6.0, 5.76) it worked well. can you please let us know if this build support FQDN? our NSO is 10.56.58.145 (nso610/Public1234!). ",
        "comments": "Hi Idan,From the wiki, we have not changed the ncs.conf configuration between M4/M5/M5+.This looks like 6.1 nightly platform which might have triggered this. NSO CFP team does not test with FQDN for NSO Platform.NSO Platform team would be the right be place to raise this issue.ThanksSahithi"
    },
    {
        "title": "[RONCFPSD-455] L2vpn Route Policy Tag UI takes multiple tag-value but dry-run failed",
        "description": "From CNC UI, user is allow to add multiple tag-value for L2vpn Route Policy Tag. Do a dry run, the following error pops up:Reasontoo many , 2 configured, at most 1 must be configuredPath/cisco-l2vpn-routing-policy:l2vpn-routing-policy/defined-sets/tag-sets/tag-set{tet}/tag-valueSame issue if use API to create, \"tag-value\" is a list but when enter multiple values, the request failed with the following error:ietf-restconf:errors\": {    \"error\": [      {        \"error-type\": \"application\",        \"error-tag\": \"malformed-message\",        \"error-path\": \"/cisco-l2vpn-routing-policy:l2vpn-routing-policy/defined-sets/tag-sets/tag-set\",        \"error-message\": \"too many /l2vpn-routing-policy/defined-sets/tag-sets/tag-set{COLOR_250}/tag-value, 2 configured, at most 1 must be configured\"      }    ]  }Should we not allow user to add multiple tag-value if not allowed? So the UI should disable the Add button once 1 tag-value is added. And the API should not be a list for \"tag-value\".",
        "comments": "As discussed, the limitation should be applied to L3 and L2 behavior is as expected.This is expected behavior for L2VPN route policy"
    },
    {
        "title": "[RONCFPSD-333] vpn instance profile under vpn node",
        "description": "hi, looking on the wiki of l3vpn changes I want to know how the reference to the vpn-instance-profile is done from node. in the yang model I see some new object called - \"active-vpn-instance-profiles\", which has additional information under it (see attached). in the example payload however, I see there is a reference called \"vpn-instance-profile\" under the vpn node. the question is - do we use \"vpn-instance-profile\" to do the reference? and if so - can you elaborate what is the \"active-vpn-instance-profiles\" - and maybe even give example of payload using it? Thanks!",
        "comments": "Hi IdanThe L3NM Model RFC update is still under progress and the payload will be corrected within next few weeks.Let us know if we are good to close the ticket for now.Thanks,Nikhilok, you can close the ticket. Update us when the model is closed. Thank you!The L3NM Model RFC update is still under progress and the payload will be corrected within next few weeks. Will update the user when the model is closed."
    },
    {
        "title": "[RONCFPSD-482] NSO LSA tsdn 5.0 M7 -commands for \"RPL association\" removal are not created and not pushed to the device",
        "description": "The issue is only on NSO LSA - in NSO standalone (with the same M7) the commands for the update are pushed correctly to the device.CFS - 10.56.116.131, RFS 1 - 10.56.116.133, RFS 2 - 10.56.116.134 (credentials for all: nso/Public1234!)Steps to reproduce:1. I created l3vpn service over SR-ODN named \"v6-l3vpn_114_117-420_odn\" &#8211; see attached payload with ODN templates, RPLs, service. 2. After service configs were pushed to the devices (service has two endpoints on 192.168.255.114 and 192.168.255.117 devices) and ODN templates become instantiated and UP - I did (via NSO UI, same issue via CW UI) removal of export route-policy association from 192.168.255.114 endpoint &#8211; see attached snapshot with changesNow I am seeing the following issues:a) I checked the native config section - no configs are being generatedb) After pressing Commit button - NSO reported success, but configs for \"export route policy\" removal (or any other commands) were NOT pushed to the device.I collected logs using get_technical_support_data.sh from CFS and RFS nodes and copied them to the folder in box: ",
        "comments": " FiledHi Leonid,We were not able to reproduce the issue in our setup and can see that the config is being removed properly when removing the export route-policy association.Please help us with your system details to check this issue further.Thanks,NikhilWhich \"system details\" are needed?In the same NSO that I already mentioned (10.56.116.131) and the same service - I tried again and there no device commands shown in \"native config\":the only thing that is shown is:rfs-1<rpc xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\"   message-id=\"1\"> <edit-config xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\">  <target>   <running/>  </target>  <test-option>test-then-set</test-option>  <error-option>rollback-on-error</error-option>  <with-inactive xmlns=\"http://tail-f.com/ns/netconf/inactive/1.0\"/>  <config>   <flat-L3vpn xmlns=\"http://cisco.com/ns/nso/fp/examples/cisco-tsdn-flat-L3vpn-internal\">    <name>L3NM-v6-l3vpn_114_117-420_odn-internal</name>    <endpoint-name>192.168.255.114_114</endpoint-name>    <endpoint>     <endpoint-name>192.168.255.114_114</endpoint-name>     <sr-te>      <odn>       <route-policy xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\"              nc:operation=\"delete\">        <route-policy-name>l3-rpl-114_305</route-policy-name>       </route-policy>      </odn>     </sr-te>     <vrf>      <address-family>       <address-family>ipv6</address-family>       <export-route-policy-name xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\"                    nc:operation=\"delete\"/>      </address-family>     </vrf>    </endpoint>   </flat-L3vpn>  </config> </edit-config></rpc>If commit is pressed the \"removal\" commands are not being pushed to the device also.Hi Leonid,As discussed during our meetings, there was some issue in the setup, the service was not owning the config and hence the config on the device was not getting removed. We did a cleanup of the service, cleared the config on the device and then created the service again which was working fine as expected.The configs are now getting removed properly from the device while removing the association of route policy.Hence closing the issue.Thanks,NikhilCleaned up the service and config and the functionality was working fine after that."
    },
    {
        "title": "[RONCFPSD-496] L3VPN with SRv6 payload in xml format",
        "description": "reference to the following wiki and include this in the L3vpn payload.Import from CNC UI, got the following error:Unknown element: srv6 in /l3nm:l3vpn-ntw/l3nm:vpn-services/l3nm:vpn-service/l3nm:vpn-nodes/l3nm:vpn-node/l3nm:active-vpn-instance-profiles/cisco-l3nm:srv6Can you share the right format to use in the xml file?Payload attached.",
        "comments": " Hi Crystal,You can find the XML format for SRv6 for L3NM in the above sample payloadThanksSahithiUpdated the payload with the following by referring to the suggested wiki:<srv6 xmlns=\"http://cisco.com/ns/nso/fp/examples/cisco-l3vpn-ntw\"> <address-family>  <name>ipv6</name>  <locator-name>ALG0r5</locator-name> </address-family></srv6>Still fail to load from both NSO UI and CNC UI. Updated payload and error message from NSO UI attached. Hi Crystal,Srv6 is inside vpn-instance-profile, the payload you have does not reflect that and thus the error.      <active-vpn-instance-profiles>       <vpn-instance-profile>        <profile-id>ie_01</profile-id>        <srv6 xmlns=\"http://cisco.com/ns/nso/fp/examples/cisco-l3vpn-ntw\">         <address-family>          <name>ipv4</name>          <locator-name>locv4</locator-name>ThanksSahithiThanks Sahithi. It works after moving the srv6 inside vpn-instance-profile. Thanks again for the help."
    },
    {
        "title": "[RONCFPSD-119] Got 404 error when accessing tsdn links in github",
        "description": "The links for CNC-145 and CNC-146 in github used to work, but now returns 404 not found error. Do you know if the path changes? Or I need permission to access?Device Configuration Reference (CNC-145) \u2013Model Reference \u2013Device Configuration Reference (CNC-146)\u2013 Engineering and LCM on SRv6/L2VPN EVPN VPWS over SRv6",
        "comments": "Hi Crystal,It seems like the access list for this private repo was reset. Would you be able to provide a list of user id (or group) that require access to this repo?Thanks,Isaac KimThanks Isaac.Can you do it for cnc-qa ? If not, I can provide the list.Thanks.-CrystalThese config repos are open for readonly by all group. Your user has all required rights, please check.Requested user to check with EngIT team for access issues. Tried by adding individual user id for repo, still same error.Crystal raised ticket with EngIT - Hi Crystal, seems like expected resolution from EngIT team is Jan 20. Please let us know if you have any issues with access tomorrow. Otherwise we will close the ticket if there is no response.Hi Isaac, Looks like I can access this link: But can not access the following 2 links:Thanks.-CrystalHi Crystal,Those last two links are invalid as the directory name has been corrected recently.Here are the two links again with the new change:Please let me know if you cannot access these links or if everything is okay.Thanks,Isaac KimThanks Isaac,The 2 new links work good. Thanks for the help.-Crystal"
    },
    {
        "title": "[RONCFPSD-83] y1731 - M6 - SMAN ID validation error. - errors: reason: is not configured. paths: /ralloc:resource-pools/idalloc:id-pool{sman-id-pool}/range/start. path: /ralloc:resource-pools/idalloc:id-pool{sman-id-pool}/range/start",
        "description": "Hi,Attached l2vpn EVPn with Y1731 enabled payload.tried confiugred , but facing error as below.,errors: reason: is not configured. paths: /ralloc:resource-pools/idalloc:id-pool{sman-id-pool}/range/start. path: /ralloc:resource-pools/idalloc:id-pool{sman-id-pool}/range/starti have configured resource pool via NSO UI .",
        "comments": " Hi Arun, Please load merge config/xr-sman-id-resource-pool.xml as indicating in the M6 wikiRegards,LinhPlease see my previous commentHi Linh,,Thanks for the update. i have followed .in this we didnt have that particular step.i will try as mentioned in  Hi LInh,it worked after load merge config/xr-sman-id-resource-pool.xml .if possible, please add this step in the wikipage Thanks,Arun.M.GHi Arun,SMAN pool is only need for L2VPN/L2NM service when Y1731 is configured.  That is why it is put under L2VPN/L2NM.Putting this information under system install main page would make people more confusing.Regards,Linh"
    },
    {
        "title": "[RONCFPSD-125] NSO Plan errors",
        "description": "Deployed the following RON-ML configuration:ron ron-ml agg1_c1\u00a0mode\u00a0 \u00a0 \u00a0 transponder\u00a0bandwidth 400\u00a0ols-domain service-state UNLOCKED\u00a0end-point agg1\u00a0 terminal-device-optical line-port 0/0/0/0\u00a0 terminal-device-packet interface 0\u00a0\u00a0 ip-address v4 1.1.1.1/31\u00a0 !\u00a0!\u00a0end-point c1\u00a0 terminal-device-optical line-port 0/0/0/0\u00a0 ols-domain end-point-state UNLOCKED\u00a0 terminal-device-packet interface 0\u00a0\u00a0 ip-address v4 1.1.1.2/31\u00a0 !\u00a0!!And were seeing the following errors, need assistance in debugging:do show ron ron-ml agg1_c1 log log-entrylog log-entry 2022-02-02T09:56:45.554372+00:00 type  service-modified level  error message \"Error running action for side-effect item /cisco-ron-cfp:ron/ron-ml-plan{agg1_c1}/plan/component{ncs:self self}/state{ncs:init}: Python cb_action error. Failed to retrieve/validate SIPs\"log log-entry 2022-02-02T12:25:20.134264+00:00 type  service-modified level  error message \"Error running action for side-effect item /cisco-ron-cfp:ron/ron-ml-plan{agg1_c1}/plan/component{ncs:self self}/state{ncs:init}: Python cb_action error. Failed to retrieve/validate SIPs\"log log-entry 2022-02-02T12:26:25.986888+00:00 type  service-modified level  error message \"Error running action for side-effect item /cisco-ron-cfp:ron/ron-ml-plan{agg1_c1}/plan/component{ncs:self self}/state{ncs:init}: Python cb_action error. Failed to retrieve/validate SIPs\" ",
        "comments": "Hi Ulfat,In order to reduce the turn-around time, please include the following information if you can when reaching out for support:<ol>\t<li>Device type and version used for testing</li>\t<li>Add clear steps to reproduce an issue this includes details if some steps were done through NSO UI/CLI or through CNC UI, details on commit options used, order in which payloads were pushed, plan status in between, etc.</li>\t<li>All relevant payloads.</li>\t<li>NSO logs including trace if there was something pushed to the device</li>\t<li>In some cases, we\u2019d like to understand the use-case where we see users performing certain actions especially when some steps are done through NSO UI/CLI.</li></ol>In this case,NSO logs will be very helpful for us to understand the issue.Device Type ; Version: RP/0/RP0/CPU0:c1#show versionThu Feb 3 19:21:39.358 UTCCisco IOS XR Software, Version 7.4.1.06I LNTCopyright (c) 2013-2020 by Cisco Systems, Inc.Build Information: Built By   : gopalk2 Built On   : Sun Nov 15 19:25:55 UTC 2020 Build Host  : iox-lnx-053 Workspace  : /auto/iox-lnx-053-san1/nightly_xr-dev/201115B_8000/ws Version   : 7.4.1.06I Label    : 7.4.1.06Icisco 8201 (VXR) processor with 16GB of memoryc1 uptime is 2 days, 1 hour, 34 minutesCisco 8201 1RU ChassisStep 1. Added ONC to NSO, verified connectivity and synched from:devices device oncaddress      10.48.71.227port       30666authgroup     ONCdevice-type netconf ned-id onf-tapi-nc-1.0connect-retries attempts 5trace      falseout-of-sync-commit-behaviour acceptstate admin-state unlockedStep 2. Configured Inter-Link-Layershow running-config ron inter-layer-linkron inter-layer-link agg1 0/0/0/0site Smolenskols-domain network-element ROADM1ols-domain optical-add-drop 1/2002/1/1,2ols-domain optical-controller onc!ron inter-layer-link agg1 0/0/0/1ols-domain network-element ROADM1ols-domain optical-add-drop 1/2004/1/2,1ols-domain optical-controller onc!ron inter-layer-link agg2 0/0/0/0ols-domain network-element ROADM1ols-domain optical-add-drop 1/2002/1/4,3ols-domain optical-controller onc!ron inter-layer-link agg2 0/0/0/1ols-domain network-element ROADM1ols-domain optical-add-drop 1/2004/1/4,3ols-domain optical-controller onc!ron inter-layer-link agg3 0/0/0/0ols-domain network-element ROADM3ols-domain optical-add-drop 1/2002/1/2,1ols-domain optical-controller onc!ron inter-layer-link agg3 0/0/0/1ols-domain network-element ROADM3ols-domain optical-add-drop 1/2004/1/2,1ols-domain optical-controller onc!ron inter-layer-link agg4 0/0/0/0ols-domain network-element ROADM3ols-domain optical-add-drop 1/2002/1/4,3ols-domain optical-controller onc!ron inter-layer-link agg4 0/0/0/1ols-domain network-element ROADM3ols-domain optical-add-drop 1/2004/1/4,3ols-domain optical-controller onc!ron inter-layer-link c1 0/0/0/0site StPetersburgols-domain network-element ROADM2ols-domain optical-add-drop 1/2002/1/1,2ols-domain optical-controller onc!ron inter-layer-link c1 0/0/0/1ols-domain network-element ROADM2ols-domain optical-add-drop 1/2004/1/2,1ols-domain optical-controller onc!ron inter-layer-link c1 0/0/0/3ols-domain network-element ROADM2ols-domain optical-add-drop 1/2006/1/2,1ols-domain optical-controller onc!ron inter-layer-link c2 0/0/0/0ols-domain network-element ROADM2ols-domain optical-add-drop 1/2002/1/4,3ols-domain optical-controller onc!ron inter-layer-link c2 0/0/0/1ols-domain network-element ROADM2ols-domain optical-add-drop 1/2004/1/4,3ols-domain optical-controller onc!ron inter-layer-link c2 0/0/0/3ols-domain network-element ROADM2ols-domain optical-add-drop 1/2006/1/4,3ols-domain optical-controller onc!ron inter-layer-link c3 0/0/0/0ols-domain network-element ROADM4ols-domain optical-add-drop 1/2004/1/2,1ols-domain optical-controller onc!ron inter-layer-link c3 0/0/0/1ols-domain network-element ROADM4ols-domain optical-add-drop 1/2002/1/2,1ols-domain optical-controller onc!ron inter-layer-link c3 0/0/0/3ols-domain network-element ROADM4ols-domain optical-add-drop 1/2006/1/2,1ols-domain optical-controller onc!ron inter-layer-link c4 0/0/0/0ols-domain network-element ROADM4ols-domain optical-add-drop 1/2004/1/4,3ols-domain optical-controller onc!ron inter-layer-link c4 0/0/0/1ols-domain network-element ROADM4ols-domain optical-add-drop 1/2002/1/4,3ols-domain optical-controller onc!ron inter-layer-link c4 0/0/0/3ols-domain network-element ROADM4ols-domain optical-add-drop 1/2006/1/4,3ols-domain optical-controller onc!Step 3. Configured RON-ML Service:show running-config ron ron-mlron ron-ml agg1_c1mode  transponderbandwidth 400ols-domain service-state UNLOCKEDend-point agg1 terminal-device-optical line-port 0/0/0/0 ols-domain end-point-state UNLOCKED terminal-device-packet interface 0 !!end-point c1 terminal-device-optical line-port 0/0/0/0 ols-domain end-point-state UNLOCKED terminal-device-packet interface 0 !!!step 4. view the Ron-ml-plan Information, and error is observed.For the logs please can you be specific as to what logs you require, no device trace is available as the plan doesn't move to the device config apply.Hi Ulfat,Thanks for providing the above info. For logs, we would probably just needncs-python-vm-cisco-zr-cfp.log andncs-python-vm-cisco-ron-cfp.log.As requested: Linmao, we found that the original issues was related to a incorrect transponder PID value being shown by the VXR device. When we fixed that issue we were able to progress further. However now we receive the following errror:root@ncs(config)# *** ALARM service-activation-failure: RPC error towards agg4: operation_failed: for ns2:interface-configurations/ns2:interface-configuration/ns1:optics/ns1:optics-transmit-power: Invalid argument: Entered tx power not supported by optics. Range supported by the platform is -100 to 10root@ncs(config)# do show running-config ron ron-ml agg4_c2ron ron-ml agg4_c2mode  transponderbandwidth 400ols-domain service-state UNLOCKEDend-point agg4 terminal-device-optical line-port 0/0/0/0 ols-domain end-point-state UNLOCKED terminal-device-packet interface 0 !!end-point c2 terminal-device-optical line-port 0/0/0/1 ols-domain end-point-state UNLOCKED terminal-device-packet interface 0 !!!ron inter-layer-link agg4 0/0/0/0ols-domain network-element ROADM3ols-domain optical-sip 5e3c96ff-8c52-3ac8-b281-c4e8fa60e37bols-domain optical-controller onc!ron inter-layer-link c2 0/0/0/1ols-domain network-element ROADM2ols-domain optical-sip b6ac904f-2b0d-3b02-b12b-9ccf57e19277ols-domain optical-controller onc!Can you suggest a way to see what tx power value is being pushed to CNC as we get the following errors reported in the inc-restconf.log:cnc-restconf.log:4-Feb-2022::12:33:51.395 usid=41512 tid=236628 datastore=running context=cli device=c2 NETCONF error reply: RPC error towards c2: operation_failed: for ns2:interface-configurations/ns2:interface-configuration/ns1:optics/ns1:optics-transmit-power: Invalid argument: Entered tx power not supported by optics. Range supported by the platform is -100 to 10cnc-restconf.log:4-Feb-2022::12:33:51.395 usid=41512 tid=236628 datastore=running context=cli device=agg4 NETCONF error reply: RPC error towards agg4: operation_failed: for ns2:interface-configurations/ns2:interface-configuration/ns1:optics/ns1:optics-transmit-power: Invalid argument: Entered tx power not supported by optics. Range supported by the platform is -100 to 10cnc-restconf.log:4-Feb-2022::13:07:56.672 usid=42744 tid=238902 datastore=running context=cli device=agg4 NETCONF error reply: RPC error towards agg4: operation_failed: for ns2:interface-configurations/ns2:interface-configuration/ns1:optics/ns1:optics-transmit-power: Invalid argument: Entered tx power not supported by optics. Range supported by the platform is -100 to 10cnc-restconf.log:4-Feb-2022::13:07:56.686 usid=42744 tid=238902 datastore=running context=cli device=c2 NETCONF error reply: RPC error towards c2: operation_failed: for ns2:interface-configurations/ns2:interface-configuration/ns1:optics/ns1:optics-transmit-power: Invalid argument: Entered tx power not supported by optics. Range supported by the platform is -100 to 10cnc-restconf.log:4-Feb-2022::13:21:54.114 usid=43298 tid=240316 datastore=running context=cli device=c2 NETCONF error reply: RPC error towards c2: operation_failed: for ns2:interface-configurations/ns2:interface-configuration/ns1:optics/ns1:optics-transmit-power: Invalid argument: Entered tx power not supported by optics. Range supported by the platform is -100 to 10cnc-restconf.log:4-Feb-2022::13:21:54.121 usid=43298 tid=240316 datastore=running context=cli device=agg4 NETCONF error reply: RPC error towards agg4: operation_failed: for ns2:interface-configurations/ns2:interface-configuration/ns1:optics/ns1:optics-transmit-power: Invalid argument: Entered tx power not supported by optics. Range supported by the platform is -100 to 10cnc-restconf.log:4-Feb-2022::13:25:58.397 usid=43636 tid=241372 datastore=running context=cli device=c2 NETCONF error reply: RPC error towards c2: operation_failed: for ns2:interface-configurations/ns2:interface-configuration/ns1:optics/ns1:optics-transmit-power: Invalid argument: Entered tx power not supported by optics. Range supported by the platform is -100 to 10cnc-restconf.log:4-Feb-2022::13:25:58.411 usid=43636 tid=241372 datastore=running context=cli device=agg4 NETCONF error reply: RPC error towards agg4: operation_failed: for ns2:interface-configurations/ns2:interface-configuration/ns1:optics/ns1:optics-transmit-power: Invalid argument: Entered tx power not supported by optics. Range supported by the platform is -100 to 10cnc-restconf.log:4-Feb-2022::13:30:19.768 usid=43906 tid=242322 datastore=running context=cli device=c2 NETCONF error reply: RPC error towards c2: operation_failed: for ns2:interface-configurations/ns2:interface-configuration/ns1:optics/ns1:optics-transmit-power: Invalid argument: Entered tx power not supported by optics. Range supported by the platform is -100 to 10cnc-restconf.log:4-Feb-2022::13:30:19.768 usid=43906 tid=242322 datastore=running context=cli device=agg4 NETCONF error reply: RPC error towards agg4: operation_failed: for ns2:interface-configurations/ns2:interface-configuration/ns1:optics/ns1:optics-transmit-power: Invalid argument: Entered tx power not supported by optics. Range supported by the platform is -100 to 10Hi Ulfat,For transmit power, you can choose to determine the value in your ron-ml payload or use a default value in transceiver-capability table or use an optical controller PCE to determine. The transmit power that you manually set takes priority. If no transmit power is provided, the service uses the value from the transceiver-capability table. If no value in the table is availabe, the service will use the value populated by the optical controller (service will multiply the value by 10). The configured transmit-power is populated as part of ron \u2192 ron-ml\u2192 ron-data \u2192 end-point.To check thetransceiver-capability table:admin@ncs% show ron transceiver-capabilityTo check thevalue populated by the optical controller:admin@ncs> show context connectivity-context connectivity-service-oper-data <uuid>To checkconnectivity-service uuid:admin@ncs> show ron uuid-lookupHope this helps.Hi Linmao, I tried to overwrite the values in the payload:ron ron-ml agg4_c2mode  transponderbandwidth 400ols-domain service-state UNLOCKEDend-point agg4 terminal-device-optical line-port 0/0/0/0 terminal-device-optical transmit-power -10 ols-domain end-point-state UNLOCKED terminal-device-packet interface 0 !!end-point c2 terminal-device-optical line-port 0/0/0/1 ols-domain end-point-state UNLOCKED terminal-device-packet interface 0 !!!But the plan still fails with the same error below... can you suggest a plan to identify what is causing the error?plan failedplan error-info message \"RPC error towards agg4: operation_failed: for ns2:interface-configurations/ns2:interface-configuration/ns1:optics/ns1:optics-transmit-power: Invalid argument: Entered tx power not supported by optics. Range supported by the platform is -100 to 10\"plan error-info log-entry /ron/ron-ml/log/log-entry                     BACK   STATUS                       POST ACTIONTIME     TYPE          NAME    TRACK GOAL CODE  STATE           STATUS  WHEN     ref STATUS-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------2022-02-04T13:53:28 self          self    false -  RON-198 init           failed  2022-02-04T13:53:27 - not-reached                          ready           not-reached -     - -     optical-controller      Optical-Controller false -  RON-200 init           reached  2022-02-04T13:53:07 - -                          cisco-ron-cfp-nano-plan-services:config-apply reached  2022-02-04T13:53:07 - -                          ready           reached  2022-02-04T13:53:27 - -     cisco-ron-cfp-nano-plan-services:router agg4    false -  RON-101 init           reached  2022-02-04T13:53:27 - -                          cisco-ron-cfp-nano-plan-services:config-apply reached  2022-02-04T13:53:27 - -                          ready           not-reached -     - -     cisco-ron-cfp-nano-plan-services:router c2     false -  RON-101 init           reached  2022-02-04T13:53:27 - -                          cisco-ron-cfp-nano-plan-services:config-apply reached  2022-02-04T13:53:27 - -                          ready           not-reached -     - -2022-02-04T13:53:28 self          self    false -  RON-198 init           failed  2022-02-04T13:53:27 - not-reached                          ready           not-reached -     - -     optical-controller      Optical-Controller true init RON-110 init           reached  2022-02-04T13:53:07 - -                          cisco-ron-cfp-nano-plan-services:config-apply not-reached -     - -                          ready           not-reached -     - -     cisco-ron-cfp-nano-plan-services:router agg4    false -  -  init           not-reached -     - -                          cisco-ron-cfp-nano-plan-services:config-apply not-reached -     - -                          ready           not-reached -     - -     cisco-ron-cfp-nano-plan-services:router c2     false -  -  init           not-reached -     - -                          cisco-ron-cfp-nano-plan-services:config-apply not-reached -     - -                          ready           not-reached -     - -Hi Ulfat,Could you please share the logs (ncs-python-vm-cisco-ron-cfp.log, ncs-python-vm-cisco-zr-cfp.log, ncs-python-vm-cisco-optical-cfp.log and devices netconf trace logs) after you overwrited the value?Please also feel free to setup a meeting to debug with us if you like. Not sure if the logs files were not uploaded correctly but I'm sure I uploaded these before....Hi Ulfat,From the plan you pasted above, I believe you are using devices:agg4 and c2 for serviceagg4_c2. But I can't find the device trace logs for these 2 devices from the file you uploaded. Could you please also include them?Hi Ulfat,Are you still having the above issue? If so, please provide us the requested info as mentioned above or we will close this ticket in a week.Thanks.Closing the ticket as no response from submitter is received for more than a week. Please open a new ticket if you need any further assistance."
    },
    {
        "title": "[RONCFPSD-131] WEB UI SSL enablement - PAM authentication failed ",
        "description": "We have avery strange behavior with authentication in local installation. \u00a0One Ienable ssl on webui, system user (that I run the nso with) stops working, and I am able to login with admin only!\u00a0<INFO>2-Feb-2022::20:29:25.400 nso-ucs-haim1 ncs: audit user: /0local authentication failed via webui from 10.56.235.30:59671 with http: no such local user<INFO>2-Feb-2022::18:59:47.911 nso-ucs-haim1 ncs: audit user: /0 PAM authentication failed via rest from10.56.57.59:11201 with https: phase auth, timeout\u00a0\u00a0Thisproblem started with nso57, and it is a problem, since CNC uses https Youtake this flag out, and we are back in business \u00a010.56.58.197nso57/Public1234!cd~/.0.0",
        "comments": "Looking in to the issue.Thanks,NishadHi Yevgeny,Looks like port 8888 is running many other processes which caused the issue.We changed the port and it started working fine.Thanks,NishadClosing ticket since no response from submitter assuming changing port number resolved the issue"
    },
    {
        "title": "[RONCFPSD-97] Discussion on Y1731 Profile disassociation and stale entries in AA",
        "description": "We have two cdets raised CSCvz74193 and CSCvz74161. While performing test as per I-comments, we land up in stale subservice in AA. ",
        "comments": "I would like to mention, reporter requested for meeting at 9:30PM IST (9:00AM PST Wednesday Sept 29) to discuss this issue. If this does not work, please contact Sampath. Please provide some more details about the specific issue we discussed on call (y-1731 profile definition behavior on device). Thanks.No Need of meeting, I tested as per Issac comments, AA side we are seeing stale entries, that we will discuss with AA team. You can move the bug to respective state.Isaac is on PTO today, hence I am replying to this ticket. As discussed on teams, you would be creating a new cdets for AA team and we can mark both these cdets:CSCvz74193, CSCvz74161 to J state.This is not a CFP issue. Submitter will reach out to AA team."
    },
    {
        "title": "[RONCFPSD-68] Im facing some configuration issue suddenly in the working RON setup",
        "description": "Please find the error below:Python cb_nano_create error. Unknown error (66): cisco-ron-cfp-using-cisco-zr-template.xml:13 Expression '{$FEC}' resulted in an incompatible value 'None' for /cisco-zr-cfp:zr/dco{BOTTOMLEFT_BOTTOMRIGHT_400_TR_OLS-internal P-BOTTOMLEFT-VXR}/fec STATUS_CODE: RON-824 REASON: Failed to process and initiate terminal-device config on zr cfp CATEGORY: service SEVERITY: ERROR Context [name = terminal-device config state = {'service': '/cisco-ron-cfp:ron/ron-ml{BOTTOMLEFT_BOTTOMRIGHT_400_TR_OLS}', 'device': 'P-BOTTOMLEFT-VXR'}]Even after setting the transciever capabilty I'm facing this issue",
        "comments": "Can you please attach ncs-python-vm-cisco-ron-cfp.log and ncs-python-vm-cisco-zr-cfp.log files.Can you write down the procedure that led to this error and also please upload your payloadPlease find the payload here:{ \"cisco-ron-cfp:ron-ml\": {  \"name\": \"BOTTOMLEFT_BOTTOMRIGHT_400_TR_OLS\",  \"mode\": \"transponder\",  \"bandwidth\": \"400\",  \"grid-type\": \"100mhz-grid\",  \"circuit-id\": \"3\",  \"frequency\": 1951000,  \"dac-rate\": \"1x1\",  \"end-point\": [   {    \"end-point-device\": \"P-BOTTOMLEFT-VXR\",    \"terminal-device-optical\": {     \"line-port\": \"0/0/0/3\",     \"transmit-power\": -90    },    \"terminal-device-packet\": {     \"interface\": [      {       \"index\": 0,       \"ip-address\": {        \"v4\": \"20.20.10.13/30\"       }      }     ]    }   },   {    \"end-point-device\": \"P-BOTTOMRIGHT-VXR\",    \"terminal-device-optical\": {     \"line-port\": \"0/0/0/3\",     \"transmit-power\": -90    },    \"terminal-device-packet\": {     \"interface\": [      {       \"index\": 0,       \"ip-address\": {        \"v4\": \"20.20.10.14/30\"       }      }     ]    }   }  ] }} Reached out to Aarthi for a call. The tar attached is not extractable. Hi Aarthi,Is the issue resolved? Please let us know if you're still needing suport; otherwise, we will close this ticket in 3 days.Dismiss the case for now as there's no feedback from the reporter despite repeated attempts to contact. Please open new case if issue is seen again."
    },
    {
        "title": "[RONCFPSD-40] NSO error recovery audit log - wrong action name",
        "description": "The audit log under /var/log/ncs on NSO VM shows different name for some actions. \"Sync-from\", \"Sync-to\" shows \"error-recovery\"\"Re-deploy Dry Run\" shows \"re-deploy\"\"Re-deploy Reconcile\" shows \"re-deploy\"The same action name should be seen the audit log for easy debugging.Attached is the actions with audit log messages.Please let me know if there is a concern to open a CDETS.",
        "comments": " Hi Crystal, Please provide NSO API invoked from CNC UI for the each of scenarios that you reported the issue.Thanks,LinhThanks Mukul.Hi Linh,From end users point of view, they will not know the internal implementation. All of the actions are error recovery includes the one highlighted the ones have matching action names. It would be great if we can add more details to distinguish different actions. And that is the purpose of having audit log.What do you think?Thanks.-CrystalFrom: \"Mukul Shukla (mukshukl)\" <mukshukl@cisco.com>Date: Friday, August 6, 2021 at 1:07 PMTo: Crystal Yu <cyu2000@cisco.com>, \"nso-ned-jira.gen -X (Generic User at Cisco)\" <nso-ned-jira.gen@cisco.com>Cc: \"cat-ui-dev(mailer list)\" <cat-ui-dev@cisco.com>Subject: Re: NSO error recovery audit log - wrong action nameHello Crystal,I think this makes sense. The sync-from and sync-to are actually part of error-recovery actions of a service and \u201csync-from\u201d and \u201csync-to\u201d are actually just sync directions being passed -Here is a sample call for L3VPN for sync-to We call - /ietf-l3vpn-ntw:l3nm-actions/error-recoveryWith payload - {\"sync-direction\": \"sync-to\" , \"service\": serviceName}For \u201csync-from\u201d the payload changes to reflect sync-direction, the URL doesn\u2019t. So it\u2019s actually an error recovery call.For Redeploy maybe the message can be improved from NSO, but here again the call is always to \u201credeploy\u201d We POST to serviceKey + \"/re-deploy\". Only the payload (type of redeploy) changes in payload Normal redeploy no payloadRe-deploy Dry run - { \\\"dry-run\\\": { \\\"outformat\\\": \\\"cli\\\" } }Redeploy Reconcile - { \\\"reconcile\\\": { \\\"keep-non-service-config\\\":{} } }Thanks,MukulFrom: Crystal Yu (cyu2000) <cyu2000@cisco.com>Date: Friday, August 6, 2021 at 12:11 PMTo: nso-ned-jira.gen -X (Generic User at Cisco) <nso-ned-jira.gen@cisco.com>, Mukul Shukla (mukshukl) <mukshukl@cisco.com>Subject: Re: NSO error recovery audit log - wrong action nameHi Linh,I am including Mukul here to help me for the information you requested.Hi Mukul,I tried all the error recovery actions from Provision UI page. And found some of them does not have the right action name in NSO audit log. Linh is looking for the APIs invoked from CNC UI. Can you help to share the info.? Mainly for the highlighted ones.Here is the description for the JSD request in case you can not access the link:The audit log under /var/log/ncs on NSO VM shows different name for some actions.\"Sync-from\", \"Sync-to\" shows \"error-recovery\"\"Re-deploy Dry Run\" shows \"re-deploy\"\"Re-deploy Reconcile\" shows \"re-deploy\"The same action name should be seen the audit log for easy debugging.Attached is the actions with audit log messages.Please let me know if there is a concern to open a CDETS.Thanks.-CrystalHi Crystal,I'm not too sure what the ask here is? Are the actions requested incorrect or just not showing up properly in the audit.log?First of all let me say, that T-SDN does not manage `/var/log/ncs/audit.log`, this log is managed by the NSO Platform as such if there are issues with the logging an RT with the platform team would need to be filed; however, ifthe issue is incorrect actions are being requested, then that means the at the NB interface which is sending the wrong commands to NSO as these are POST requests.As far as incorrect logging is concerned, I would need reproduction steps with NSO directly since I was unable to reproduce the issue by manually sending POST requests.<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>curl -X POST http://127.0.0.1:8080/restconf/data/cisco-sr-te-cfp:sr-te/cisco-sr-te-cfp-sr-policies:policies/policy=SRv6-701-igp-absolute-disjoint/re-deploy --user admin:admin</pre></div></div>audit.log output<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre><INFO> 9-Aug-2021::09:03:32.321 pop-os ncs[39559]: audit user: admin/153 RESTCONF: request with http: POST /restconf/data/cisco-sr-te-cfp:sr-te/cisco-sr-te-cfp-sr-policies:policies/policy=SRv6-701-igp-absolute-disjoint/re-deploy HTTP/1.1 trace-id=299decb2-bfa0-465a-824d-44bef4219945 <INFO> 9-Aug-2021::09:03:32.326 pop-os ncs[39559]: audit user: admin/155 assigned to groups: admin <INFO> 9-Aug-2021::09:03:32.326 pop-os ncs[39559]: audit user: admin/155 created new session via rest from 127.0.0.1:43212 with http <INFO> 9-Aug-2021::09:03:32.592 pop-os ncs[39559]: audit user: admin/155 terminated session (reason: normal) <INFO> 9-Aug-2021::09:03:32.592 pop-os ncs[39559]: audit user: admin/153 terminated session (reason: normal) <INFO> 9-Aug-2021::09:03:32.592 pop-os ncs[39559]: audit user: admin/153 RESTCONF: response with http: HTTP/1.1 /restconf/data/cisco-sr-te-cfp:sr-te/cisco-sr-te-cfp-sr-policies:policies/policy=SRv6-701-igp-absolute-disjoint/re-deploy 204 duration 307963 ms trace-id=299decb2-bfa0-465a-824d-44bef4219945</pre></div></div>Thanks,RegiI should say the above output was created using NSO 5.5.2.3. It would be good if you can provide the details outlined for support: Thanks,RegiHi Reginald,We have a test case to test audit log for NSO actions triggered from CNC UI. What I am checkin is the audit log message itself not the action request is incorrect. Based on the information you shared. The audit log has to be handled by NSO team. Do you happened to know the CDETS's product and component to use for NSO platform.Hi Crystal,Let's first narrow down the issue and see if its actually a bug with NSO or not. Can you please share a screenshot of the action information in CNC UI?Submitter wanted logging for not just the RESTCONF API, but the payload pushed as well. This sort of logging can be enabled but should be done so in production settings.<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>from ncs.conf(5):/ncs-config/logs/webui-access-log/traffic-log (boolean) [false] Is either true or false. If true, all HTTP(S) traffic towards the embedded Web server is logged in a log file named traffic.trace. The log file can be used to debugging JSON-RPC/REST/RESTCONF. Beware: Do not use this log in a production setting. This log is not enabled by default and is not rotated, i.e. use logrotate(8).</pre></div></div>The log output is as follows:1. Send RESTCONF POST request with payload<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>curl -X POST http://127.0.0.1:8080/restconf/data//cisco-sr-te-cfp:sr-te/cisco-sr-te-cfp-sr-policies:policies/policy=SR-CLI-DYNAMIC/re-deploy --user admin:admin -d {\\\"dry-run\\\":{\\\"outformat\\\":\\\"cli\\\"}} --header \"Content-Type:application/yang-data+json\"</pre></div></div>2. Output from logs/trace_.traffic<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>POST /restconf/data//cisco-sr-te-cfp:sr-te/cisco-sr-te-cfp-sr-policies:policies/policy=SR-CLI-DYNAMIC/re-deploy HTTP/1.1 Accept: */*^M Host: 127.0.0.1:8080^M User-Agent: curl/7.74.0^M Content-Length: 31^M Content-Type: application/yang-data+json^M Authorization: Basic YWRtaW46YWRtaW4=^M [2021-08-10 13:42:56.940] ===== CLI -> SRV ===== {\"dry-run\":{\"outformat\":\"cli\"}} [2021-08-10 13:42:57.327] ===== SRV -> CLI ===== HTTP/1.1 200 OK^M Date: Tue, 10 Aug 2021 20:42:56 GMT^M Cache-Control: private, no-cache, must-revalidate, proxy-revalidate^M Content-Length: 69^M Content-Type: application/yang-data+json^M X-Cisco-NSO-Trace-ID: 867356d5-7953-42da-af8d-d7720c8b4c19^M Pragma: no-cache^M Content-Security-Policy: default-src 'self'; block-all-mixed-content; base-uri 'self'; frame-ancestors 'none';^M Strict-Transport-Security: max-age=15552000; includeSubDomains^M X-Content-Type-Options: nosniff^M X-Frame-Options: DENY^M X-XSS-Protection: 1; mode=block^M ^M { \"cisco-sr-te-cfp-sr-policies:output\": { \"cli\": { } } }</pre></div></div>"
    },
    {
        "title": "[RONCFPSD-54] Re: Actions Supported for a given service",
        "description": "Ref Email - Re: Actions Supported for a given service -As per feature - F108236 - CNC-117: Select Usability Improvements in Service Provisioning . CNC UI implemented an option to execute the following actions on each service via restconf calls \u2013 (in attachment)As we have noted so far \u2013 there are cases like when the service is in zombie state certain actions are not applicable.I have two questions here \u2013Are there any situations (like zombie state) \u2013 when these actions are not applicable?Is there any way for CNC to detect these states?",
        "comments": "**For a service to go into a zombie state, it must be deleted first and when you delete a service then all of the service configurations are removed from NSO CDB; therefore, any actions which go down this service config path to trigger said action will fail as the config path does not exist.Can CNC check if the service path exists before executing the service actions?Thanks. My question is are you aware of anything else apart from Zombie state when these actions are not applicable?Attaching the email regarding the issue discussion."
    },
    {
        "title": "[RONCFPSD-253] How to differentiate from get_Schema API response to load leafref key in different cases",
        "description": "Previously prov-ui editor renders any leafref as a text field with validation that user entered data exists (default behavior ).Now we have different cases to render on prov-ui editor ,As prov-ui editor is dynamic and generic way to load the modal we need help in identify the solution to differentiate between two cases.some use cases prov-ui need to add a custom dropdown as a special case e.g in case of VPN-Profiles.Based on initial analysis To handle these cases generically we have added a check based on--> IN case, If we have ( is_leafref = true , kind= key ) without any value we load it as a custom drop-down--> IN case, If we have is_leafref = true , kind= key and has value =ct-logging we load it as text field with validation that user entered ( default behavior).Just want to confirm is this valid check and enough to handle for all the case or is there a way we can differentiate between two to handle both cases except adding these checks.NOTE: added the screen shot for these KEY response form get_schema JSON RPC call.",
        "comments": "Hi Kirandeep,In a scenario, where the leafref points to value A,B,C and D.If you have a model without any value field, then yes the drop down list would be correct.If the model shows a value chosen from the leafref then yes, the textbox/text-field would be the right choice to populate the value.Let me know if this helps?hey janaki, Thanks for confirming, so we can go head and add that check based on value felid we populate the dropdown and text for leafref pointsQuick question - how will you be populating the drop down? What field will be used?In case of Leafref as kind key we are using custom modal select field to populate the dropdown on selection we do validate by calling method: \"exists\" in JSON RPC call.Okay, thank you. Please let me know if your query is answered and if I may close this ticket.yes we can close this ticket got the confirmation needed Customer requested feedback wit design question. Feedback/Clarification was provided."
    },
    {
        "title": "[RONCFPSD-535] fail to create L2 P2P dedicated slice ",
        "description": "Create an L2 P2P dedicated slice from CNC UI. It failed with the following error:Problem while provisioning the slice[{\"Message\":\"/network-slice-services/slice-service{SL-L2-P2P-Dedi-690}/cisco-nss:shared: the 'when' expression \\\"derived-from-or-self(../isolation, 'ietf-nss:service-isolation-dedicated')\\\" failed\",\"nsoResponse\":\"/network-slice-services/slice-service{SL-L2-P2P-Dedi-690}/cisco-nss:shared: the 'when' expression \\\"derived-from-or-self(../isolation, 'ietf-nss:service-isolation-dedicated')\\\" failed\"}]I do not have payload for the slice, but attach the screenshots for all the data entered for creating slice. Also attached the payload for creating ODN and NSST. build combo: infra 293 + CDG 441 + COE 171 + CAT 151 + NSO 6.1.2 drop5",
        "comments": " Hi Crystal, The error message seems to indicate a validation was triggered due to incorrect config being present in the payload.In detail, this validation is present on the shared container as below:  container shared {   when \"derived-from-or-self(../isolation, 'ietf-nss:service-isolation-dedicated')\";To investigate, we may need to fix the payload or you may need to reconfigure the settings to make sure they match the validation mentioned above.Let me know if this helps.Regards,Janaki DuggiralaHello, to summarize the meeting:1. Validation was triggering due to incorrect single-sided-control config present in the payload. Once the incorrect single-sided-control was removed. Payload was succesful.2. single-sided control is present in the wiki (correctly) and can be found under the NSO UI Path -> ietf-nss:network-slice-services/slice-service{L3-Dedicated}/cisco-nss:shared3. Regarding single-sided-control usage:<ul>\t<li>P2P: no single-sided-control</li>\t<li>Hub and spoke: single-sided-control with service-isolation-dedicated</li>\t<li>Any-to-any: single-sided-control with service-isolation-dedicated4. single-sided-control is only used for Dedicated service. This is because dedicated side of the slice can be configured to force the same forwarding path selection in each direction when connecting to a shared endpoint. This behavior can is modeled in the dedicated slice service by setting the \u201csingle-sided-control\u201d flag.</li></ul>Please let us know if all questions are resolved and if we may please close this ticket.Thanks Janaki for sharing the info. One question about the pre-requisite for adding global settings for L2 P2P dedicated slice provision to work. Is \"L2-ATTACH\" a reserved word or it can be a user defined value?eg. set network-slice-services global-settings parent-rr-route-policy L2-ATTACHHello Crystal, it can be any route-policy. L2-ATTACH is only a sample.Customer queries were answered. Customer confirmed ticket can be resolved."
    },
    {
        "title": "[RONCFPSD-521] Need help in bringing up a NSO L3 HA setup",
        "description": "The ticket is related to ,Hi Thomas/team,Need a quick help please.Tried to bring up end to end NSO L3 HA and it came up as expected, except VIP 7.7.7.7 did not came up in Primary NSOs Loopback IP. Would you please suggest.Jump host - 10.23.226.188 \u2013 root/Cwork123!NSO \u2013 192.168.5.69, 192.168.6.69 \u2013 VIP \u2013 7.7.7.7 (Credentials - nsoaz1/Cnc@1234)Router \u2013 5.5.5.5 \u2013 admin/Cwork123!Steps followed:Brought up Ubuntu 22.04. Installed Java, Python, gobgp, NSO 6.1.2 and corresponding tailf-hcc package.Brought up CSR router and configured necessary bgp config (VIP 7.7.7.7 is learnt as bgp route in CSR routers routing table).Followed NSO HA wiki and configured HA, HCC configs \u2013 L3 configs are similar to your configuration.L3 HA came up, Secondary node IP shown in Primary. All looks good except just 1 point - VIP not assigned to Loopback IP.ThanksAjitha",
        "comments": "Hi Ajitha,Ive logged on to your NSO nodes and verified that the VIP is indeed assigned to the loopback interface of the primary node (see pic attached). Also, if you need to seewhich interface HCC will choose for a particular VIP address that you have provided, use the command ip route get <VIP_Address> (first command on the attached pic).Will close the ticket now as designate as resolved.Thank you.Hi Ajitha,Ive logged on to your NSO nodes and verified that the VIP is indeed assigned to the loopback interface of the primary node (see pic attached). Also, if you need to seewhich interface HCC will choose for a particular VIP address that you have provided, use the command ip route get <VIP_Address> (first command on the attached pic).Will close the ticket now as designate as resolved.Thank you."
    },
    {
        "title": "[RONCFPSD-247] RFS HA is broken",
        "description": "Hi Team,We are trying to bring up RFS-HA. Unfortunately the HA doesn't come up after following the HA installation guide as it is.The standby node status as been found as follows:admin@ncs> show high-availability statushigh-availability status mode nonehigh-availability status assigned-role slavehigh-availability status be-slave-result \"error (27) - FXS mismatch\"high-availability status master-id masterhigh-availability status read-only-mode falsePlease help to check and share the clarity on the issue.",
        "comments": "Hi Dinesh ,As discussed over webex this is junk JSD,having M5 on primary and M4 on secondary would never work which saw.Please have same builds on both and then try.closing now.ThanksPriyanka"
    },
    {
        "title": "[RONCFPSD-290] NSO-M7, TM-TC-244: L2VPN P2p-L2nm-Plan not moving to completed",
        "description": "NSO version - 5.7.4CFP build version - 4.0 M7Device type and version used for testing -  1) 10.56.23.148 - 7.7.1 2) 10.56.23.21 - 7.5.2Add clear steps to reproduce an issue \u2013 this includes details if some steps were done through NSO UI/CLI or through CNC UI, details on commit options used, order in which payloads were pushed, plan status in between, etc.>> sampath >> 1) Install latest LSA 4.0 M7 with one CFS and two RFS.              2) Created L2VPN P2p Plain. Service got stuck in plan.             Config got pushed into devices, but Plan is not completed in NSO>> Logs attachedCFS: 10.56.116.151RFS1: 10.56.116.152RFS2: 10.56.116.153nso/Public1234!",
        "comments": " Hi Sampath ,Please fix your bootstrap for netconf notifications :nso@ncs% run show devices device sareddyd-esxi-01-vm2 netconf-notifications subscription                               FAILURE                                NAME                        STATUS  REASON   ERROR INFO                         -----------------------------------------------------------------------------------------------------------------------------------rfs-cisco-custom-template-events          running -     -                              rfs-dispatch-map-update              running -     -                              sareddyd-esxi-01-vm2-cisco-custom-template-events running -     -                              *sareddyd-esxi-01-vm2-dispatch-map-events      failed  subscribe Failed to create subscription: bad_element: no such stream *sareddyd-esxi-01-vm2-kicker-events         running -     -                              tsdn-kicker-events                 running -     -                              nso@ncs% run show devices device sareddyd-esxi-01-vm3 netconf-notifications subscription                               FAILURE                                NAME                        STATUS  REASON   ERROR INFO                         -----------------------------------------------------------------------------------------------------------------------------------rfs-cisco-custom-template-events          running -     -                              rfs-dispatch-map-update              running -     -                              sareddyd-esxi-01-vm3-cisco-custom-template-events running -     -                              *sareddyd-esxi-01-vm3-dispatch-map-events      failed  subscribe Failed to create subscription: bad_element: no such stream *sareddyd-esxi-01-vm3-kicker-events         running -     -                              tsdn-kicker-events                 running -     -                              Please follow verification section post install :Thanks,Priyanka"
    },
    {
        "title": "[RONCFPSD-284] NSO allow to delete route-target from l3nm",
        "description": "Tried to create l3nm with no RT, but NSO not allow this (see attached). After creation of l3nm with RT, it is possible to delete all RTs - so is this field mandatory or not? It has effect on validations we do in CNC. ",
        "comments": "Hi Idan,'route-target-type' is mandatory when the 'vpn-target' is present.In the second screenshot , you created l3 with vpn-target list but no 'route-target-type' . that is why the error \"route-target-type' is not configured\".in the first screenshot , you deleted the 'route-target' list which is not mandatory.Regards,Nishad Subairhi, thank you, so when I look on the yang model, how can I tell which field is mandatory, and which is not? the question here is why NSO will not block this kind of config? l3vpn without route targets is not a real scenario. Hi Idan,route-targets is optional on device and mandatory would break backwards compatibility.Thanks,Nishad Subair"
    },
    {
        "title": "[RONCFPSD-280] SR-TE Service cleanup via UI gets stuck in in-progress state",
        "description": "SR-TE Service cleanup via UI gets stuck in in-progress stateIve saved the NSO logs in the below server. Server:172.28.122.102 temp1/Cwork123!$ ls -ltrtotal 1940592-rwxrwxrwx 1 temp1 temp1 131378022 Jun 8 19:52 data_060822_224554.tgz <-CFS-rwxrwxrwx 1 temp1 temp1 946363052 Jun 8 19:54 data_060822_224847.tgz <-RFS-1-rwxrwxrwx 1 temp1 temp1 909420360 Jun 8 20:01 data_060822_225322.tgz <-RFS-2-rwxrwxrwx 1 temp1 temp1 684909909 Jun 8 22:18 showtech_capp-aa_all_20220609050836.tar.gz-rwxrwxrwx 1 temp1 temp1 644942619 Jun 8 22:33 showtech_capp-cat_all_20220609051816.tar.gz$ pwd/tmp/reg7_policy_cleanup$Ive removed the zombie using resurrect, but service is still in in-progress state. Issue seen in both #209 and #214.admin@ncs> request zombies service /sr-te/cisco-sr-te-cfp-sr-policies-internal:policies/policy resurrectresult trueadmin@ncs> show zombie% No entries found.admin@ncs>admin@ncs> show configuration | display set | match 9066admin@ncs>",
        "comments": " Hi Joseph,First thing to note is that zombie resurrect is not a supported action for TSDN CFPs. Second thing to note is that zombie resurrect will restore service state from the zombie itself, so if you see the service back in provisioning state, that is what resurrect is intended to do.Also, I cannot find the logs on your server. Could you provide the absolute path to logs?Could you also detail the steps you took before the cleanup action?Thanks,Isaac Kimzombie resurrect was performed after the clean-up had failed (got stuck in in-progress). So how do we remove this zombie?Could you also detail the steps you took before the cleanup action?Step1 : Create the service via UI using l2vpn_R1_R10_srpolicy_tldp_dot1q.iniStep2 : Start Basic monitoring and then stop monitoringStep3 : Perform clean-up via UI Could you provide the absolute path to logs?$ pwd/tmp/reg7_policy_cleanup$Hi Joseph,From your steps, it seems like you executed cleanup action without first deleting service. This is not a supported flow for TSDN. Cleanup action should only be executed as a last resort option to clear a failed delete service as stated in our documentation. As such, delete should always precede cleanup, otherwise you will face race conditions such as leftover artifacts.Please try the following steps:1. Delete service + commit2. Check for zombies, if there are stuck zombies continue to next step3. Execute cleanup action targeting serviceHi Joseph, we have discussed few recovery options via Webex chat. I believe we have been able to address your issue for this JSD ticket. If there is no reply in next few days, I will close this ticket.Thanks,Isaac Kim"
    },
    {
        "title": "[RONCFPSD-519] Need help on how to setup NSO HA for 6.1.2",
        "description": "Please help setting up the HA for GEO-HA testing for CNC 6.0Please let us know what needed for the VMs.Thanks and regards.",
        "comments": "Hi Quy,Can you provide/prepare the following:<ul>\t<li>1 ESXi Host where we can deploy the following:</li>\t<li>3 VMs with two network interfaces each, one for private one for public network.</li>\t<li>Download a CSR100V (latest version from CCO) image and install on the same ESXi host as the VMs above</li>\t<li>Two virtual switches on the same ESXi</li>\t<li>Provide the public IPs for the VMs</li></ul><img src=\"https://jira-eng-gpk3.cisco.com/jira/images/icons/attach/noimage.png\" imagetext=\"IMG_5645.jpg|thumbnail\" align=\"absmiddle\" border=\"0\" />hi Abe, Thanks for getting back to us regarding the HA setup for L3.We would like to know if you could help and what do we need if we want to have L2 instead - what requirements are needed.Synced up with Quy and walked her in setting up L2 HA using tail-f HCC 6.0.0 package (VIP). Answered all questions regarding the setup and is clear on her side. Closing the ticket now since they are ok with L2 HA for now.Hi Quy,Please let me know if you have additional questions from our sync-up yesterday regarding setting up NSO L2 HA. I hope Ive answered all your questions, but let me know if you have additional queries about the steps/setup.In the mean time, Im closing the ticket and designate it as done.Thank you,AbeHi Quy,Please let me know if you have additional questions from our sync-up yesterday regarding setting up NSO L2 HA. I hope Ive answered all your questions, but let me know if you have additional queries about the steps/setup.In the mean time, Im closing the ticket and designate it as done.Thank you,Abe"
    },
    {
        "title": "[RONCFPSD-243] CNC 2.0 Spring4Shell vulnerability testing: L3VPN Profile creation error",
        "description": "Hi Nipa, Divya and Sid,NSO: 5.4.6CNC 2.0.2When we try to create the L3VPN profile I am seeing the below error.Steps to reproduce.Step 1: Created a L3vpn Route PolicyStep 2: Click on VPN ProfilesStep 3: Click + and select Route policy and click on Commit Changes.No Configuration change detectedfilename/crosswork/proxy/nso/jsonrpc/get_leafref_values{\"params\":{\"path\":\"/l3vpn-ntw:l3vpn-ntw/vpn-profiles/valid-provider-identifiers/routing-profile-identifier/id\",\"skip_grouping\":true,\"th\":60},\"jsonrpc\":\"2.0\",\"id\":2303,\"method\":\"get_leafref_values\"}{\"jsonrpc\":\"2.0\",\"result\":{\"values\":[\"RTR-P-1222\",\"RTR-Policy-100\"],\"source\":\"/cisco-flat-L3vpn-fp:l3vpn-route-policy\"},\"id\":2303}{\"params\":{\"path\":\"/l3vpn-ntw:l3vpn-ntw/vpn-profiles/valid-provider-identifiers/routing-profile-identifier/id\",\"value\":\"RTR-P-1222\",\"th\":60},\"jsonrpc\":\"2.0\",\"id\":2304,\"method\":\"set_value\"}{\"jsonrpc\":\"2.0\",\"error\":{\"type\":\"rpc.method.invalid_params\",\"code\":-32602,\"message\":\"Invalid parameters\",\"data\":{\"reason\":\"wrong number of identifiers\",\"param\":\"path\"},\"internal\":\"webui_util699\"},\"id\":2304}",
        "comments": " Hi Joby,Could you please share your NSO IP and credentials?I will take a look.ThanksPriyankaNSO : 10.195.165.233 (admin/Ovatest123@)As discussed over Webex NSO CFP is working perfectly fine for these steps.It seems to be CNC UI issue.I will close the JSD now.Thanks,PriyankaIssue here is CFP team fixed the issue with NSO 5.4.6 without letting the CAT UI team.Who is going to fix this as this is part of 2.0 PatchThanks,ShanBalu.Hi Shanmugavel,We re-qualified the TSDN CFP 2.0 with NSO 5.4.6 for the Log4j vunerability. There is nothing else we changed.Thanks,Nipa"
    },
    {
        "title": "[RONCFPSD-525] Need steps to configure NSO HA L3 BGP ",
        "description": "For 6.0 release, we have a requirement to test NSO HA with L3 mode and bgp configs.QA needs sequence of pre-requisite steps and few other configs for deploying NSO HA with L3 mode. Hence, we request to provide some point of contact for troubleshooting issues and support when needed. ",
        "comments": "Customer was helped by Thomas in an email thread and was provided the following:\t1.\tNSO Admin guide (and pointed out the Tailf HCC overview)\t2.\tNSO HA guide\t3.\tDemo recording of Thomas setting up L3 HAGetting below errors when configuring NSO HA L3 bgp settings on NSO Primary VM:admin@ncs% set hcc bgp node primary-node neighbor 192.168.20.4 as 65131admin@ncs% commitAborted: application communication failureadmin@ncs% set hcc bgp node primary-node enabledValue for 'gobgp-bin-dir' (<string>): /usr/binValue for 'as' (<unsignedInt>): 65132Value for 'router-id' (<IP address>): 192.168.20.5admin@ncs% commitAborted: application communication failureNeed someone to troubleshoot this issue and provide resolution for it.Hello, please provide us setup details so we may investigate.unicasted the setup detailsRetried the steps as discussed on webex session with CFP team, but still getting application communication failure error while committing hcc bgp configs. Need to wait for Van Pham to check into this issue till Monday.Checked with Van, unable to log into NSO 1 and NSO 2 is missing config.>> need gobgp config on all nso and routerScreenshots attached.Requesting additional information.gobgp config/package was already installed on both NSO1 and NSO2 VMs. Below is the output on the VMs.nso-vm1-sa:/home/admin# apt install gobgpdReading package lists... DoneBuilding dependency tree... DoneReading state information... Donegobgpd is already the newest version (2.25.0-3build1).0 upgraded, 0 newly installed, 0 to remove and 4 not upgraded.root@nso-vm2-sa:/home/admin# apt install gobgpdReading package lists... DoneBuilding dependency tree... DoneReading state information... Donegobgpd is already the newest version (2.25.0-3build1).0 upgraded, 0 newly installed, 0 to remove and 5 not upgraded.However, executing the below command gives no file error on both VMs.root@nso-vm1-sa:/home/admin# cat /etc/gobgpd.ymlcat: /etc/gobgpd.yml: No such file or directoryon router, below are the bgp configs that were configured:csr-vm5#router bgp 65131 bgp log-neighbor-changes neighbor 192.168.5.26 remote-as 65132 neighbor 192.168.6.59 remote-as 65133 ! address-family ipv4 redistribute connected neighbor 192.168.5.26 activate neighbor 192.168.6.59 activate exit-address-familyI followed the steps suggested by Thomas in webex recording for installing gobgpd.Can we get the missing configs or install steps that need to be configured on both NSO VMs and router as well? Hi Gomathi,It looks like gobgp config in NSO is missing:admin@ncs% show hcc bgpNo entries found.Please try the following config with correct router interface IP addresses, AS, and router id:Primary NSO:set hcc bgp node master enabled as 65132 router-id 192.168.5.26 gobgp-bin-dir /usr/bin neighbor 192.168.5.x as 65131Secondary NSO:set hcc bgp node standby enabled as 65133 router-id 192.168.6.59 gobgp-bin-dir /usr/bin neighbor 192.168.6.x as 65131On both nodes, do: request high-availability disableThen after bgp config, do:request high-availability enableHi Van,Can we look into this issue on webex meeting? I tried below configs with \"primary-node\" changed to \"master\" and \"secondary-node\" changed to \"standby\" with corresponding IP, AS and router-id values. But, still getting same error.admin@ncs% commitAborted: application communication failureThanks,Gomathi.Hi Gomathi,After updated to latest gobgp version 3.16.0, bgp is functional and high-availability is up.admin@ncs> show high-availabilityhigh-availability enabledhigh-availability status mode primaryhigh-availability status current-id masterhigh-availability status assigned-role primaryhigh-availability status read-only-mode falseID ADDRESS ------------------------standby 192.168.5.252admin@ncs> show hccNODE BGPD BGPD ID PID STATUS ADDRESS STATE CONNECTED --------------------------------------------------------------master 39514 running 192.168.5.29 ESTABLISHED true1. wget 2. scp gobgp_3.16.0_linux_amd64.tar.gz to NSO node3. tar zxf gobgp_3.16.0_linux_amd64.tar.gz4. sudo mv gobgp* /usr/local/bin/Note that \"gobgp-bin-dir /usr/local/bin\" as the new gobgp was installed under/usr/local/bin directory.admin@nso-vm1-sa:~$ which gobgp/usr/local/bin/gobgp<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\">For reference, below is config on primary node. hcc config should be changed accordingly on secondary node.admin@ncs% show high-availability token $9$UHHL5OHfYJg3iCyjJGIl90gE2Lv5VMM3trHMEUqHUWc=;ha-node master {  address   192.168.5.26;  nominal-role primary;}ha-node standby {  address     192.168.6.59;  nominal-role   secondary;  failover-primary ;}settings {  enable-failover  ;  start-up {    assume-nominal-role ;    join-ha       ;  }  reconnect-interval 15;  reconnect-attempts 3;}[ok][2023-08-01 00:20:29][edit]admin@ncs% show hccenabled;vip-address [ 192.168.5.27 ];bgp {  node master {    enabled;    gobgp-bin-dir /usr/local/bin;    as      65132;    router-id   192.168.5.26;    neighbor 192.168.5.29 {      as 65131;    }  }}[ok][2023-08-01 00:20:36]</pre></div></div>Switchover is working as expected with changes made to NSO host default route and added route reflector in the CSR1000V.Setup is working, Gomathi agreed to close this case."
    },
    {
        "title": "[RONCFPSD-531] Testing Token with an Authentication Provider fails",
        "description": "installed TSDN 6.0.0 - Drop 5 (DTHO) on 10.23.213.183(root / Cwork123!) and cnc server 192.168.6.10 Performed Testing Token with an Authentication Provider with following error- 2023-08-03 13:52:41.480 authenticate:261 INFO: Exception jwt-auth: HTTPSConnectionPool(host='192.168.6.10', port=30603): Max retries exceeded with url: /crosswork/sso/v2/userInfo (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7f06b24fbbb0>: Failed to establish a new connection: Connection refused'))Please help if anything is missing or misconfiged.",
        "comments": "tgt_token=$(curl -k -X POST -H 'Content-Type: application/x-www-form-urlencoded' -H 'Accept: text/plain' -d 'username=admin;password=Vtsisco@123!')jwt_token=$(curl -k -X POST -H 'Content-Type: application/x-www-form-urlencoded' -d service=)Unbale to reach cnc server from nso:root@nso-4:/var/log/ncs# tgt_token=$(curl -k -X POST -H 'Content-Type: application/x-www-form-urlencoded' -H 'Accept: text/plain' -d 'username=admin;password=Vtsisco@123!') % Total % Received % Xferd Average Speed Time Time  Time Current        Dload Upload Total Spent Left Speed 0  0 0  0 0  0  0  0 -<del>:</del><del>:</del>- -<del>:</del><del>:</del>- -<del>:</del><del>:</del>-  0curl: (7) Failed to connect to 192.168.6.10 port 30603: Connection refusedroot@nso-4:/var/log/ncs# requests.exceptions.ConnectionError: HTTPSConnectionPool(host='192.168.6.10', port=30603): Max retries exceeded with url: /crosswork/sso/v2/userInfo (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7f2934ec82e0>: Failed to establish a new connection: Connection refused'))To resolve this issue, you should check the following:<ol>\t<li>Ensure that the target machine with IP '192.168.6.10' is reachable and running the service you are trying to access on port '30603'.</li></ol><ol>\t<li>Verify that the service is up and running and that it's configured to listen on the correct IP address and port.</li></ol><ol>\t<li>Check if there are any firewalls or security groups that might be blocking the connection.</li>\t<li>If the service is running on a remote machine, ensure that there are no network connectivity issues between your machine and the remote server.</li></ol>Had a screenshare with Feng and have agreed to close the ticket for now as we are seeing network issue on the setup. If the issue happens again Feng has informed to reach back"
    },
    {
        "title": "[RONCFPSD-257] EVPN-VPWS not supported on IOSXE devices",
        "description": "Tried to configure EVPN ELAN/ETREE in IOS XE device and received a error message from NSO saying \"EVPN-VPWS not supported on IOSXE devices\". Attached screenshot. Please confirm, if NSO dont support EVPN ELAN ETREE (VPWS) in IOS XE at all.",
        "comments": "EVPN MP(ELAN/ETREE) is not supported for XE.XE only supports P2P, EVPN is not supported at all.Updated the same to Ajitha on teams, hence closing the ticket.Required information given to the user.Thanks Nikhil for confirming, Correction in title - EVPN VPLS(ELAN/ETREE) not VPWS"
    },
    {
        "title": "[RONCFPSD-78] Provision SRv6 policy with netconf ned does not push config to device ",
        "description": "Steps:1. set 2 of my nodes (headend and tailend) to use netconf ned cisco-iosxr-nc-7.3.2. provision an SRv6 policy from CAT UI. After commit, it showed successful. But policy config is not pushed to device.device type and version: XRV9K 7.3.2 38Ipayload attached.",
        "comments": " Hi,Version 7.3.2.38I is not supported on M5.Please refer the Release Notes Doc below:Hi Sahithi,We need to support newer version of XRV9K 7.3.2 and 38I is the one released from platform team for us to test. Let me know if we can only use 34I to report issues for M5?Is it possible to be netconf ned issue before it push config to devices? Here are some observations.:Load the payload from \"Commit manager\" via NSO UIFor cli ned: it shows the policy config to be pushed (screenshot attached)For netconf ned: It shows empty contents with \"No devices affected\"From CNC UI, import the payload and do dry run:For cli ned:  It shows the policy config to be pushed.For netconf ned: It shows the contents of the policy but it is different from the cli dry run outputScreenshots and dryrun output attached. Tried to downgrade my device to 34I. Looks like the image no longer exist under the location mentioned in M5 wiki.lnx-cw1.cisco.com:130> cd /auto/iox-ucs-017-san1/lnx-cw1.cisco.com:131> cd prod/lnx-cw1.cisco.com:132> ls -ltrtotal 16drwxrwxr-x 5 ingunawa xrops 4096 Aug 17 14:18 7.3.2.37I.SIT_IMAGEdrwxrwxr-x 5 ingunawa xrops 4096 Aug 24 22:08 7.3.2.38I.SIT_IMAGEdrwxrwxr-x 5 ingunawa xrops 4096 Aug 31 13:19 7.3.2.39I.SIT_IMAGEdrwxrwxr-x 5 ingunawa xrops 4096 Sep 7 15:22 7.3.2.40I.SIT_IMAGEHi Sahithi,Per your suggestion. I picked up TSDN M6 and redeployed my devices with 7.3.2 37I. The issue is still the same. Can we have a webex session to look further?Steps provided for Correct working.Sync-from devices when the device-type changed.Then creation of service works as expected.CSCvz62371: Policy provision is successful but config does not push to device - ned changed from cli to netconf"
    },
    {
        "title": "[RONCFPSD-44] RON ML service creation failed with status code RON-304",
        "description": "NSO 5.5.3.2 CNC 3.0 RON 1.0RON ML service creation failed with status code RON-304 . it does not give more information. NSO : 10.195.165.226service name: RON_ML_7How to get more information about the RON status codes. Any commands ?cred: cnctest/Ovatest123@",
        "comments": "Hi Ramakrishnan,I looked at your setup and it seems like an issue with optical-controller.For service RON_ML_5, i see below error.ron ron-ml RON_ML_5 plan-location /ron/ron-ml-plan log log-entry 2021-08-07T15:05:47.346776+00:00 type service-modified level error message \"Error running action for side-effect item /cisco-ron-cfp:ron/ron-ml-plan{RON_ML_5}/plan/component{ncs:self self}/state{ncs:init}: Python cb_action error. Failed to retrieve/validate SIPs\\nSTATUS_CODE: RON-505\\nREASON: Fetch Optics failed\\nCATEGORY: custom-action\\nSEVERITY: ERROR\\nContext \\n\"For service RON_ML_6 and RON_ML_7, i see below error.status-code 304 { reason \"Connectivity-service initiated on the optical-controller has failed\"; category device; severity ERROR; recommended-actions \" The reason for connectivity service failure is unknown and requires debugging optical-controller server.\";Could you please provide me with more details on which ONC version are you using and if your sips used are valid. This would help us debug the issue further.Gave ONC details, build 673, service is in PENDING_REMOVAL state.HI Ramakrishnan,After our discussion on webex yesterday, we realized that the RON_ML_7 service is in pending-removal state at ONC level.We can't do anything about pending removal asONC has failed to configure the service. We should justdelete the service and try again.Today, I was trying to delete the service and realized that ONC is not up and running. Could you please check and let me know wats the issue with ONC.Brought up the ONC again, deleted the service, Tried it again. It worked. go ahead and close this case.Hi Ramakrishnan, As discussed on webex, you were able to deploy the service successfully after deleting once. Hence closing the ticket."
    },
    {
        "title": "[RONCFPSD-109] resource-manager ERR in NSOUtil redeploy",
        "description": "Custom service leveraging resource-manager bundled with example-packages(../example-packages/ncs-5.5-resource-manager-3.5.4.tar.gz) generates an error during IP address allocation (service redeploy).Service requires an ID and IP address from the resource-manager pools. ID allocation works as expected, IP allocation fails as per below:ERROR in ncs-java-vm.log:NSOUtil redeploy: re-deploying /ncs:services/ODNL3:ODNL3{demo} as user admin (tid: 38552, type: DEFAULT, trans: true) %s/touch<ERROR> 20-Oct-2021::11:51:29.289 IPAddressAllocator$RequestThread pool-38-thread-1: -java.lang.ClassCastException: class com.tailf.conf.ConfList cannot be cast to class com.tailf.conf.ConfObjectRef (com.tailf.conf.ConfList and com.tailf.conf.ConfObjectRef are in unnamed module of loader 'app')\u00a0\u00a0\u00a0 at com.tailf.pkg.ipaddressallocator.IPAddressAllocator.allocateAddress(IPAddressAllocator.java:359) ~\u00a0\u00a0\u00a0 at com.tailf.pkg.ipaddressallocator.IPAddressAllocator$RequestThread.run(IPAddressAllocator.java:1968) \u00a0\u00a0\u00a0 at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) \u00a0\u00a0\u00a0 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) \u00a0\u00a0\u00a0 at java.lang.Thread.run(Thread.java:834) Package has identical package-meta-data.xml with corresponding CCO release for 5.5.2, but underlying code differs (NSOUtil.java).When using the CCO resource-manager, custom service produces no errors and successfully is allocated both ID and IP.Code for allocations in custom service:\u00a034\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 pool_name = \"LoopbackIDPool\"\u00a035\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 _sync = False\u00a036\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 allocation_name = allocation_prefix + _serviceName\u00a037\u00a038\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 id_result = id_allocator.id_request(service,\u00a039\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 _serviceNode,\u00a040\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 tctx.username,\u00a041\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 pool_name,\u00a042\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 allocation_name,\u00a043\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 _sync)\u00a066\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 pool_name = \"LoopbackIPPool\"\u00a067\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 cidr = 32\u00a068\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 allocation_name = allocation_prefix + <em>serviceName + '</em>' + dev_name + '_' + str(allocation_loopbackID)\u00a069\u00a070\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ip_allocator.net_request(service,\u00a071\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 _serviceNode,\u00a072\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 tctx.username,\u00a073\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 pool_name,\u00a074\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 allocation_name,\u00a075\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 cidr)Let me know if you need additional info. ",
        "comments": "We have created a jira ticket for this Issue internally and added it to the release notes.Continue using the RM from CCO for the external package development since current example package has the bug.Release post 3.0 should contain the fix for this issue.We have created a jira ticket for this Issue internally and added it to the release notes.Continue using the RM from CCO for the external package development since current package in the bundle has the bug.Release post 3.0 should contain the fix for this issue."
    },
    {
        "title": "[RONCFPSD-93] Along with Info message, CNC should show allowed range/variable type(str/int) as in NSO",
        "description": " Wherever \"allowed values/ranges\" are present in NSO tool tip/info message (like l3nm local autonomous system), CNC has to show allowed ranges/variable type(str/int) .Issue : NSO is not sending the range in some cases - so prov-ui is not able to fix this. Follow up with NSO team. It may needs the JSON RPC response to bring these additional info as part of the get_Schema API so that the Prov-UI will parse and display it accordingly.Cdets for more details: ",
        "comments": "Hi Kirandeep,Could please be specific on what all you need and is not supported currently in NSO UI?As there are so many services and different yang models for them, without knowing what exactly you need and what is missing.As per the defect, you attached it looks like CNC UI defect.But details provided in this JSD ticket are quite contradictory.Appreciate it if you provide each and every detail.ThanksPriyanka Info needed with details.TO be more specific: from get_Schema API response we get the field info which on CNC we are showing in tooltip as additional information which shows the range along with the info e.g : /cisco-sr-te-cfp:sr-te/cisco-sr-te-cfp-sr-policies:policies --> field : color Information:<1-4294967295> - SR policy colorbut services in /l3vpn-ntw:l3vpn-ntw/vpn-services/vpn-service. --> local-autonomous-system will have range but it not the part of get_schema api repsonse \"info\": attribute so we are not able to show the range along with info on that element. so we need this information form NSO as part of JSON RPC response as additional info as part of the get_Schema API so that the Prov-UI will parse and display it accordingly.please refer the screen shot attached to see the different between those values also added the get_Schema API response for reference.Hi Kirandeep,NSO PLM needs to be contacted for this.ThanksPriyankaPending on NSO PLM,had chat with Mukul ,he will take care"
    },
    {
        "title": "[RONCFPSD-135] Not able to provision L2VPN with SRV6 policy.",
        "description": "Not able to provision L2VPN with SRV6 policy, getting below error message.Tried with below neds cisco-iosxr-nc-7.3, cisco-iosxr-nc-7.4, cisco-iosxr-nc-7.5 ; cisco-iosxr-cli-7.38, all neds getting same error message.In the wiki i don't see L2VPN+SRV6 policy payload, It will helpful if you can share the sample payload for L2VPN+SRV6 policy.Setup -172.24.97.142nso- 172.24.97.147admin@ncs> *** ALARM service-activation-failure: /cisco-flat-L2vpn-fp-internal-local-site:flat-L2vpn-internal-local-site-service{L2NM-L2NM-SRV6-internal TB3-PE-D}: Python cb_validate error. STATUS_CODE: TSDN-L2VPN-416REASON: L2VPN association with SRv6 via SR policy is not supported for this release.CATEGORY: userSEVERITY: ERRORContext [name = Not supported , message = L2VPN association with SRv6 is not supported for this release.state = {'Device': 'TB3-PE-D', 'Service': 'L2NM-L2NM-SRV6-internal', 'Policy': 'srv6_vpn_policy-9001'}]",
        "comments": "Hello Ragesh,According to our Flat-L2VPN detailed wiki for TSDN 4.0 M2, SRv6 policy association in Flat L2 via preferred-path is not supported for this current release. Instead, you may use the Flat-L2VPN EVPN SRv6 locator field to associate directly.Wiki Reference : Yang Tree for SRv6 locator (Referenced from Flat-L2VPN Detailed Wiki)<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-bash\"> +--rw flat-L2vpn* [name] | +--rw flat-L2vpn-evpn-vpws | | +--rw -site | | | +--rw srv6! | | | | +--rw locator?  string | | +--rw remote-site! | |   +--rw srv6! | |   | +--rw locator?  string</pre></div></div>After reviewing the wiki, I agree that it is not so clear how to associate SRv6 policy with Flat-L2VPN EVPN service using locator. I will relocate the info box and add a sample payload demonstrating the above to the wiki starting TSDN 4.0 M2.Please let me know if you have any other questions or concerns.Thanks,Isaac KimHello Ragesh,On second review, it does seem like our Flat-L2VPN detailed wiki provides sample payload for Flat-L2VPN EVPN + SRv6 association. You can find it here : In addition, the sample payload for IETF L2NM + SRv6 association can be found in our IETF L2NM detailed wiki here : As the sample payload is provided in our wiki, I will assume this ticket is resolved.Please feel free to reopen this ticket with any reply if you have any additional comments.Thanks,Isaac KimHello,For future reference,The path to IETF L2 + SRv6 association is hereYANG Tree for IETF L2 SRv6 Locator (Referenced from IETF L2 detailed wiki)<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-bash\"> +--rw l2vpn-ntw | +--rw vpn-services | | +--rw vpn-service* [vpn-id] | | | +--rw vpn-nodes | | | | +--rw vpn-node* [vpn-node-id ne-id] | | | |   +--rw te-service-mapping | | | |   | +--rw srv6! | | | |   |   +--rw locator?  string</pre></div></div>I have added additional note in both Flat L2 and IETF L2NM detailed wikis to clarify this association."
    },
    {
        "title": "[RONCFPSD-121] Post config throws internal error on xml file loading",
        "description": "Post config throws internal error on xml file loadingadmin@ncs% load merge rfs-netconf-notif-sub.xmlError: internal erroradmin@ncs% load merge RSVP-TE-status-codes.xmlError: internal erroradmin@ncs% load merge SR-cfp-configuration-kicker.xmlError: internal erroradmin@ncs% load merge SR-multi-vendor-iosxe-cli.xmlError: internal erroradmin@ncs% load merge SR-multi-vendor-iosxr-netconf.xmlError: internal erroradmin@ncs% load merge SR-plan-notification-settings.xmlError: internal erroradmin@ncs% load merge SR-status-codes.xmlError: internal erroradmin@ncs% load merge xr-sman-id-resource-pool.xmlError: internal erroradmin@ncs% load merge rfs-node-onboarding.xmlError: internal errorCFS node: 10.194.63.169 (ssh: nso/Vtsisco@123!)RFS node1: 10.194.63.170 (ssh access - same as CFS)RFS node2: 10.194.63.242 (ssh access - same as CFS)",
        "comments": "Replace the $ Parameters in the xml and load merge as mentioned in the wiki${RFS_NODE_NAME} -> replaced by the actual name of rfs.This has been mentioned in the wiki in the section on load merging the files.Wiki Link: I could not find the instruction below from the wiki for M2 - could you please send screen shot on \"Replace the $ Parameters in the xml and load merge as mentioned in the wiki${RFS_NODE_NAME} -> replaced by the actual name of rfs.\" Please give example - these are load merge for CFS node.Thanks and regards,-QuyExample:Open the xml and replace parameters denoted with $ variable${RFS_NODE_NAME} -> replaced by the actual name of rfsThe variable names should self explanatory to replace.Let me know if there is any variable which is ambiguous.Thanks for flagging about the Wiki. Let me add this instructionThanks for checking - while you are at the wiki please correct the path location for these xml files - here is the current wiki instruction Done. Changed from /xml -> init_data/xml"
    },
    {
        "title": "[RONCFPSD-87] Issue with page load - TSDN 3.0.0-M6 - L2NM -> L2vpn -> Device Config Mapping",
        "description": "TSDN 3.0.0-M6 - L2NM -> L2vpn -> Device Config Mapping The link doesnt load the Device mapping Images of XR and XE.Attached snapshot.",
        "comments": "Screenshots of Mappings from wiki Hi Arun,Attached the screenshots for mapping from wiki.Were you not able to access the screenshot from wiki , as i see image attached in your screenshot. ?ThanksPriyankaI am able to view the device mapping from that link.thanks."
    },
    {
        "title": "[RONCFPSD-492] An extra old route-policy gets added to only one device for ETREE-SRODN service",
        "description": "An extra old route-policy \"L2NM-ETREE-SRODN-91-720-NCS1\" gets added to only one device for ETREE-SRODN serviceSteps:1. Provision ETREE-SRODN service1 with 3 nodes with route-policy PASS as parent policy. It will be successful.2. Provision another ETREE-SRODN service2 with 3 nodes with route-policy PASS as parent policy. It will be successful.3. Delete service and related entities for service1 above from CNC UI.4. Provision another ETREE-SRODN service3 with 3 nodes with route-policy PASS as parent policy. Provisioning will fail as it's looking for old route-policy \"L2NM-ETREE-SRODN-91-720-NCS1\" for NCS1 device.5. We can see the issue reported in the output of native configs.Attaching logs collected on NSO VM soon.",
        "comments": " Cleaned up the extra route policy on RFS. Gomathi confirmed, it is working now"
    },
    {
        "title": "[RONCFPSD-486] 500 netsim devices fail to stary",
        "description": "I used to be able to create a netsim-network of 500 devices and start all the devices in M7. After I upgraded to M8, on the same VM, I am not able to start all 500 devices. After about 180, I see these errors while starting the device:DEVICE cp0180 OK STARTEDCDB boot error: failed to write schema file: ./cdb/C.cdbDaemon died status=16DEVICE cp0181 FAILInternal error: Supervision terminatedInternal error: Component terminated (application_controller) ({application_start_failure,confd,<tt>shutdown,{failed_to_start_child,second,{shutdown,{failed_to_start_child,cs_usess,{{badmatch,{error,enospc</tt>,[{cs_usess,get_next_tid,1,[{file,\"cs_usess.erl\"},{line,2778}]},{cs_usess,init,1,[{file,\"cs_usess.erl\"},{line,954}]},{gen_server,init_it,2,[{file,\"gen_server.erl\"},{line,390}]},{gen_server,init_it,6,[{file,\"gen_server.erl\"},{line,353}]},{proc_lib,init_p_do_apply,3,[{file,\"proc_lib.erl\"},{line,249}]}]}}}}},{confd_app,start,[normal,[]]}}})Daemon died status=19",
        "comments": "Hi Sachin,Can you please check the number of file descriptors on your VM?Can you set them to maximum and number and restart the netsim devices?Hi Sahithi. These are the limits on my VM:root@nso-215:/var/opt/ncs/xr_netsim# ulimit -areal-time non-blocking time (microseconds, -R) unlimitedcore file size       (blocks, -c) 0data seg size        (kbytes, -d) unlimitedscheduling priority         (-e) 0file size          (blocks, -f) unlimitedpending signals           (-i) 482582max locked memory      (kbytes, -l) 15457224max memory size       (kbytes, -m) unlimitedopen files             (-n) 1024pipe size        (512 bytes, -p) 8POSIX message queues     (bytes, -q) 819200real-time priority         (-r) 0stack size         (kbytes, -s) 8192cpu time          (seconds, -t) unlimitedmax user processes         (-u) 482582virtual memory       (kbytes, -v) unlimitedfile locks             (-x) unlimitedEverything is set to max. 166 devices started up fine and then they failed. The NSO server is 172.20.98.215 (nso/Vtsisco@123!)These are the limits set:<ul>\t<li>soft nproc 65535</li></ul><ul>\t<li>hard nproc 65535</li></ul><ul>\t<li>soft nofile 65535</li></ul><ul>\t<li>hard nofile 65535</li></ul><ul>\t<li>hard memlock 65536</li></ul><ul>\t<li>soft memlock 65536</li></ul>Am I missing any of the configuration?Could it be because I am running out of space? root@nso-215:/var/opt/ncs/xr_netsim# df -hFilesystem             Size Used Avail Use% Mounted ontmpfs                12G 1.3G  11G 11% /run/dev/mapper/ubuntu-<del>vg-ubuntu</del>-lv  98G  98G   0 100% /tmpfs                59G   0  59G  0% /dev/shmtmpfs               5.0M   0 5.0M  0% /run/lock/dev/sda2             2.0G 252M 1.6G 14% /boottmpfs                12G 4.0K  12G  1% /run/user/1002root@nso-215:/var/opt/ncs/xr_netsim# Do the new version of the simulated devices take more memory than they used to in M7 or M6 ?"
    },
    {
        "title": "[RONCFPSD-479] Not able to acesss the jira ticket https://jira-eng-gpk3.cisco.com/jira/servicedesk/customer/portal/71/RONCFPSD-444",
        "description": "Not able to access the below url ",
        "comments": "You should be able to access it now. PLMK if any issues"
    },
    {
        "title": "[RONCFPSD-337] interface discovery with simulated device",
        "description": "We are using TSDN 4.0 packages with NSO 5.7.5.1For testing customer case scenario, we need to provision L2VPN devices with hundreds of end points. So, we are using simulated devices in addition to xrv9k devices. NSO has to discover the simulated device and its interfaces. Simulated devices support only SNMP and telnet. We added the simulated device IP to NSO, and connect is failing with timeout. We tried to enable trace by configuring (devices device Node_1_1 trace pretty), it created the file under /var/log/ncs/ned-cisco-iosxr-cli-7.39-Node_1_1.trace. 1. We need NSO to discover the device interfaces through telnet.So that we can provision L2VPN service with interfaces available in the device with no-networking option.NSO - 172.20.63.148 - root/Ovatest123@",
        "comments": "if we are using SSH for device Node_1_2, we get this error message NEDCOM CONNECT: Unable to reach a settlement: and in new state. can we force NSO to use password for SSH as below.debug1: SSH2_MSG_SERVICE_ACCEPT receiveddebug3: send packet: type 50debug3: receive packet: type 51debug1: Authentications that can continue: passworddebug3: start over, passed a different list passworddebug3: preferred gssapi-keyex,gssapi-with-mic,publickey,keyboard-interactive,passworddebug3: authmethod_lookup passworddebug3: remaining preferred: ,gssapi-with-mic,publickey,keyboard-interactive,passworddebug3: authmethod_is_enabled passworddebug1: Next authentication method: passwordcisco@10.20.1.1's password:debug3: send packet: type 50debug2: we sent a password packet, wait for replydebug3: receive packet: type 52debug1: Authentication succeeded (password).Authenticated to 10.20.1.1 (:22).Hi Ramakrishnan,We are not able to connect to 172.20.63.148 with the provided credentials.Please suggest.Regards,Nishad Subair.Hi Nishad,It was a typo. Please try cnctest/Ovatest123@Thanks,Sreedhar.Hi Sreedhar, Ramakrishnan,We can help you to connect the simulated devices via ssh or telnet, please give us couple devices with credentials that can be reached from your NSO.Regards,Hi Nishad,I have added you in one of the mail thread where below details are provided. Also pasted below (incase if the table is not clear, please do look into that mail for info.) For trail Please find below 3 sheer devices, each belonging to each of RFSSheer Hostname \tSheer IP\tConnectivity Type enabled\tSheer Logins\tRFS node \tRFS node IP\tRFS Logins\tCFS IPNode_1_1\t10.20.1.1\tTelnet\tcisco/cisco\tRFS1\t172.20.63.148\tcnctest/Ovatest123@172.20.63.132Node_1_5\t10.20.1.5\tTelnet\tcisco/cisco\tRFS2\t172.20.63.149\tcnctest/Ovatest123@Node_1_100\t10.20.1.100\tTelnet\tcisco/cisco\tRFS3\t172.20.63.150\tcnctest/Ovatest123@Pasted snip of telnet of one of sheer from RFS1 $ telnet 10.20.1.1Trying 10.20.1.1...Connected to 10.20.1.1.Escape character is '^]'.Username: ciscociscoPassword: ciscoDevice_10_20_1_1#show running-configshow running-configThu Apr 7 21:00:07.958 PDTBuilding configuration...!! IOS XR Configuration 6.6.3!! Last configuration change at Thu Apr 7 20:23:30 2022 by cisco!hostname PE1-ASR9kclock timezone PST -8..!interface GigabitEthernet0/0/0/0description #Connected to Agilent 101/1 from PE1 this router\\\"ipv4 address 16.1.1.1 255.255.255.0!interface GigabitEthernet0/0/0/1cdpipv4 address 16.1.1.5 255.255.255.252!We did mention this interface (GigabitEthernet0/0/0/1) in the payload of the script which is used to provision. Script copied to RFS1 for reference in below path - $ ls -l deploy_services_L2VPN_CNC4_Node_11-to-Node_15-rwxrwxr-x 1 cnctest cnctest 28342 Sep 28 10:45 deploy_services_L2VPN_CNC4_Node_11-to-Node_15Thanks,Sreedhar.I did verify onboarding a simulated device with telnet protocol in my setup and it works fine.admin@ncs% show devices device r1address  10.195.72.32;port   62083;authgroup iosxr_authgroup;device-type {  cli {    ned-id  cisco-iosxr-cli-7.42;    protocol telnet;  }}trace   pretty;state {  admin-state unlocked;}admin@ncs% request devices device r1 conPossible completions: config - NCS copy of the device configuration connect - Connect to the deviceadmin@ncs% request devices device r1 connectresult trueinfo (admin) Connected to r1 - 10.195.72.32:62083Thanks,LinhThere was connectivity issue from the simulated device, which is fixed now, admin@ncs# devices device Node_1_1 connectresult trueinfo (admin) Connected to Node_1_1 - 10.20.1.1:23admin@ncs# exitStill interfaces are not discovered. what command does NSO use to discover interfaces? We can accordingly check if that command is properly working in simulated device.What prompt does NSO expects in admin mode. Not clear why NSO times out, when there is # prompt being returned?Is it mandatory to get into admin mode for interface discovery.&#8211; Reading admin config&#8211; Entering admin modeadmin<ul>\t<li>\t<ul>\t\t<li>\t\t<ul>\t\t\t<li>input 3-Oct-2022::04:14:03.974 user: cnctest/1011756 thandle 6203791 hostname scale-nso2-RFS1 device Node_1_1 ***admin</li>\t\t</ul>\t\t</li>\t</ul>\t</li></ul>Simulator(admin)#<ul>\t<li>\t<ul>\t\t<li>\t\t<ul>\t\t\t<li>output 3-Oct-2022::04:19:04.049 user: cnctest/1011756 thandle 6203791 hostname scale-nso2-RFS1 device Node_1_1 ***</li>\t\t</ul>\t\t</li>\t</ul>\t<ul class=\"alternate\" type=\"square\">\t\t<li> progress: show: reading config error << 3-Oct-2022::04:19:04.051 user: cnctest/1011756 thandle 6203791 hostname scale-nso2-RFS1 device Node_1_1 ERROR: External error in the NED implementation for device Node_1_1: Read timeout after 300 seconds, blocked on \"\\nSimulator(admin)#\" when waiting for \"Invalid input detected.\" | \"This command is not authorized.\" | \"Command authorization failed.\" | \"Unable to login.dmin sername:\" | \"<br class=\"atl-forced-newline\" />A.\" | \"dmin mode has been deprecated\" | \"<br class=\"atl-forced-newline\" />A.$\">> 3-Oct-2022::04:19:04.053 user: cnctest/1011756 thandle 6203791 hostname scale-nso2-RFS1 device Node_1_1 CLOSE 0: (Pool: false)<< 3-Oct-2022::04:19:04.054 user: cnctest/1011756 thandle 6203791 hostname scale-nso2-RFS1 device Node_1_1 CLOSED</li>\t</ul>\t</li></ul>After adding 'connected ' string, now NSO proceeds, but it issues 'show running-config', and it waits for 5 mins to time out. Not sure why it is waiting for 5 minscisco connected from 192.168.71.148 using ssh on Device_10.20.1.1Device_10.20.1.1(admin)#<ul>\t<li>\t<ul>\t\t<li>\t\t<ul>\t\t\t<li>output 3-Oct-2022::06:31:10.083 user: cnctest/1013271 thandle 6207591 hostname scale-nso2-RFS1 device Node_1_1 ***</li>\t\t</ul>\t\t</li>\t</ul>\t<ul class=\"alternate\" type=\"square\">\t\t<li>Entered admin modeshow running-config</li>\t</ul>\t</li></ul><ul>\t<li>\t<ul>\t\t<li>\t\t<ul>\t\t\t<li>input 3-Oct-2022::06:31:10.084 user: cnctest/1013271 thandle 6207591 hostname scale-nso2-RFS1 device Node_1_1 ***show running-config</li>\t\t</ul>\t\t</li>\t</ul>\t</li></ul>Device_10.20.1.1(admin)#<ul>\t<li>\t<ul>\t\t<li>\t\t<ul>\t\t\t<li>output 3-Oct-2022::06:36:10.224 user: cnctest/1013271 thandle 6207591 hostname scale-nso2-RFS1 device Node_1_1 ***exit</li>\t\t</ul>\t\t</li>\t</ul>\t</li></ul><ul>\t<li>\t<ul>\t\t<li>\t\t<ul>\t\t\t<li>input 3-Oct-2022::06:36:10.226 user: cnctest/1013271 thandle 6207591 hostname scale-nso2-RFS1 device Node_1_1 ***</li>\t\t</ul>\t\t</li>\t</ul>\t</li></ul>One more question, how does NSO discover the interfaces. I tried 'Sync from', but i dont see this information being queried. We also want to know the CLI commands used to discover the interfaces in this device.Hi Ramakrishnan,It looks like there is some issue with the simulated device you are using.We connected to the device and checked. There is no interfaces/config available in the device. that is the reason why you are not able to see the same in NSO.Regards,Nishad Subair.Surprising.... Which device have you connected ? In simulated devices only defined show commands like \"show running-config\" , \"show interfaces\" ... only will work and give o/p. If we try other show commands, there wont be any o/p. Most probably this could be the reason, the configs or interfaces are not noticed. If you don't see any o/p for these show commands then please ensure the ip address of node, which is been tried. We are more interested in below asks from Ramakrishnan Srinivasan :- \"How does NSO discover the interfaces. Tried 'Sync from', but i dont see this information being queried. We also want to know the CLI commands used to discover the interfaces in this device\"Hi Srinivasan ,I looked at your set up today ,as per my suggestion last time I suggested to use right port for connecting .Today I tried for one device :admin@ncs% show | compare   devices {   device Node_1_1 {<ul class=\"alternate\" type=\"square\">\t<li>port 23;+    port 22;     device-type <div class=\"error\"><span class=\"error\">Unknown macro: {       cli {-        protocol telnet;+        protocol ssh;       }     }</span> </div>   }}</li></ul>admin@ncs% request devices device Node_1_1 sync-from result trueI can now see config for this device Node_1_1 for which I moved it to ssh from telnet and port 22.Please do same operation of rest of 8K+ devices on your NSO .Please close JSD if you are good .Please try creating services after fixing ports on rest of devices .ThanksPriyankaWe can now provision the service with interface discovered using SSH. We can deal with telnet issue later."
    },
    {
        "title": "[RONCFPSD-451] Unable to import Route policy tag from CNC UI that was working in NSO",
        "description": "Attached JSON and XML format Route policy tag is imported properly from NSO. But unable to import same files from CNC. CNC throws Failed to load form error.",
        "comments": " But the same config works frrom CNC RESTCONF APIHi Ajitha, based on your description it seems like NSO is loading the payloads fine but CNC is having issues. I think we should recategorize this as CNC UI JSD.Thanks,Isaac KimHi Ajitha,I am not sure how to reassign a JSD to CNC UI team. For now, I will close this ticket and a new one can be created for CNC UI. If you have any additional questions, please feel free to reopen this ticket.Thanks,Isaac KimForward to CNC UI team. NSO interfaces working as expected as described in ticket."
    },
    {
        "title": "[RONCFPSD-445] NSO allow space in service name",
        "description": "hi, on odn/l2/l3 NSO doesnt allow to have space in service name - test test is not a valid name. on slice, policy it is possible to give such name. what is the correct behavior? should all services support space or block this option? ",
        "comments": "Hi Idan, apologies for the delay, I will check this for you tomorrow. We are currently overloaded with items for upcoming M6 build.Hi Idan,Slice will validate proper naming as part of M6.Thanks,RegiHello, For L2, L3 Policy Validations see wiki page -Validations will be strictly enforced by NSO. after M6 release.Regards,Janaki Duggirala"
    },
    {
        "title": "[RONCFPSD-323] Not able to create the sr-policy using TSDN package ",
        "description": "Hi Team,I have load merged all the configs in NSO and did all the changes in NSO config file. I have followed all the steps in the attached file but I am getting below error. I am attaching the screenshot of the error and file which I followed to configure configs.Regards,Faisal",
        "comments": " Hello, looks to be an issue with packages not loading correctly.Can you please run on NSO:(oper-mode)> show packages package oper-statusand check/post if all packages are loaded and no errors are seen?Hi Janaki,Packages were loaded correctly that's why we were able to access the yang path from NSO cli. Anyways for your reference I am attaching the oper-status screenshot from NSO.Regards,FaisalCan we have a quick call today to fix this issue?Yes, I have pinged you on Webex teams and dropping a note here as well. Let me know a good time for you and we can setup a call.Regards,Janaki DuggiralaHi Janaki,Have you used netsim devices for creation of policy?Regards,FaisalWe can meet 9:30 PM IST, please ping me by then. I will be available. After meeting with Faisal, documenting notes below:From the meeting, Faisal was using TSDN 3.0 with NSO 5.7.5.1.Requested Faisal to switch to TSDN 4.0 M8 release.Provided Faisal with Wiki Links for TSND 4.0 and M8Hi Janaki,We have deployed the .0 package and load merged the bootstrap files. Now I am able to create the policies.Thank you so much for the help.You can go ahead and close the ticket.Regards,FaisalThank you FaisalCustomer was requested to switch to TSDN 4.0 from TSDN 3.0 with NSO 5.7.x and they have created sr-te policies successfully using the wiki pages."
    },
    {
        "title": "[RONCFPSD-444] Mandatory values for Circuit style",
        "description": "Kindly share the mandatory configuration commands for Circuit style with respect to CNC/NSO.Sharing below mandatory fields to bring up a CS policy oper up from Device point of view.NSO seems to have only headend , tailend and working path metric as mandatory values. Kindly suggestpolicy igp-l1-l7-16  bandwidth 50000  color 16 end-point ipv4 192.168.20.7  autoroute  include ipv4 all  !  path-protection  !  candidate-paths  preference 10   dynamic   pcep   !   metric    type te   !   !   backup-ineligible   !   constraints   segments    protection unprotected-only    adjacency-sid-only   !   !   bidirectional   co-routed   association-id 10   !  !  preference 20   dynamic   pcep   !   metric    type te   !   !   constraints   segments    protection unprotected-only    adjacency-sid-only   !   disjoint-path group-id 7 type node sub-id 70   !   bidirectional   co-routed   association-id 11   !  !  preference 30   dynamic   pcep   !   metric    type te   !   !   constraints   segments    protection unprotected-only    adjacency-sid-only   !   disjoint-path group-id 7 type node sub-id 70   !   bidirectional   co-routed   association-id 12   !  !  !  performance-measurement  liveness-detection   liveness-profile backup name CS-protected   liveness-profile name CS-working  !",
        "comments": "Hi Ajitha, I will reply to this tomorrow. We are overloaded with M6 related items today.Hi Ajitha, below is a sparse tree with current mandatory nodes for CS SR-TE:<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\">module: cisco-cs-sr-te-cfp +--rw cs-sr-te-policy* [name]| +--rw name string| +--rw head-end | | +--rw device -> /ncs:devices/lsa-utils:lsa/dispatch-map/device/name | | +--rw ip-address inet:ip-address | +--rw tail-end | | +--rw device -> /ncs:devices/lsa-utils:lsa/dispatch-map/device/name | | +--rw ip-address inet:ip-address| +--rw (color-choice)? | | +--:(auto-color) | | | +--rw auto-color? empty | | +--:(color) | | +--rw color? uint32| +--rw path-protection! (Only dynamic, M6)| +--rw working-path  | | +--rw (sr-te-path-choice)?| | +--:(explicit-path) | | | +--rw explicit| | | +--rw (forward-sid-list-type)?| | | | +--:(forward-sid-list-name)| | | | | +--rw forward-sid-list-name? -> /cisco-sr-te-cfp:sr-te/cisco-sr-te-cfp-sr-policies:policies/sid-list/name| | | | +--:(forward-sid-list)| | | | +--rw forward-sid-list!| | | +--rw (reverse-sid-list-type)?| | | +--:(reverse-sid-list-name)| | | | +--rw reverse-sid-list-name -> /cisco-sr-te-cfp:sr-te/cisco-sr-te-cfp-sr-policies:policies/sid-list/name| | | +--:(reverse-sid-list)| | | +--rw reverse-sid-list!| | +--:(dynamic-path) | | +--rw dynamic! | | +--rw constraints| | | +--rw segments!| | | | +--rw protection? enumeration (Only dynamic, M6)</pre></div></div>It is very similar to SR-TE Policy mandatory nodes.For reference here is a sparse tree with mandatory nodes for SR-TE Policy:<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\">module: cisco-sr-te-cfp-sr-policies augment /cisco-sr-te-cfp:sr-te:  +--rw policies   +--rw policy* [name]   | +--rw name cisco-sr-te-cfp-sr-types:Cisco-ios-xr-string   | +--rw head-end* [name]   | | +--rw name -> /core-fp-common:dispatch-map/device| +--rw tail-end inet:ip-address   | +--rw color uint32| +--rw path* [preference]   | | +--rw preference uint16</pre></div></div>As you can see for both SR-TE Policy and CS SR-TE Policy, we dont enforce a complete policy as mandatory. It is up to user to configure the policy as they need.Thanks,Isaac KimHi Ajitha, we have not received a reply for a week. I believe we have provided a sufficient response. I will close this ticket.If you have any additional questions, please feel free to reopen this ticket.Thanks,Isaac KimSufficient information provided to submitter. Behavior is as expected."
    },
    {
        "title": "[RONCFPSD-322] Maximum number of headend on a single ODN policy",
        "description": "What is the max number of headend that we can configure on a ODN policy? One of the customer is asking below Can ODN Template contain 2400 head-ends per policy? Could I get an answer before 4:00 PM today?",
        "comments": "Hi Joby ,For SR ODN ,yang models supports as many headends .So customer should be fine .Thanks,Priyanka"
    },
    {
        "title": "[RONCFPSD-336] With 5 Current users - Client.Timeout exceeded while awaiting headers error seen for API request for provisioning services ",
        "description": "Build: CW130, COE95, CAT115, CS51, SH129, CDG118, .7.6-4.1.0-M2NSO setup: ( credetails: admin/Cwork123!)CFS: 172.29.109.131RFS1: 172.29.109.132RFS2: 172.29.109.133In latest 4.1 build, while we are trying to use 5 concurrent users to create services, we are facing this same issue continuously and the services creating are failing in API. We have used 5 concurrent users to provision services.we tried provisioning L2vpn P2P services.{\"error\":\"Patch \\https://172.29.106.131:8888/restconf/data/\\: context deadline exceeded (Client.Timeout exceeded while awaiting headers)\",\"code\":500}Showtech at 10.56.116.240 ( nso/Public1234!)/home/nso/cw130-cat115-sh129-service-provisioning-failing",
        "comments": " Hi Arun,Please provide the following details :<ul>\t<li>full error message that is shown in the second screenshot.It mentions like 'object already exists'.</li>\t<li>how long it took for the request to get the object error response and context deadline error response. Would like to know about the timeouts.</li></ul>Regards,Nishad Subair.Hi Nishad, The second snapshot mentioned to just show many services failed. few are object already exists which is not issue.but the issue is client.Timeout exceeded.The full error message is {\"error\":\"Patch \\https://172.29.106.131:8888/restconf/data/\\: context deadline exceeded (Client.Timeout exceeded while awaiting headers)\",\"code\":500}it throws error after 60 seconds .Thanks,Arun.M.GHi Arun,We are unable to login to the NSO set up provided.Please suggest.Regards,NishadSorry for the typo in the server ips.CFS: 172.29.106.131RFS1: 172.29.106.132RFS2: 172.29.106.133admin/Cwork123!we are facing this issue while configuring multiple l3vpn sevices sequentially with single user itself.Note: commit-queue disabled. Hi Arun,I checked NSO and it looks fine.Looks like the current timeout set is 60s . Please increase the timeout to 5 mins and try again.Regards,Nishad Subair."
    },
    {
        "title": "[RONCFPSD-450] VPN Profiles created using CNC RESTCONF API not reflected in CNC until ISTP Full sync",
        "description": "Setup - 10.195.165.85 - xrd1/xrd1Tested with latest patch 6.1 M5+Service type-> VPN Profiles created from CNC REST CONF is not reflected in CNC UI/NSO Connector log.But NSO shows the VPN Profiles.Please check and confirm if NSO advertises it to NSO connector.",
        "comments": "Can you give us your setup credentials to verify?The credentials xrd1/xrd1 does not seem to work. Is this NSO setup?Hi, please provide a reply.If there is no response for a week, we will close this ticket and you may open a new JSD if you face again.Thanks,Isaac KimKindly close the ticketDefect CSCwe08193 was raised for tracking with CNC devCDETs was created for this issue."
    },
    {
        "title": "[RONCFPSD-478] New validation on CS policy service",
        "description": "Installing the new NSO FP7 I noticed a service that we use to deploy in previous versions successfully is now failing due to new validation with error message: policy-type cs-policy is only available for vpn-type vpws-evpnThe service uses VPN type vpn-common:vpws and 2 VPN nodes using explicit TE service mapping with policy type: cs-policy (now valid for deployment only with policy type: policy)I couldnt find any information about this new restriction in the documentation Is this expected behavior? are the CS services supporting cs-policies only of VPN type: vpn-common:vpws-evpn or is this some bug in the latest FP?Service name: CS-EXPLICIT-560NSO server: credentials: admin / Public1234!CW server: credentials: admin / Public1234!",
        "comments": "Not a valid use-case. Discussed with submitter on email. There is currently an active discussion about this case. Duplicate CDETs about the same has already been raised."
    },
    {
        "title": "[RONCFPSD-487] CSCwe96179 - NSO HA VIP goes unreachable and unable to provision service when Secondary node is down",
        "description": "Tested in build CW 5.0.0.26 release + NSO 6.1 M8CW - 192.168.133.105 - admin/Cnc@1234 - cw-admin/Ovatest123@NSO - VIP 192.168.133.202 - primary 192.168.133.112 - Secondary 192.168.133.203 - xrd1/xrd1Login to Crosswork with NSO HA. Provider page->NSO entry - use only VIP IP as expected.Execute command 'reboot' in secondary NSO CLI.VIP IP goes unreachable. Unable to ping/login to NSO with VIP IP , though Primary node is up. (Observation 1)Even after secondary node comes up, HA didn't come up automatically. \"show high-availability status\" and \"show ncs-state ha\" shows none.HA established only after executing \"request high-availability enable\" in both NSOs.Please find attached webex recordingPassword: VePraDF4",
        "comments": "Kindly help with below defects asapWill do a debug session with Ajitha.Hi Ajitha,Per NSO-HA guide, this is an expected behavior:If you still have a question regarding this issue, lets have a discussion.Left a message to Ajitha if she still needs clarification and help with this expected behavior.Spoke to Ajitha and agreed we could close the ticket."
    },
    {
        "title": "[RONCFPSD-493] redeploy reconcile throw the error NedWorker error for ned_prepare_cli",
        "description": "Day 0 config on the device policy srte_c_3800_ep_61.61.15.10  bandwidth 500  color 3800 end-point ipv4 61.61.15.10  candidate-paths  preference 100   dynamic   pcep   !   metric    type igp   !   !  ! User created SR policy without bandwidth and pcep. Then tried to redeploy reconcile. Then when deleted the service it went into error.policy srte_c_3800_ep_61.61.15.10  bandwidth 500 <----- this was  color 3800 end-point ipv4 61.61.15.10  candidate-paths  preference 100   dynamic   pcep   !   metric    type igp   !   !  ! <ERROR> 19-Apr-2023::17:05:37.193 NedWorker Ned-Worker-Thread-(cisco-iosxr-cli-7.46:cisco-iosxr-cli-7.46)-23: - NedWorker error for ned_prepare_clicom.tailf.ned.NedCliBaseTemplate$ApplyException: config in diff couldn't be parsed: skipped 1 line in context '/segment-routing/traffic-eng/policy' :  (line 5) : '  color 3800'NOTE: this might indicate invalid usage of device model, set config on device and sync-from to verify config syntax/structure    at com.tailf.packages.ned.iosxr.IosxrNedCli.doApplyConfig(IosxrNedCli.java:2824) ~    at com.tailf.packages.ned.iosxr.IosxrNedCli.applyConfig(IosxrNedCli.java:2756) ~    at com.tailf.ned.NedCliBaseTemplate.prepare(NedCliBaseTemplate.java:480) ~    at com.tailf.ned.NedWorker.dorun(NedWorker.java:1692)     at com.tailf.ned.NedWorker.run(NedWorker.java:329) <INFO> 19-Apr-2023::17:06:35.042 DLMConnection Thread-3397: - DLM has closed the session.<INFO> 19-Apr-2023::17:06:35.264 DlmService Did-11-Worker-6: - ***** Executing the DLM Service",
        "comments": "When we do re-deploy reconcile and there is device config related to the service which has been manually added, service would not take ownership of unrelated config. We try to delete the service, It will rollback only the service provisioned config and not the manually created config. If the presence of the manual config on service is not accepted by device, it would throw an error.ThanksSahithiExpected Behavior from the service"
    },
    {
        "title": "[RONCFPSD-120] Post config throws error on CFS node",
        "description": "Post config throws error on CFS node ; seeing below error enabling lsa on ncs.confadmin@ncs% load merge SR-multi-vendor-iosxr-netconf.xmladmin@ncs% load merge SR-plan-notification-settings.xmladmin@ncs% load merge SR-status-codes.xmladmin@ncs% commitAborted: 'status-codes core-function-pack L2VPN': Python cb_validate error. Following status codes of core function pack: L2VPN, are not set: 701, 702, 416root@nso-10-194-63-169:/etc/ncs# sudo /etc/init.d/ncs restart-with-package-reloadStopping ncs: Starting ncs: Bad configuration: /etc/ncs/ncs.conf:349: \"large-scale\" cannot occur here as a child to 'ncs-config'.Daemon died status=21admin@ncs% run show devices device rfs-2 netconf-notifications subscription                      FAILURENAME               STATUS  REASON   ERROR INFO------------------------------------------------------------------------------------------------------------------rfs-cisco-custom-template-events running -     -rfs-dispatch-map-update      failed  subscribe Failed to create subscription: bad_element: no such streamtsdn-kicker-events        running -     -",
        "comments": "CFS node: 10.194.63.169 (ssh: nso/Vtsisco@123!)RFS node1: 10.194.63.170 (ssh access - same as CFS)RFS node2: 10.194.63.242 (ssh access - same as CFS)In RFS1 and RFS2, I observe that the ncs.conf, the event stream registered as -> <stream>    <name>dispatch-map-events</name>The correct stream name is <stream>  <name>dispatch-map-update< /name>Please check the LSA installation wiki.Please update the correct stream and restart the rfs nodes.Then re-subscribe.ThanksSahithilarge-scale tag is removed from ncs.conf from M2 release.ThanksCheck out the Wiki on Installation: Thanks Sahithi for the feedback - will fix the ncs.conf for CFS and RFSs "
    },
    {
        "title": "[RONCFPSD-86] How to recover from zombie state",
        "description": "Deleting a L3VPN service and failed into zombie state.checked the error handling wiki: still need to understand how to process \"load-device-config on zombie ; commit? would you please provide sample NCS commands?",
        "comments": "Hi Jason,Please follow clean up action steps from this wiki :Please let me know if you are able to do a clean zombies after following the steps in this wiki.Thanks,Priyanka Hi Jason,Please confirm if you still have any issues.If i don't hear anything by Friday EOD , will consider it closed.ThanksPriyankaHi Jason ,admin@nso-cluster2:~$ ncs_cmd -o -c \"delete /zombies/service{/cisco-flat-L3vpn-fp-internal:flat-L3vpn[name='L3NM-L3NM-SRTE-5000-internal'][endpoint-name='CL3-P-TOPLEFT_5000']}\"admin@nso-cluster2:~$ ncs_cli -u adminUser admin last logged in 2021-09-22T21:08:40.91434+00:00, to nso-cluster2, from 172.20.200.130 using netconf-sshadmin connected from 10.24.98.183 using ssh on nso-cluster2admin@ncs> show zombies       % No entries found.admin@ncs> As we saw zombie was stuck in pending delete so finally we deleted it from ncs_cmd.ThanksPriyanka"
    },
    {
        "title": "[RONCFPSD-92] Ethernet-service-oam having Schedule option-- Editing a service to add a Y1731 profile config",
        "description": "NSO: 5.5.2.7TSDN 3.0.0 M6.,While editing a existing L2vpn service.under ethernet-service-oam , while associating a y1731 profile to it, we see option for schedule .May i know why do we need scheudle here ?Schedule is already getting configured in Y1731-profile already..",
        "comments": "Hi Arun,This is at two places one at global and one at service level.You can look at wiki :<ul>\t<li>\t<ul>\t\t<li>Global Profile **</li>\t</ul>\t</li></ul> l2vpn-ntw y-1731-profile Profile-Delay-1schedule interval 5schedule duration 3<ul>\t<li>\t<ul>\t\t<li>Service Definition **</li>\t</ul>\t</li></ul>l2vpn-ntw vpn-services vpn-service L2VPN_NM-Static-PW-SR-TE-6000vpn-nodes vpn-node VXR-8kv1 VXR-8kv1vpn-network-accesses vpn-network-access 250ethernet-service-oam y-1731 nully-1731-profile Profile-Delay-1schedule interval 50schedule duration forever!ThanksPriyankai see a bug here. why do we need schedule option on the service level?only y1731-profile is good enough. do we have any specific requirement for this.?Hi Arun,As suggested above:Config governance team has decided this :ThanksPriyankadone."
    },
    {
        "title": "[RONCFPSD-134] NSO 5.7 install issue with python",
        "description": "Setup is installed with nso 5.7 with python 3.8.3.After the install, python packages are down in nso cli package status. following error messagesetup details:10.195.165.225optimaqa/Ovatest123@cnctest/Ovatest123@",
        "comments": "Fixed this python issue. However facing another issue with CFS setup, admin@ncs% show cisco-sr-te-cfp:cfp-configurationsNo entries found.CFS : 10.195.165.226 - admin/Ovatest123@RFS : 10.195.165.225 - sameOne more question - Should rfs-node-onboarding.xml, rfs-netconf-notif-sub.xml should be edited with RFS name, ip credentials ? Hello Ramakrishnan,For the python issue, it seems like NSO was able to pick up the correct python version after 1-2 retries. With NSO 5.7, python 3.7+ is a base requirement.For cisco-sr-te-cfp:cfp-configurations, cfp-configurations is used for non-native NED support through dynamic device mapping. For XR CLI NED, no dynamic device mapping is required as it is the native NED. For XR NC NED and XE CLI NED, dynamic device mapping is required. For these non-native NEDs, you can load the dynamic device mapping using included multi-vendor bootstrap payloads (for example SR-TE FP : \"SR-multi-vendor-iosxe-cli.xml\" and \"SR-multi-vendor-iosxr-netconf.xml\"). You can find bootstrap instructions for LSA here : .For \"rfs-node-onboarding.xml\" you may simply load merge the payload as directed in bootstrap steps.Please let me know if you have any other questions or concerns.Thanks,Isaac KimHello Ramakrishnan,As it seems like the requested issue is resolved, I will be closing this ticket.If you have any additional questions or concerns, please feel free to reopen this ticket and leave a reply.Thanks,Isaac Kimit worked. thank you for the information."
    },
    {
        "title": "[RONCFPSD-108] L3VPN service assurance not disabled when device is in unreachable",
        "description": "NSO version : 5.5.2.9CFP build version : M7Device type and version used for testing: 7.3.2.37iAdd clear steps to reproduce an issue \u2013 1) device went to unreachable state2) Now I started disabling monitoirng state of the services which are terminating on above mentioned unreachable device3) Disabled service assurance on all L2VPN service is successful, this is fine. But for L3 VPN when I tried to disable, it thrown me error: \"Connection timed out \"Tortin-Scale-148\". Here what we are not understanding is, disable monitoirng on all l2vpn - evpn, p2p, plain and SR was successful, but for L3VPN, having one end as this device, we are not able to move to disable state.NSO logs \u2013this Jira ticket is being raised to get clearification if there is such behaviourI have not collected logs at that time, I need to know, while disabling the monitoring of L3VPN service alone, the NSO is trying to check whether device is connected or not ?",
        "comments": " has retried these steps to disable the service assurance for L3 vpn service.Issue was un-reproducible.The devices were unreachable yet enable/disabling of service assurance was ok.Hi Sampath, please provide feedback by Friday 10/29/2021 otherwise we will close this ticket. Thank you.Hi, As of now this behaviour is not seen, I Agree. When I raised this ticket, My device was actually in upgrade state, From DLM we have not move the device to detach from CDG, nor manually moved state to down/Unmanaged, So when device actually being upgraded, I found this behaviour. If possible, we can park this ticket as watch item so that if any real maintenance on any device is going to happen in near by feature, we can test this.Hi Sampath, I think this ticket has expired. But if you encounter something similar again in the future, please feel free to open a ticket so we can take another look at it!Thanks,Isaac Kim"
    },
    {
        "title": "[RONCFPSD-45] Failed to deploy to L2NM services on XE devices",
        "description": "Tried to deploy L2NM EVPN services to XE devices and it failed with error message below.errors: reason: Python cb_validate error. STATUS_CODE: TSDN-L2VPN-408 REASON: Router NED not supported CATEGORY: user SEVERITY: ERROR Context [name = Router NED not supported: cisco-ios-cli-6.74:cisco-ios-cli-6.74, message = Missing dynamic device mapping state = {'Device': 'AA-ASR-1001x-2', 'Service': 'L2NM-l2nm-evpn-asr1k2-3-internal', 'Device NED ID': 'cisco-ios-cli-6.74:cisco-ios-cli-6.74'}] . paths: /cisco-flat-L2vpn-fp-internal-local-site:flat-L2vpn-internal-local-site-service{L2NM-l2nm-evpn-asr1k2-3-internal AA-ASR-1001x-2}. path: /cisco-flat-L2vpn-fp-internal-local-site:flat-L2vpn-internal-local-site-service{L2NM-l2nm-evpn-asr1k2-3-internal AA-ASR-1001x-2}The testbed environment is:NSO 5.5.2.3 with TSDN 3.0.0-M4XE device: ASR1001x with Cisco IOS XE Software, Version 17.05.01a",
        "comments": " Hi Jason,Do you have dynamic mappings loaded? Can you double check if your output matches mine or at the very least there's a mapping for `cisco-ios-cli-6.74`?<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>admin@ncs% show cisco-flat-L2vpn-fp:cfp-configurations dynamic-device-mapping cisco-ios-cli-6.74:cisco-ios-cli-6.74 {  python-impl-class-name flat_l2vpn_multi_vendors.IosXE;}dynamic-device-mapping cisco-iosxr-nc-7.315:cisco-iosxr-nc-7.315 {  python-impl-class-name flat_l2vpn_multi_vendors.NativeXR;}dynamic-device-mapping cisco-iosxr-nc-7.3:cisco-iosxr-nc-7.3 {  python-impl-class-name flat_l2vpn_multi_vendors.NativeXR;}dynamic-device-mapping cisco-iosxr-nc-7.4:cisco-iosxr-nc-7.4 {  python-impl-class-name flat_l2vpn_multi_vendors.NativeXR;}</pre></div></div>Thanks,RegiHi Regi,I don't see \"dynamic-device-mapping cisco-ios-cli-6.74:cisco-ios-cli-6.74\" on AA testbed output:admin@ncs% show cisco-flat-L2vpn-fp:cfp-configurationdynamic-device-mapping cisco-iosxr-nc-7.315:cisco-iosxr-nc-7.315 {  python-impl-class-name flat_l2vpn_multi_vendors.NativeXR;}dynamic-device-mapping cisco-iosxr-nc-7.32:cisco-iosxr-nc-7.32 {  python-impl-class-name flat_l2vpn_multi_vendors.NativeXR;}dynamic-device-mapping cisco-iosxr-nc-7.3:cisco-iosxr-nc-7.3 {  python-impl-class-name flat_l2vpn_multi_vendors.NativeXR;}dynamic-device-mapping cisco-iosxr-nc-7.4:cisco-iosxr-nc-7.4 {  python-impl-class-name flat_l2vpn_multi_vendors.NativeXR;}Our wiki seems to be the issue, the following section,was missing the following payload for the bootrap configuration for the dynamic mappings ``. I have updated the wiki and informed the submitter.Submitter came back with the following issue:<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>message: External error in the NED implementation for device AA-ASR1001x-3: command: label 102 101 : label 102 101 ^ % Invalid input detected at '^' marker. [ interface pseudowire1001 / ]</pre></div></div>After checking on their device I found out the following label was not configurable:<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>interface pseudowire1008 source template type pseudowire l2nm-p2p-asr1k2-3 encapsulation mpls neighbor 100.100.100.3 1008 control-word include label 108 109 <-------- not able to configureexit</pre></div></div>After investigating the issue, the pre-requisite MPLS label range was not configuring. After configuring it, the submitter was able to push the payload with no errors.<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>mpls label range 1000 2000 static 100 500</pre></div></div>I should mentioned that EVPN for XE is not supported through T-SDN, as such the submitter had updated their payload to P2P as well."
    },
    {
        "title": "[RONCFPSD-51] L2VPN & L3VPN service types can support on IOSXE devices",
        "description": "Please clarify what types of L2VPN and L3VPN services could be supported on IOSXE devices.",
        "comments": "<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre>L2VPN EVPN SR L2VPN EVPN Plain L2VPN P2P SR L2VPN P2P RSVP L2VPN P2P Plain L3VPN SR</pre></div></div>As far as IOSXE is concerned, only L2VPN EVPN is not supported. Please refer to device support matrix:"
    },
    {
        "title": "[RONCFPSD-79] Loading TSDN FP along with RON FP .",
        "description": "We have notification generator collision .Which one should we consume ? ",
        "comments": "Resolved via email. `Consuming RON M3 along with TSDN M6 solved the problems. You can close the tickets.`"
    },
    {
        "title": "[RONCFPSD-530] NSO LSA HA setup with L3 mode - Need topology and configs",
        "description": "For 6.0 testing, we need NSO LSA HA setup details with L3 network.Need topology, configs details on router, NSO LSA VMs as well.",
        "comments": "Below diagram represents the NSO LSA in HA mode with L3 BGP. Depending on deployment, whether L2, L3 or DNS Redirection, the principle is the same that each NSO function (LSA node) is paired by a primary and a secondary.We have worked with you to bring up a standalone L3 HA setup, please replicate similar config of high-availability and hcc for each CFS, CFS pairs along with LSA config.Thanks Van for providing the topology diagram for NSO LSA L3 mode! We will try this and check.Regards,Gomathi.Hi Gomathi,If nothing else pending, I'd like to close this ticket. Please let me know by EOD Monday. 8/7.Regards,VanHi Van,Sure, I have setup my topology with CFS and RFS nodes. Configuring CSR router configs and NSO LSA configs. Once everything works fine, I will close this ticket.Thanks,Gomathi.Setup completed.Hi Van,I tried to setup NSO LSA with L3 HA mode. Performed below steps:1. Install NSO and configure ncs.conf on all LSA HA nodes.2. Deploy DLM and CFP full bundle from CW UI with HA settings.3. The above step installed packages successfully on all NSO LSA nodes.4. Updated the CFS and RFS nodes in 1st set of cluster nodes (Active CW) as per this wiki - 5. Most of the steps passed and shows output as expected. \"run show cluster\" shows rfs nodes as down. 6. Seems like CFS is not able to connect to RFS node via 2022 port.7. I re-entered all the steps on cfs to update auth group, credentials and configure rfs on CFS.8. Still CFS cluster shows rfs nodes as down.admin@ncs% run show cluster              LAST  RECEIVEDNAME     NAME STATUS EVENT NOTIFICATIONS--------------------------------------------------nso-cw1-rfs1nso-cw1-rfs2                      LOCAL REMOTEREMOTE NODE  ADDRESS    PORT CHANNELS USER  USER  STATUS TRACE-----------------------------------------------------------------------------nso-cw1-rfs2 192.168.5.32 2022 -     admin admin  down  disablednso-cw1-rfs1 192.168.5.31 2022 -     admin admin  down  disabledHence, need your help to check this issue. Once this is resolved there are 2 more steps (enable HA and set VIP to VMs) to complete the NSO LSA HA installation. Note: CSR router configs are all configured."
    },
    {
        "title": "[RONCFPSD-256] Validation Error for Service Creation in NSO LSA ( 1 CFS and 2 RFS)",
        "description": "Hi,NSO CFS: 10.56.116.121NSO RFS1: 10.56.116.122 ( rfs-1)NSO RFS2: 10.56.116.123(rfs-2)Credentials: nso/Public1234!CFS , RFSs installed by followed the wiki properly.we have devices onboard from CW by \"user-defined\".60 devices onboarded. ( 31 devices in RFS1, 29 devices in RFS2)but, while trying to create sr policy or services , it throws error . Attached snapshots.Payload attached.",
        "comments": " Hi Arun,Looks like the dispatch-map was not in sync . i manually sync the dispatch-map and issue seems to be fixed.Please verify.Please refer the 'service deployment failure troubleshooting' steps<font color=\"#172b4d\"> for more details :Regards,Nishad Subair"
    },
    {
        "title": "[RONCFPSD-242]  Device Credential when changed on crosswork UI are not changed on the NSO ",
        "description": "Problem:----------Crosswork/CNC cannot perform update or delete operations of devices/credentials on NSO.Issue:-------DLM has experienced failures or success with unexpected results when it is trying to do update or delete operations on the NSO devices via DLM interface. This is due to DLM is not exposed to the augmentation ; validation of the NSO yang models from the service models used by different function packs. Due to the NSO limitation, the only operation that DLM does since CNC 2.0 is onboard the missing and read-only operation of devices on NSO. We have a requirement to support update/delete operations of devices/credentials and hence looking for a way for DLM to know upfront if update ; delete operations go through via the other service pack annotations ; validations? ",
        "comments": "Hi Ravi,Curently NSO has a restconf API call to add/modified device auth-group. Its format like the below.curl --request PATCH 'http://<NSO IP>:<PORT>/restconf/data' \\--header 'Content-Type: application/yang-data+xml' \\--header 'Authorization: Basic YWRtaW64YWRtaW4=' \\--data-raw '<devices xmlns=\"http://tail-f.com/ns/ncs\"> <authgroups>  <group>   <name>xr-auth</name>   <default-map>    <remote-name>admin</remote-name>    <remote-password>Cisco#123</remote-password>    <remote-secondary-password>Cisco#123</remote-secondary-password>   </default-map>  </group> </authgroups></devices>' It is up to CNC group to implement this API call to change device auth-group credentialThanks,LinhHi Linh,Thanks for your response. DLM uses MAAPI socket API to communicate with NSO. If the device auth-group that DLM want to be updated is having annotation ; validation by other service packs, there is a possibility that the update fails. Is there any way to know upfront if the operation can be successful or not? Thanks,RaviHi Ravi,You may need to consult to this link to get the informatonThanks,LinhClose since the issue is not on TSDN CFPRegards,Linh"
    },
    {
        "title": "[RONCFPSD-524] Unable to download CNC Functional Pack TSDN 6.0.0 Drop 5 (DTHO)",
        "description": "Unable to download CNC Functional Pack TSDN 6.0.0 Drop 5 (DTHO)",
        "comments": "I am able to download the tar with master so please close the case.Customer able to download and requested to close case."
    },
    {
        "title": "[RONCFPSD-518] unable to clear the nso zombies",
        "description": "umaable to clear the zombies in nso",
        "comments": "Hello, can we please get access to this setup/NSO VM and issue reproduction steps.Thank you.Hello, we have not received further response on this ticket.Please let us know if this issue persists.Note: If no response is received ticket will be closed EOD Aug 2nd.Customer has confirmed that issue is resolved (no fix provided by TSDN). Ticket can be closed."
    },
    {
        "title": "[RONCFPSD-295] Services migration from 5.7.3 m6 to 5.7.4 M7",
        "description": "Hi,We have Uni-d scale setup that was created with cw194/CNC202 build having NSO with 5.7.3 M6 Build.We have 10K services are getting monitored. we would like to know if there is any migration procedure or upgrade to 5.7.4 M7 with 10k services.Thanks,Arun.M.G",
        "comments": "This is NSO LSA setup without HA. this is NSO LSA setup . one CFS and Two RFS.Hi Arun,Let's do Webex and go over it.Thanks,PriyankaWe have successfully upgraded both RFS nodes.There is follow-up meeting with Arun tomorrow to upgrade CFS too.ThanksPriyankaHi Priyanka,Thanks a lot for your help on migrating the NSO LSA setup from 5.7.3 M6 to 5.7.4 M7 with all 10k Services.This is really very helpful to get to know steps on migration. Though we are not supporting it officially, this has been a great workaround in scale env that reduces a lot of re-effort and time.We confirmed that the migration is successful and also the services modification/ provisioning worked fine for the devices in both RFS\u2019s.Attached file has steps that we followed for migration in both RFS and CFS for Migration.Thanks,Arun.M.G "
    },
    {
        "title": "[RONCFPSD-281] sareddyd-esxi-01-vm2: Device is locked in a commit operation by session 1272984",
        "description": "NSO: 5.7.3build: nso-5.7.3-tsdn-4.0.0-M6device: /auto/iox-ucs-077-san2/prod/7.7.1.15I.SIT_IMAGE/xrv9k/wslogs : 10.56.116.151://tmp/data_061022_065731_dirlogin: nso/Public1234!Steps:I was deleting EVPN services. Two services stuck with the \"Device is locked in a commit operation by session\" Number as mentioned above.Logs are present in the same NSO CFS : 10.56.116.151. Login provided.RFS1: 10.56.116.152RFS2: 10.56.116.153I request you to help in releasing the lock and continue to delete the services. I am not able to operate any action on the devices. Please help.Same log attached with this ticket",
        "comments": " /etc/init.d/ncs stop and start solved the issue. But the two evpn services: l2nm-evpn-404,l2nm-evpn-405 are in zombies state. In device they got deleted from NSO before this issue raised. Please check ...Hi Sampath,I would suspect that the stuck zombies are due to the session lock and NSO stop start.I can try to help with unblocking your setup.You mentioned that the config was deleted from the network but still exists in NSO? In this case I would advise to try to execute L2NM cleanup action with no-networking true. Afterwards sync device and your setup should be ready to go.Let me know if this works.Thanks,Isaac KimHello Sampath, I believe we have been able to provide a suitable recovery option for your issue. If there is no reply in few days, I will close this ticket.Thanks,Isaac KimHey, Sorry Isaac, thought of talking to you on this. I have done deleting services in the morning as it has not resolved for a long time I have done stop and start in the evening, hence I am able to delete other service, I have just clean up zombie service. So We need to concentrate only on the issue where I am not able to delete the services because of locking. Let me know if we have investigated on that partHi Sampath, I ran across this ticket when cleaning up my support queue.Apologies, I seemed to have missed the reply for a long time. I will try to analyze the logs and see if there is any unexpected behavior so we can have some closure on this issue.Looking back on the log dump you posted to this ticket,we can see that DLM and/or CNC GUI is having trouble clearing lock on transaction handle 1 as seen below:<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\">2-Jun-2022::04:55:23.983 <0.1337.0> <0.6529.272> ** Generic server <0.6529.272> terminating ** Last message in was {jsonrpc,,[{,1}]}** When Server state == {webui_sess,,       <0.6529.272>,https,760286,0,0,[],</pre></div></div>Afterwards, we can see that this th 1 is invalid as it does not exist as seen below:<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\">{, {error_report,<0.1337.0>, {<0.18671.272>,crash_report,  [[{initial_call,{cs_trans,init,[]}},  {pid,<0.18671.272>},  {registered_name,[]},  {error_info,   {exit,    {bad_return_value,     {error,      {jsonrpc_error,       {-32602,,       },       [],[],       {struct,[{param,}]},       }}},</pre></div></div>This indeed is something we have seen in rare cases in TSDN 4.0 where CNC UI's session transaction lock on NSO is not cleared as described in the ticket. Its strange that the transaction handler id is not found. It seems like due to NSO start/stop during an active commit may have caused CNC UI's state data to be out of sync with NSO. The logical assumption here is that start/stop cleared the transaction, but CNC UI is still attempting to clear what it thinks is an active transaction. In the logs, we can see the above two crash logs repeatedly. This is likely why CNC UI is in unresponsive state.Although changing NSO state during active commits/transactions is not recommended, the workaround would be to log out of CNC GUI (clear CNC state data), restart NSO (force close any locked sessions), and then continue.I hope this helps provide some clarity on this issue.If you face this issue again anytime in the future, please feel free to open a new ticket and reference this JSD for context.Thanks,Isaac KimAnalysis and workaround provided."
    },
    {
        "title": "[RONCFPSD-297] Service Assurance Enable possible for Non-Deployed Services",
        "description": "Hi,NSO: TSDN 4.0.0 M5 with NCS 5.7.4 I have a payload as below where i dont have the services is not deployed at all.when i try to load the payload, it was successfull and created an service entry and Notified to CNC also.but, due to no device config exists, Service Assurance goes to error state.shouldnt we fail the commit the Service assurance part when we dont have the service deployed or when we dont have the respecitve service configs?<config xmlns=\"http://tail-f.com/ns/config/1.0\"> <l2vpn-ntw xmlns=\"urn:ietf:params:xml:ns:yang:ietf-l2vpn-ntw\">      <vpn-services><vpn-service>   <vpn-id>test-l2vpn</vpn-id>   <service-assurance xmlns=\"http://cisco.com/ns/nso/fp/examples/ietf-l2vpn-ntw-cisco-augmentations\">    <monitoring-state>enable</monitoring-state>    <profile-name>Gold_L2VPN_ConfigProfile system</profile-name>    <!-<del>profile-name>Silver_L2VPN_ConfigProfile</profile-name</del>->    <rule-name>Rule-L2VPN-NM-P2P system</rule-name>   </service-assurance>   </vpn-service>  </vpn-services> </l2vpn-ntw></config>Thanks,Arun.M.G",
        "comments": "Hi ArunCan you check this with the latestTSDN 4.0.0 M8 build? It is failing as expected for us while committing.Thanks,NikhilClosing the ticket as haven't heard anything from the user"
    },
    {
        "title": "[RONCFPSD-283] NSO stuck with error - Configuration Namespace is locked by another agent",
        "description": "NSO: 10.195.165.75 - xrd1/xrd1Trying to push a payload but NSO stuck with below error message. message: External error in the NED implementation for device cluster-XRD6: config exclusive: config exclusive Tue Jun 14 00:26:20.067 UTC Current Configuration Session Line User Date Lock 00000000-00000a46-00000000 LICENSE EVAL-END Thu Jun 9 07:07:04 2022 * Cannot enter exclusive mode. The Configuration Namespace is locked by another agent.Tried NSO restart with package and Ubuntu reload, but it didnt help. Kindly suggest",
        "comments": "Hi Ajitha,The above error occurs when device is not cleaned up correctly. Can you login to your device and try to enter the config mode? You will observe similar error. This error is unrelated to NSO.ThanksSahithi Please checkout this ticket for steps on the device: Let me know if I can close the ticket.Hi Sahithi, Thanks for verifying, Checking the issue with XRD team. Seems to be license expired issue. Not an NSO CFP issue. It is a XRD issue."
    },
    {
        "title": "[RONCFPSD-268] We are getting error while provisioning L2 vpn",
        "description": "We are getting following error while provisioning L2VPN in our lab.Validation failed : Unknown error (66): cisco-flat-L2vpn-fp-um-evpn-vpws-template.xml:21 will not apply template to device XRV-A with unsupported ned-id: cisco-iosxr-nc-7.7:cisco-iosxr-nc-7.7STATUS_CODE: TSDN-L2VPN-303REASON: Config push failedCATEGORY: deviceSEVERITY: ERRORContext [name = Configuration Error, message = Could not apply service config on local site state = {'Local Site': 'XRV-A', 'Service': 'L2NM-EVNP_TEST-internal'}] : /cisco-flat-L2vpn-fp-internal-local-site:flat-L2vpn-internal-local-site-service{L2NM-EVNP_TEST-internal XRV-A}Our NSO version : 5.3.2.1We have proper configuration:admin@ncs% show cisco-flat-L2vpn-fp:cfp-configurations dynamic-device-mapping cisco-ios-cli-6.77:cisco-ios-cli-6.77 {  python-impl-class-name flat_l2vpn_multi_vendors.IosXE;}dynamic-device-mapping cisco-iosxr-nc-7.315:cisco-iosxr-nc-7.315 {  python-impl-class-name flat_l2vpn_multi_vendors.NativeXR;}dynamic-device-mapping cisco-iosxr-nc-7.3:cisco-iosxr-nc-7.3 {  python-impl-class-name flat_l2vpn_multi_vendors.NativeXR;}dynamic-device-mapping cisco-iosxr-nc-7.4:cisco-iosxr-nc-7.4 {  python-impl-class-name flat_l2vpn_multi_vendors.NativeXR;}dynamic-device-mapping cisco-iosxr-nc-7.5:cisco-iosxr-nc-7.5 {  python-impl-class-name flat_l2vpn_multi_vendors.UMXR;}dynamic-device-mapping cisco-iosxr-nc-7.6:cisco-iosxr-nc-7.6 {  python-impl-class-name flat_l2vpn_multi_vendors.UMXR;}dynamic-device-mapping cisco-iosxr-nc-7.7:cisco-iosxr-nc-7.7 {  python-impl-class-name flat_l2vpn_multi_vendors.UMXR;}",
        "comments": "Hi SivaPlease provide NSO setup details and the service payload that has the issue. I need to check the setup to debug it.Thanks,NikhilHi Siva/SagarAs discussed over the call, the nso is not setup properly in your system. Please do a re-install with correct version of NSO - 5.7.3 for M6. NC NED 7.7 is not supported for releases before M6.Let us know if the issues is resolved and we are good to close the ticket.the issue was with nso not setup properly in the system. Suggested to do a re-install with correct version of NSO - 5.7.3 for M6."
    },
    {
        "title": "[RONCFPSD-254] NSO LSA 0 CFS -- Netconf-notificaion subsercription throws error",
        "description": "NSO CFS: 10.56.116.121 NSO RFS1: 10.56.116.122NSO RFS2: 10.56.116.123 Credentials: nso/Public1234!Installed as per the wiki., After installing Tm-TC, it has error for Netconf-notificaion subsercription for rfs-dispatch-map-events.as per the CFS wiki., we have set devices device rfs-1 netconf-notifications subscription rfs-dispatch-map-update stream dispatch-map-update local-user admin store-in-cdb trueas per tm-tc wiki, we have set devices device rfs-1 netconf-notifications subscription rfs-dispatch-map-events stream dispatch-map-events local-user nso store-in-cdb trueafter this, below error.admin@ncs% run show devices device rfs-2 netconf-notifications subscription                      FAILURENAME               STATUS  REASON   ERROR INFO------------------------------------------------------------------------------------------------------------------rfs-cisco-custom-template-events running -     -rfs-dispatch-map-events      failed  subscribe Failed to create subscription: bad_element: no such streamrfs-dispatch-map-update      running -     -rfs-kicker-events         running -     -admin@ncs% run show devices device rfs-1 netconf-notifications subscription                      FAILURENAME               STATUS  REASON   ERROR INFO------------------------------------------------------------------------------------------------------------------rfs-cisco-custom-template-events running -     -rfs-dispatch-map-events      failed  subscribe Failed to create subscription: bad_element: no such streamrfs-dispatch-map-update      running -     -rfs-kicker-events         running -     -admin@ncs%should we have both dispatch-map-update and dispatch-map-events?Thanks,Arun.M.G",
        "comments": "Hi Arun,As mentioned in the CFS wiki , we need to configure only 'dispatch-map-update' stream.Thanks,Nishad Subair.thanks Nishad for the Info."
    },
    {
        "title": "[RONCFPSD-532] RFS sync is not happening from CFS - reporting illegal reference device sync for TM-TC Packages",
        "description": "Hi Team, In our whole SH team where everyone are facing issue with the RFS sync from CFS and we all hit illegal reference for TM TC package, due to this we couldn't able to proceed configuring any of the policies or services, it it a blocker issue for the entire team. NCS and TSDN download links are for reference: NCS: CNC FP: NCS CLI output for reference: nso1@ncs> request devices sync-from sync-result {  device rfs-1  result false  info illegal reference devices device rfs-1 config cisco-tm-tc-fp:tm-tc Crosswork-R10-CE node R10-CE name}nso1@ncs>",
        "comments": "Testbed is still in the same state. CFS: 172.20.107.111 nso1/Cnc@1234RFS: 172.20.107.103 nso/Cnc@1234Kindly consider this issue as it is blocking us to provision any of the services. has same issue where we unblock the system by deleting tm-tc instance.RCA: 1. Devices onboarded though rfs1/rfs2 need to sync-from from cfs to update the dispatch map data structure2. If cfs sync-from performed after provisioning services/plan in rfs node, cfs node will reportillegal reference as pre-requisite step missed.Hi Satya,this ticket cannot be moved to Verified until we have right closure on the issue and right behavior on expected. anyways, Thanks for the workaround by Removing the illegal reference from rfs node. Actually, this seems to be an issue in 6.0 where we haven\u2019t faced this issue in 5.0. Sync-from for devices is successull in RFS , but Sync-from in CFS itself is failing with the same error message.Even after successful sync of dispatch map in CFS, we don\u2019t see sync-from is successful in CFS. This seems to be an issue .We face this issue in almost all our 6.0 setups.Note: we don\u2019t have any services configured in RFS . It is fresh server. we have alrady opened JIra ticket opened and it was also closed with workaround. Hi Krishna,please reopen this ticket. if not possible, raise another jira and make we are not closing or moving it to V state. Workaround is not accepted as resolution. raise CDETS on tm-tc if required. Thanks,Arun.M.Gcreated which is having the fix related toncs-6.1.2-cisco-tm-tc-fp-cfs-ned-1.0.tar.gz ;ncs-6.1.2-cfs-cisco-tm-tc-fp-6.0.0-35.tar.gz in CFS node"
    },
    {
        "title": "[RONCFPSD-526] L3 Slice Creation Issue",
        "description": "Hi,While creating L3 slice, i'm getting the below issue,[{\"Message\":\"/resource-pools/idalloc:id-pool{color-pool}/range/start is not configured\"}]Attached the payload.Setup:uid: nsopwd: Vtsisco@123!",
        "comments": " Please create the pool ---> color-poolOn NSO, I see as shown in above screenshot.The color-pool is missing hence you are seeing error.Regards,Janaki Duggiralasample bootstrap:<config xmlns=\"http://tail-f.com/ns/config/1.0\"> <resource-pools xmlns=\"http://tail-f.com/pkg/resource-allocator\">  <id-pool xmlns=\"http://tail-f.com/pkg/id-allocator\">   <name>color-pool</name>   <range>    <start>1</start>    <end>4294967295</end>   </range>  </id-pool> </resource-pools></config> Hello, we have not received further response on this ticket.Please let us know if this issue persists.Note: If no response is received ticket will be closed EOD Aug 2nd.Hi Janaki,Thanks for the responseKindly close the ticket.Thanks,NaveenCustomer has confirmed issue is resolved. Closing ticket."
    },
    {
        "title": "[RONCFPSD-240] CNC NSO notifications issue requires fullResync",
        "description": "NSO notifications processing seems to fail time to time which causes CNC UI to display incorrect/not refreshed information about L3VPN instances and other services.Performing a https://<tt>cnc.vip</tt>:<tt>cnc.port</tt>/crosswork/cat/nso-connector/v1/api/fullResync API call seems to solve these issues.Reproduction the issue is difficult as it is not found to be deterministic.Ask is also to understand if there is a way to detect this issue with the NSO notifications somewhere and if there is an alternate way to perform the full re-sync other than through API.In attachment there is an email thread where it was identified the issue and discussion with CAT visualisation Dev team.",
        "comments": " Hi Fabio,I installed TSDN 2.0 and pull l3vpn-route-policy. The restconf call works fine. Please see the attached screen shotIt seems the issue is on CATUI side. Please contact their team for further support.Thanks,LinhHi Linh, thanks, I'll contect the CAT UI team then.Best Regards,F\u00e1bio GameiroSince this is not on CFP side, I am going to close this ticket.Regards,Linh"
    },
    {
        "title": "[RONCFPSD-47] Service Sync-to and Sync-from actions",
        "description": "Trying to understand when and how to use service Sync-to and Sync-from actionScenario:1. Make headend router OOS (out of sync)2. Provision a policy with async commit queue  The provision in provisioning failed state as expected3. Do a device sync-to or sync-from to make device in sync4. Do a service \"Sync to\"The policy is still in provisioning failed state. Is this expected? service sync-from has the same result.Can you clarify what is the use case for service/policy sync-to and sync-from actions?",
        "comments": "Hi Crystal,Please follow the error recovery procedures: The issue that you're facing is expected, since the T-SDN service was not re-deployedHi Reginald,I am a bit confused. I tried the similar steps as the original one except put the device OOS, I made it unreachable. The service Sync-from or Sync-to make the service becomes provisioning successful state.In both scenarios are error-recovery with different sync directions. No re-deploy were done for either one. But with different result. Can you let me know why the results are different for these 2 scenarios? Are both expected results?New Scenario:1. Make headend node reachable2. Provision a policy with async commit queueThe provision in provisioning failed state as expected3. Make headend node reachable4. Do a service \"Sync from\" or \"Sync to\"First let me confirm, I maybe missing something important but what do you mean by \"service sync-from/sync-to\" are you referring to the error-recovery action itself and passing sync-from/sync-to direction? Also for the new scenario, you made \"headend node reachable\" but you didn't do this for the first scenario? If you outline the reproduction steps with the payloads/actions in question I can probably give you a clearer answerSubmitter was trying to use error-recovery action for persistent failure for the first scenario which is not supported. Using the flow outlined in our we were able to resolve the issue.We did find a bug with the error-recovery action throwing an error, but also returning a \"Recovery Complete\" which is probably what was confusing. The submitter will file a CDETs for this."
    },
    {
        "title": "[RONCFPSD-53] Failed to deploy L2VPN P2P SR service on XE devices",
        "description": "Tried to deploy the L2VPN P2P with SR policy on XE devices, it failed with following error message, any idea what was wrong? The similar service was able to deploy on XR without issue.message: External error in the NED implementation for device AA-ASR-1001x-2: command: preferred-path segment-routing traffic-eng policy sr-mpls-policy-asr-1-2 : preferred-path segment-routing traffic-eng policy sr-mpls-policy-asr-1-2 ^ % Invalid input detected at '^' marker. [ template type pseudowire l2nm-p2p-sr-asr / ]",
        "comments": " ASR1001X is not in our supported device list. It could be this device does not support preferred path.Please refer to device support list : NSO:5.5.2.3CFP: TSDN3.0.0-M4 XE device: ASR1001x with Cisco IOS XE Software, Version 17.05.01aReporter replaced ASR1001x with ASR903, and re-deployed the L2VPN P2P plain service, the service deployment succeeded"
    },
    {
        "title": "[RONCFPSD-84] CNC is receiving continues service update from the NSO and causes the service state to flap continuously",
        "description": "service : L3VPN : The user edited the service and the device was out of sync. The commit failed but the NSO sending service updates continuously to CNC. Please ping me on webex teams to get the testbed access.admin@ncs# *** ALARM service-activation-failure: Network Element Driver: device TSDN-PE-2: out of syncadmin@ncs# *** ALARM service-activation-failure: Network Element Driver: device TSDN-PE-2: out of syncadmin@ncs# *** ALARM service-activation-failure: Network Element Driver: device TSDN-PE-2: out of syncadmin@ncs# *** ALARM service-activation-failure: Network Element Driver: device TSDN-PE-2: out of syncadmin@ncs# *** ALARM service-activation-failure: Network Element Driver: device TSDN-PE-2: out of syncadmin@ncs#",
        "comments": "service name TSDN-PE-2-5001 <INFO> 14-Sep-2021::03:21:34.504 cisco-flat-L3vpn-fp ncs-dp-1389714-cisco-flat-L3vpn-fp-internal:main-5-th-2173880: - EXIT_POINT:, servicepoint: flat-L3vpn, service: L3NM-TSDN-PE-2-5001-internal TSDN-PE-2_2, component: ncs:self self, state: ready, nano op: cb_nano_create<INFO> 14-Sep-2021::03:21:34.539 cisco-flat-L3vpn-fp ncs-dp-1389714-cisco-flat-L3vpn-fp-internal:main-5-th-2173880: - ENTRY_POINT: servicepoint: flat-L3vpn, cb: cb_post_modification, kp: /cisco-flat-L3vpn-fp-internal:flat-L3vpn{L3NM-TSDN-PE-2-5001-internal TSDN-PE-2_2}, service op: SERVICE_UPDATE<INFO> 14-Sep-2021::03:21:34.539 cisco-flat-L3vpn-fp ncs-dp-1389714-cisco-flat-L3vpn-fp-internal:main-5-th-2173880: - EXIT_POINT: servicepoint: flat-L3vpn, cb: cb_post_modification, kp: /cisco-flat-L3vpn-fp-internal:flat-L3vpn{L3NM-TSDN-PE-2-5001-internal TSDN-PE-2_2}, service op: SERVICE_UPDATE<INFO> 14-Sep-2021::03:21:34.572 cisco-flat-L3vpn-fp flat_L3vpn_validation-5-th-2173880: - ENTRY_POINT: validate_cb: flat-L3vpn-validation, kp: /cisco-flat-L3vpn-fp:flat-L3vpn{L3NM-TSDN-PE-2-5001-internal}<INFO> 14-Sep-2021::03:21:34.591 cisco-flat-L3vpn-fp flat_L3vpn_validation-5-th-2173880: - EXIT_POINT: validate_cb: flat-L3vpn-validation, kp: /cisco-flat-L3vpn-fp:flat-L3vpn{L3NM-TSDN-PE-2-5001-internal}<INFO> 14-Sep-2021::03:21:34.593 cisco-flat-L3vpn-fp flat_L3vpn_internal_validation-5-th-2173880: - ENTRY_POINT: validate_cb: flat-L3vpn-internal-validation, kp: /cisco-flat-L3vpn-fp-internal:flat-L3vpn{L3NM-TSDN-PE-2-5001-internal TSDN-PE-2_2}<INFO> 14-Sep-2021::03:21:34.608 cisco-flat-L3vpn-fp flat_L3vpn_internal_validation-5-th-2173880: - EXIT_POINT: validate_cb: flat-L3vpn-internal-validation, kp: /cisco-flat-L3vpn-fp-internal:flat-L3vpn{L3NM-TSDN-PE-2-5001-internal TSDN-PE-2_2}<INFO> 14-Sep-2021::03:21:36.754 cisco-flat-L3vpn-fp ncs-dp-1389714-cisco-flat-L3vpn-fp:main-8-usid-18877-l3vpn-internal-plan-change-handler: - Internal plan kicker changed for: flat-l3vpn-internal-plan-kicker /cisco-flat-L3vpn-fp-internal:flat-L3vpn-internal/flat-L3vpn-plan{L3NM-TSDN-PE-2-5001-internal TSDN-PE-2_2} 2173946<INFO> 14-Sep-2021::03:21:36.936 cisco-flat-L3vpn-fp ncs-dp-1389714-cisco-flat-L3vpn-fp:main-8-usid-18877-l3vpn-internal-plan-change-handler: - Attempting to re-deploy zombie: /cisco-flat-L3vpn-fp:flat-L3vpn<INFO> 14-Sep-2021::03:21:36.939 cisco-flat-L3vpn-fp ncs-dp-1389714-cisco-flat-L3vpn-fp:main-8-usid-18877-l3vpn-internal-plan-change-handler: - Attempting to re-deploy service: /cisco-flat-L3vpn-fp:flat-L3vpn{L3NM-TSDN-PE-2-5001-internal}<INFO> 14-Sep-2021::03:21:36.972 cisco-flat-L3vpn-fp ncs-dp-1389714-cisco-flat-L3vpn-fp:main-8-usid-18877-l3vpn-internal-plan-change-handler: - Service re-deploy done for: /cisco-flat-L3vpn-fp:flat-L3vpn{L3NM-TSDN-PE-2-5001-internal}<INFO> 14-Sep-2021::03:21:36.983 cisco-flat-L3vpn-fp ncs-dp-1389714-cisco-flat-L3vpn-fp:main-8-usid-18877-l3vpn-internal-plan-change-handler: - Internal plan change handled for: /cisco-flat-L3vpn-fp-internal:flat-L3vpn-internal/flat-L3vpn-plan{L3NM-TSDN-PE-2-5001-internal TSDN-PE-2_2}<INFO> 14-Sep-2021::03:21:37.546 cisco-flat-L3vpn-fp flat_L3vpn_validation-5-th-2173957: - ENTRY_POINT: validate_cb: flat-L3vpn-validation, kp: /cisco-flat-L3vpn-fp:flat-L3vpn{L3NM-TSDN-PE-2-5001-internal}<INFO> 14-Sep-2021::03:21:37.571 cisco-flat-L3vpn-fp flat_L3vpn_validation-5-th-2173957: - EXIT_POINT: validate_cb: flat-L3Closing this ticket as we are tracking viaCSCvz66023.CSCvz66023 is open for tracking this issue."
    },
    {
        "title": "[RONCFPSD-122] NSO CFP M2 - files changed without revision from git diff",
        "description": "id-allocator-oper.yangipaddress-allocator-oper.yangresource-allocator.yangfrom resource-manager/src/yang folder, files changed from M2 milestone build without any revision. Please see the attached snapshot.",
        "comments": "Noted: Created a ticket to resolve this."
    },
    {
        "title": "[RONCFPSD-136] Reconciliation of L2VPN services with CNC/NSO fails with RESTCONF",
        "description": "1) I create a L2VPN on the routers CLI. These VPN adjusts to the l2vpn-ntw service package included in CNC 2.0.2) I do a sync-from in NSO3) I create the l2vpn service via RESTCONF API, using commit no-networking4) The l2vpn service shows up in CNC as \"Success\". Everything is normal now.5) If I use NSO's CLI to perform a \"l2vpn-ntw ... re-deploy reconcile\", everything works fine. But if instead of using NSO's CLI, I perform a RESTCONF API call using \"http://<tt>nso_ip</tt>:8080/restconf/data/.../vpn-service=.../re-deploy?reconcile\", then the services show up in CNC as \"Failed\". I attach a screenshot.Besides, NSO's check-sync in the affected devices turns negative, although a \"compare-config\" shows no differences between CDB and device config. Attached screenshot.These tests have been run on the dCloud demo: cisco_crosswork_network_controller_2.0_with_cdg_2.0_and_nso_5.4.2-1The same behavior is not observed when repeating the same process for l3vpn-ntw services.Thank you.",
        "comments": "Hi Oscar,Is there any NSO logs that you can provide from when you encountered this failure? This may help with debugging.Alternatively, if the NSO is still running with the failed service intact, I can check few things on your NSO if you can provide credentials (will not make any state changes).Thanks,Isaac KimHello Isaac, unfortunately I don't have the logs as this was executed in a lab and it has been reconfigured for other purposes. Once it's available for me again, I'll repeat the exercise and let you know. Thanks.Hello Oscar,It has been a month since this ticket has been awaiting feedback. In this case, if you encounter reproduction and obtain logs.If there is no response in a week, I will assume that this case is closed.Thanks,Isaac KimHello, you can proceed to close the ticket, please.Regards,Oscar."
    },
    {
        "title": "[RONCFPSD-90] Y1731 configuarion query for the existing l2vpn service",
        "description": "Hi,1] I already have a l2vpn Service configured and it is working fine. Payload attached L2VPN_NM-P2P-RSVPTE-202.xml2] Now, i am modifying the service with adding y1731 config to it. attached payload L2VPN_NM-P2P-RSVPTE-202-y1731-m6.xmlAfer step 2, i am seeing that it is deleting the existing config and adding new config to the devices with y1731.why do we need to delete the existing service conifg and readd?\"show configuration commit changes last 2\"atatched output from device cli.",
        "comments": "  Hi Arun,Looks like this bug :ThanksPriyanka "
    },
    {
        "title": "[RONCFPSD-485] Unable to create L2 service type in NSO M8",
        "description": "Hi,Unable to create L2 service type in NSO M8.Getting below error:errors: reason: is not configured. paths: /ralloc:resource-pools/idalloc:id-pool{None}/range/start. path: /ralloc:resource-pools/idalloc:id-pool{None}/range/startSetup:172.27.226.127Credentials: nso/Vtsisco@123!Regards,Magesh",
        "comments": "Hi Magesh,Could you please provide the payload used, so we can reproduce this error.Hi Babu,Attaching the payload. Hi Magesh,The NSS Functionality was removed from TSDN in M8. So that payload will not be compatible. Also it looks like the NSO build present on your machine is outdated for M8. You can find the supported build here in the release notes.Hi Babu,But i was able to create L3 type slices in the same setup.It should have thrown error if NSS was not supported.Hi Babu,I think this is custom package for Transport Slicing on top of M8.So adding Regi to the ticket.Thanks,NaveenHi Naveen,Seems like you're missing L2 resource pools. You can configure them via the following:<div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"><pre><config xmlns=\"http://tail-f.com/ns/config/1.0\"> <l2vpn-ntw xmlns=\"urn:ietf:params:xml:ns:yang:ietf-l2vpn-ntw\">  <id-pools xmlns=\"http://cisco.com/ns/nso/fp/examples/cisco-l2vpn-ntw\">   <evi-id-pool-name>evi-id-pool</evi-id-pool-name>   <evi-source-target-pool-name>evi-source-target-pool</evi-source-target-pool-name>   <rt-pool-name>rt-id-pool</rt-pool-name>  </id-pools> </l2vpn-ntw></config></pre></div></div>There is already a ticket being tracked for this issue to add appropriate error messages.Thanks,RegiHi Regi,Thanks , I am not getting ID-pool error after adding the id-pools.But I am getting below error while trying to push the configs.interface GigabitEthernet0/0/0/2.311\\r\\n!!% Invalid argument: VPLS Bridge domains not supported on this platform\\r\\nBut looks like there is specific SMU has to be installed on top of XR7.8.1.Let me give a try.Thanks,NaveenYes, that's correct XRv9k does not support L2 EVPN MP because it doesn't support bridge domains.You'll need to use ASR9K or some other platform which does support it.Thanks,Regi"
    },
    {
        "title": "[RONCFPSD-491] L2VPN services stuck in-progress state after provisioning from NSO UI",
        "description": "L2VPN services stuck in-progress state after provisioning from NSO UISteps:1. Load all types of services one by one from NSO UI - either copy paste the payload content or attach the file.2. We can see few services will be provisioned successfully and couple of them will be stuck in-progress state during provisioning.Attached nso logs for reference.",
        "comments": "One more step part of the below issue:*2. Enable or edit already provisioned services one by one. And then provision services from NSO UI one by one.Hi Gomathi,As discussed, there was a clean-up done for the services directly(without any delete) and then the same services were created again which resulted in some race condition and hence the services were stuck in in-progress state.We don't encourage the user to do clean-up of the services directly.It should be invokedwhen certain elements of the service fail to delete during normal service deletion. This can happen in scenarios where device not reachable during deletion.As a workaround for the services stuck in in-progress state, please execute the below steps on cfs node:<ul>\t<li>Do a rfs-node sync-from on the cfs node ----> admin@cfs-node% request devices device rfs-node-1 sync-from</li>\t<li>re-deploy the service on cfs node ----> admin@cfs-node% request l2vpn-ntw vpn-services vpn-service EVPN-MP-ELAN re-deploy</li></ul>Thanks,NikhilAdvised the user to delete the services instead of directly doing a clean-up. Also, gave a workaround for the stuck services"
    },
    {
        "title": "[RONCFPSD-308] devices from RFS3 not available in CFS",
        "description": "We have HA scale setup with two CFS and 3 RFS. There are 25K devices spread between 3 RFS. However, devices from RFS-3 are not visible in CFS.HA VIP \u2013 172.20.63.132CFS1 \u2013 172.20.63.133CFS2 \u2013 172.20.63.134RFS1 \u2013 172.20.63.148RFS2 \u2013 172.20.63.149RFS3 \u2013 172.20.63.150username: cnctest/Ovatest123@",
        "comments": "Hi Ramakrishnan,I am able to see the devices from RFS-3 in CFS.Please suggest .Thanks,Nishad SubairHi Nishad,Updating the case as Ramakrishnan is offline.Actually when tried to create a policy in CFS using script, it's erroring out when Head-End/End-Point Devices are belonging to RFS3 as shown in below output below.Similarly from CNC Provisioning UI, when tried to provision any policy/service - the drop-down for HE/EP or VPN nodes does'nt show devices belonging to RFS3 though it's added and reachable to CNC. Please see the below snaps - Devices from RFS3 are missing in dispatch map. Nodes - Node_100_4, Node_100_10, Node_100_11 are from RFS3.I see that device from RFS3 are now available. Can you share the changes that you did in this setup.Hi Ramakrishnan,No changes were done in the set up . i was able to see the mentioned devices in the dispatch map.Please suggest if i can close the ticket.Thanks,Nishad SubairGo ahead and close the case. Sorry for the delay"
    },
    {
        "title": "[RONCFPSD-320] Not able to access yang variables for core-fp-common from NSO cli",
        "description": "I have downloaded the packages of TSDN from software.cisco.com and did packages reload in our environment. We are using NSO version 5.7.1.1. We have done below activities but not able to access core-fp-common from NSO cli.1. We have done the package reload and saw the load-dir, I can find the .fxs   files but core yang is not able to access. Below is the screenshot for the   same.2. I have tried to build the package core-fp-common but getting below   result. It is strange for me. This activity I have done on my local machine   which is having NSO version 5.7.1 and have local install but above  activities I performed on system install.",
        "comments": "Hi Faisal,Can we do webex ?I need to go over these steps over webex with you ?I want to understand whether you want to use local install or system install. Let's sync up and i can help you with resolution.ThanksPriyankaHi Priyanka,Yes, sure. Can we do it today. Please let me know when can we do that?Regards,FaisalHi Faisal ,I work in PST , please let me suggest a time that can work for both us.you time 9:30 PM IST works for you ?ThanksPriyankaHi Priyanka,I saw your message late night by 11 PM. Can we do it today 9:30 PM IST?Please setup a call by 9:30 PM IST. I will be available today.Regards,FaisalHi Faisal ,I accepted your invite for 9:30 PM IST , but I waited in the meeting for quite some time and left.As you were not available today, let's do the same time tomorrow if that works.ThanksPriyankaHi Faisal ,I am closing as per your confirmation.Please let me know if you need any further help.ThanksPriyanka"
    },
    {
        "title": "[RONCFPSD-446] provisioning L3VPN slow in scale setup",
        "description": "Our NSO scale setup has 25K devices, 200K VPN services.Compared to earlier NSO 5.4.x, current NSO 6.0 is slow in provisioning L3VPN services.In this release, we are trying L3VPN with 5 end points.L3VPN 5 EP - 1 service - 240 to 250 sec (without actually sending configs to routers -no-networking - true)L3VPN (point-to-point) - between 2 devices - 1 service - 104 to 110 sec. Is there any bug on L3VPN? Can we speed this up in setup?Question 2: The setup has only 3 months license. This setup needs to be tested over 5 months. Can we extend the license? Can you share the steps.Setup: 172.20.63.133Creds: cnctest/Ovatest",
        "comments": "Hi ,Cannot login in your NSO .Could you please share correct working credentials ?Also can you please share usecase and comparison for NSO 5.4 vs NSO 6.0 test you executed .Please update steps of testing used came in both ?Types of devices and ned types same ?I see in one comparison no networking true - In this case you see different numbers in NSO 5.4 vs NSO 6.0 .Please share details and set up .I will look into .ThanksPriyankaWe use REST API through shell script and create L3VPN service through payloads.Device types are XR device ( simulated ) Major difference is for L3VPN, we were only using 2 end points in NSO 5.4.x. For NSO 6.0, we create L3VPN with 5 end points and also L3VPN with 2 end point. In both NSO cases, we were only executing no-networking is true.Other difference is updated payload between new NSO 6.0 and old NSO 5.4.x.In terms of memory, CPU, Swap, everything is same. It is the same machine.Setup details 172.20.63.133UI, CLI - cnctest/Ovatest123@ Hi Rama,First question comparing 2 EP (NSO 5.4.x ) vs 5 EP (NSO 6.0 ) is not apple to apple comparison.Please share a comparison for 2 EP with the same payload for both use cases.As there is no point in checking where orange is compared to apple.Usecase makes lots of difference in results.I hope you got my point.ThanksPriyankaAgree for 5 EP and 2 EP difference. Even comparing 2 end point L3VPN between NSO 6.0 and NSO 5.4.x also yields the same result, Time is higher in NSO 6.0. Please clarify on the license part also.Hi Rama ,Can you be specific what is the exact difference you see between NSO 5.4.x and NSO 6.0 2 EP in terms of commit times and also share exact outputs along with plan for both usecase.I am really not sure what licensing you are asking us ?We as CFP team not responsible for any license.ThanksPriyankaProvided setup details for both NSO and the scripts that are used along with payload. Kindly check why NSO 6.0 is taking long time for L3VPN.  Hi Rama,I compared both your labs .Here is my observation :1. All RFS nodes on NSO 5.7 x -> has 26 packages 2.All RFS nodes on NSO 6.0 > has 31 packages .Here the packages which are causing degradation of performance are NETCONF NED packages.Please remove all netconf ned packages from both nodes .Then only we can say these set ups are comparable .right now NSO 6.0 has more number of netconf neds.Here is the platform ticket with reference :Here is my recommendation :for faster performance :1.Remove all NETCONF neds from RFS ndoes .2.Make sure to keep same number of packages on both set up if you are comparing them .We should keep identical labs if we are comparing them .Also please close CDET which you have raised :As without confirmation no point in keeping duplicate tracking of issues.ThanksPriyankaDevices in both setup use only cli ned. How can the unused netconf packages can cause performance issues?NSO 5.7.5.1devices use 'device-type cli ned-id cisco-iosxr-cli-7.39'NSO 6.0 device use 'device-type cli ned-id cisco-iosxr-cli-7.43'We used only the default packages available in TSDN FP for both NSO version. Removed netconf related packages in NSO. But there are no changes in time taken for provisioning.Hi Ramakrishnan,Priyanka mentioned the RT(Ticket on NSO platform) in the previous reply on degradation of performance due to netconf NED presence. Regarding \"how\", We believe NSO Platform folks are more well versed with the technical implementation here. You should be able to file RT with help of Crystal and find out the how.You mentioned that you removed netconf packages and tested. Please provide the following details to proceed further. Can you please let us know the exact time degradation?What is time to provision in 5.7.x vs time to provision in 6.0 ? Please give us the times. Along with \"show packages package oper-status up\" on the system.Also are you using 5.4 or 5.7 ? In the description I see 5.4 while you mention in the reply to be 5.7.We do not see any kind of degradation from our testing. So, we would need as much info specific as possible. If it would be easier to webex, let us know that as well.Hi Rama,I tried to create service using your payload in your labs and it ended up in ned error in NSO 5.7.5.1 lab and rpc error in NSO 6.0 lab.Can we do webex and get closure as no point of back and forth .ThanksPriyankaHi Team,I just tried now and able to provision L3VPN services in both NSO's. Will attach the snaps to show exact times for both including \"show packages package oper-status up\" o/p. In NSO 6.0, we see a huge delay of 10 to 20 times than earlier releases. We have one more standalone NSO 6.1, there also same issue seen. This delay is seen ONLY for L3VPN and not for L2VPN. Every release from the time* NSO is introduced into COE/CNC, am doing the scale testing using these scripts for scaling up 200K ; 300K VPN services. And never hit this huge delay for L3VPN.Thanks for sharing Platform tickets but these are not transparent to every one like CDETS. As we don't have access to platform tickets, neither description nor the content are visible to us.Please refer the attached notepad \"repro-CSCwe21126\" for exact times and show package o/p along with NSO logins.Will be available online for 1 more hour before i sign-off for the day. Please ping me, if required to repro again. \"ramasrin\" will be available tomorrow morning IST to provide more info. if needed for you to help us triage this at earliest.Thanks for your support !!-Sreedhar. Hi Sreedhar ,Please join :ThanksPriyankaHi Sreedhar,As per our webex discussion :Please try 50 service creation using multi-thread on NSO 6.x - Please share a comparison of 50 service (single thread ) vs multi thread (using 5 thread .each thread 10 services without device conflicts between threads.)Let's first focus on standalone for this.'ThanksPriyankaHi Priyanka, Our script has the payload for 10 services each with same device. We can modify it so that all devices used are different. When you mean by multi threading, should we run 5 instance of that script simultaneously from 5 terminals? By single thread, do you mean single terminal executing 10 service one by one? Or when i refer the following link, it talks about changes in package-meta-data.xml. Should we do anything of that sort ? I will try to sync up with you. with regards,Srinivasan RHi Rama,As per our webex discussion - Try the way i suggested distributing devices across services on different threads.Please try that and let me know how it goes.ThanksPriyankal3vpn.xml is the payload that caused lot of delay. scale-l3nm_fast is the one that NSO team gave, that is faster.  We observed that vpn-instance-profile created for each service is not referenced in the vpn-node in scale-l3nm_fast.xml. If we refer the vpn-instance-profile under vpn-node, it takes around 25 seconds for each service. If we dont refer it, it takes just 1 second to create the service.Hi Team, With the modified payload (removed the reference of vpn-instance-profile under vpn-node), provisioning of L3VPN is very fast. Able to provision 10 L3VPN services in less than 20 seconds currently. Unblocked with the issue with this workaround. Thanks,Sreedhar.changing payload helped team to unblocked."
    },
    {
        "title": "[RONCFPSD-452] Information needed on Re-activate Re-deploy and Re-Deploy Re-Concile",
        "description": "Hi Team,I am looking for more details on Re-activate Re-deploy and Re-Deploy Re-Concile to perform testing. Can some help with steps how can I execute these?Thanks,Kanchan",
        "comments": "Hi Kanchan,As re-deploy is a native NSO action, you can find more information from NSO docs.For re-deploy, you can check nso_user_guide-6.1_XXXX.pdf page 203 for all details. You can find this pdf in your NSO install directory under <NSO_ROOT>/doc/pdf/nso_user_guide-6.1_XXXX.pdfThanks,Isaac Kim Isaac to provide testing scenario for redeploy reconcile via REST on Monday~Hi Kanchan, I will try to provide the testing procedure today.Thanks,Isaac KimHi Kanchan, I have finished the reproduction + REST procedure for redeploy reconcile.I have attached a postman collection to this reply with the requests in order.The procedure follows the requests in order:<ol>\t<li>CREATE SERVICE\t<ol>\t\t<li>Basic ODN service</li>\t\t<li>Replace head-end with your own device in request body</li>\t</ol>\t</li>\t<li>QUERY DEVICE CONFIG BACKPOINTER EXISTS\t<ol>\t\t<li>Query NSO device config with service meta-data and verify refcounter=1 and backpointer exists</li>\t\t<li>In request URI, replace device selector with your own device</li>\t</ol>\t</li>\t<li>DELETE DEVICE CONFIG COLOR\t<ol>\t\t<li>Deletes NSO device config color with no-networking (only deleted from NSO CDB)</li>\t\t<li>In request URI, replace device selector with your own device</li>\t</ol>\t</li>\t<li>SYNC FROM DEVICE TO PULL COLOR\t<ol>\t\t<li>As title states, this will pull the color config from the actual device</li>\t</ol>\t</li>\t<li>QUERY DEVICE CONFIG BACKPOINTER DOESNT EXIST\t<ol>\t\t<li>Query NSO device config with service meta-data and verify refcounter and backpointer are NOT present</li>\t\t<li>In request URI, replace device selector with your own device</li>\t</ol>\t</li>\t<li>REDEPLOY RECONCILE\t<ol>\t\t<li>Redeploy reconcile service to retake ownership of NSO device config color</li>\t</ol>\t</li>\t<li>QUERY DEVICE CONFIG BACKPOINTER EXISTS\t<ol>\t\t<li>Query NSO device config with service meta-data and verify refcounter=1 and backpointer are reestablished</li>\t\t<li>In request URI, replace device selector with your own device</li>\t</ol>\t</li></ol>If you have any questions, please let me know.Thanks,Isaac KimThere was no issue. Sample re-deploy reconcile RESTCONF procedure provided."
    },
    {
        "title": "[RONCFPSD-334] Incorrect Payloads in M2 Release Wiki",
        "description": "L2VPN payloads in the M2 release wiki are incorrect. They still point to the M1 payload format. ",
        "comments": "Payloads have been fixed for TSDN 5.0 M2 detailed wiki for L2NM. Please let me know if you face any issues with the new sample payloads!"
    },
    {
        "title": "[RONCFPSD-453] Sync from and Sync to from CNC for services failing with error application communication failure",
        "description": "Create L3VPN service from CNC creation is successful - performed sync from and sync to action from cnc getting below error\"[{\\\"Message\\\":\\\"application communication failure\\\",\\\"nsoResponse\\\":\\\"application communication failure\\\"}]\"",
        "comments": "Hi, a identical CDETS has been filed for this (). As such, we will continue any discussion on the CDETS and close this JSD.Thanks,Isaac Kim"
    },
    {
        "title": "[RONCFPSD-335] L2VPN Create Failure",
        "description": "Payload Used:{ \"ietf-l2vpn-ntw:vpn-service\": {  \"vpn-id\": \"l2nm-vpn-o-sr-mpls-2401\",  \"ietf-l2vpn-ntw-cisco:control-word\": \"yes\",  \"vpn-type\": \"ietf-vpn-common:vpws\",  \"vpn-nodes\": {   \"vpn-node\": [    {     \"vpn-node-id\": \"TB3-PE-A\",     \"ietf-l2vpn-ntw-cisco:te-service-mapping\": {      \"te-mapping\": {       \"sr-policy\": {        \"policy\": \"sr-mpls-policy-a-2401\"       }      }     },     \"signaling-option\": {      \"ldp-or-l2tp\": {       \"pw-peer-list\": [        {         \"vc-id\": 2401,         \"peer-addr\": \"100.100.100.6\",         \"ietf-l2vpn-ntw-cisco:mpls-label\": 241        }       ]      }     },     \"vpn-network-accesses\": {      \"vpn-network-access\": [       {        \"id\": \"l2vpn-p2p-ac1\",        \"interface-id\": \"GigabitEthernet0/0/0/1\",        \"service\": {         \"mtu\": 65        },        \"connection\": {         \"encapsulation\": {          \"encap-type\": \"ietf-vpn-common:dot1q\",          \"dot1q\": {           \"cvlan-id\": 601,           \"tag-operations\": {            \"push\": [             null            ],            \"tag-1\": 123,            \"ietf-l2vpn-ntw-cisco:mode\": \"symmetric\"           }          }         }        }       }      ]     }    },    {     \"vpn-node-id\": \"TB3-PE-B\",     \"signaling-option\": {      \"ldp-or-l2tp\": {       \"pw-peer-list\": [        {         \"vc-id\": 2401,         \"peer-addr\": \"100.100.100.5\",         \"ietf-l2vpn-ntw-cisco:mpls-label\": 242        }       ]      }     },     \"vpn-network-accesses\": {      \"vpn-network-access\": [       {        \"id\": \"l2vpn-p2p-ac1\",        \"interface-id\": \"GigabitEthernet0/0/0/1\",        \"service\": {         \"mtu\": 64        },        \"connection\": {         \"encapsulation\": {          \"encap-type\": \"ietf-vpn-common:dot1q\",          \"dot1q\": {           \"cvlan-id\": 601,           \"tag-operations\": {            \"push\": [             null            ],            \"tag-1\": 234,            \"ietf-l2vpn-ntw-cisco:mode\": \"symmetric\"           }          }         }        }       }      ]     }    }   ]  } }}Error:{  \"ietf-restconf:errors\": {    \"error\": [      {        \"error-type\": \"application\",        \"error-tag\": \"malformed-message\",        \"error-path\": \"/ietf-l2vpn-ntw:l2vpn-ntw/vpn-services/vpn-service\",        \"error-message\": \"/flat-L2vpn-internal-local-site-service{L2NM-l2nm-vpn-o-sr-mpls-2401-internal TB3-PE-A}: Python cb_validate error. exceptions must derive from BaseException\"      }    ]  }}ncs.log:<INFO> 22-Sep-2022::22:05:12.672 nso-10-194-63-180 ncs: ncs progress usid=1315 tid=2476 datastore=running context=rest subsystem=flat_L2vpn_validation validate<INFO> 22-Sep-2022::22:05:12.681 nso-10-194-63-180 ncs: ncs progress usid=1315 tid=2476 datastore=running context=rest subsystem=flat_L2vpn_internal_local_site_validation validate<ERR> 22-Sep-2022::22:05:12.686 nso-10-194-63-180 ncs: devel-c validate error {application, \"Python cb_validate error. exceptions must derive from BaseException\"} for path /cisco-flat-L2vpn-fp-internal-local-site:flat-L2vpn-internal-local-site-service{L2NM-l2nm-vpn-o-sr-mpls-2401-internal TB3-PE-A}<INFO> 22-Sep-2022::22:05:12.686 nso-10-194-63-180 ncs: ncs progress usid=1315 tid=2476 datastore=running context=rest run validation over the changeset: error (0.023 s)<INFO> 22-Sep-2022::22:05:12.698 nso-10-194-63-180 ncs: ncs delete \"/var/opt/ncs/rollbacks/rollback10104.confirm\" resulted in enoent<INFO> 22-Sep-2022::22:05:12.698 nso-10-194-63-180 ncs: ncs delete \"/var/opt/ncs/rollbacks/rollback10104.confirm.bup\" resulted in enoent<INFO> 22-Sep-2022::22:05:12.699 nso-10-194-63-180 ncs: ncs progress usid=1315 tid=2476 datastore=running context=rest releasing transaction lock ",
        "comments": "Hi SachinPlease provide us the setup details so that we can look into this error. The payload seems to be working fine for us.Thanks,NikhilHad a call with Sachin and the payload seems to be going through fine now. He'll be trying out a few more times and will update in case of any failures.The payload seems to be going through fine and user was able to provision the service."
    },
    {
        "title": "[RONCFPSD-321] Services are getting stuck in zombie",
        "description": "Single Node NSO VM (NSO 5.7.5.1 with M8 - re-install of NSO from a previous version)After re-install able to create a new service but when deleting the same service it's getting stuck in a zombie. Not sure what is going on as have the right NACM and other settings in place, checked M8 install wiki too. ",
        "comments": "Had webex with Arun ,we tried different things like nacm settings ,sudoers ,even cleaned up cdb ,no luck .For now Arun will bring up new VM and then we will try fresh install to see .ThanksPriyankaIssue was Ha settings in ncs.conf .Arun was able to resolve it .Closing the case as per his confirmation .ThanksPriyanka"
    },
    {
        "title": "[RONCFPSD-447] Options for CS-SR",
        "description": "When a CS policy is configured with auto-color enabled, what is the color that is sent by NSO to CNC? What is the range of valid colors for these policies? Is 0 considered a valid color? ",
        "comments": "Hello Sachin,CS SR-TE auto color utilizes Resource Manager to allocate color values based on a resource pool. The color resource pool should first be defined under ralloc:resource-pools -> idalloc:id-pool which should then be referenced from cs-sr-te-resource-pools -> color-pool-name.When defining your resource pool parameters under ralloc:resource-pools, user can specify a range from which allocation will be done. This resource pool allocation range must match the range of the corresponding config node so that a valid value can be allocated. This means for color, it will be 1-4294967295 as you can see in the model:<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\">leaf color { tailf:info ; description ; type uint32 {  range ; }}</pre></div></div>As you can see, 0 is not a valid value as it is not within the color range.Please let me know if you have any other questions.Thanks,Isaac KimHi Sachin,To see what the allocated color value is, you can check (OPER DATA) cs-sr-te-policy -> color-oper-data -> color.Thanks,Isaac KimAs discussed in the meeting we will refactor the allocated oper-data from service to plan. You can expect the oper-data to be stored in the following paths::cs-sr-te-plan -> color-oper-data -> color :cs-sr-te-plan ->bidirectional-association-id-oper-data ->working-path-bidirectional-association-idcs-sr-te-plan ->bidirectional-association-id-oper-data ->protect-path-bidirectional-association-idcs-sr-te-plan ->bidirectional-association-id-oper-data ->restore-path-bidirectional-association-idcs-sr-te-plan ->disjoint-group-id-oper-data ->forward-group-idcs-sr-te-plan ->disjoint-group-id-oper-data ->reverse-group-idFixed in M6 Patch Build"
    },
    {
        "title": "[RONCFPSD-309] LSA - M8 - NetConf Notifications are not working",
        "description": "LSA - M8 - NetConf Notifications are not working. CFS is not receiving any notification from any of the RFS nodes. Tried multiple times - the reboot of the CFS and RFS, try running the disconnect and re-connect netconfg subscription command no luck. Finally - had to remove the config as per wiki 'Onboard RFS device onto CFS device tree' and re-do and after that notification started to work. ",
        "comments": "Had to re-create subscription for the subscription to work."
    },
    {
        "title": "[RONCFPSD-490] NCA FP: When upgrading from NSO6.1 M7 to M8 NSO failed with callback-node is not configured",
        "description": "root@nso-cnc-4-0-ha-1:~#root@nso-cnc-4-0-ha-1:~# date;sudo NCS_RELOAD_PACKAGES=force /etc/init.d/ncs restart --ignore-initial-validation;date;Thu 06 Apr 2023 10:59:12 AM PDTStopping ncs: connection refused (stop)Starting ncs: CDB: Upgrade failed: Upgrade transaction failed to validate: /ncs:devices/authgroups/group{sr-device-1}/umap{cwuser}/callback-node is not configuredDaemon died status=13.Thu 06 Apr 2023 11:22:26 AM PDT Backup files : /auto/nfv_orch/AUTO_DEV/jobjames/logs/5.0/CSCwe95313and config used -> set devices authgroups group juno-device-1 default-mapset devices authgroups group juno-device-1 default-map remote-name adminset devices authgroups group juno-device-1 default-map remote-password $9$20vECdX1uquBxN3UQ45LuPLqYaMJTQ8M9ZWFQCgGeLU=set devices authgroups group sr-device-0 default-mapset devices authgroups group sr-device-0 default-map remote-name adminset devices authgroups group sr-device-0 default-map remote-password $9$oWiTHykfTdqFfiZCDtpe7awxtPo7JEd36jFxsZnURY4=set devices authgroups group sr-device-1 default-mapset devices authgroups group sr-device-1 default-map remote-name adminset devices authgroups group sr-device-1 default-map remote-password $9$NNWOVfK4wI2VoyRCu1VVrUpyZCEjMISqPkItiOAm/3Y=set devices authgroups group sr-device-1 umap cwuser callback-node /cw-creds-getset devices authgroups group sr-device-1 umap cwuser action-name getset devices authgroups group xe-device-1 default-mapset devices authgroups group xe-device-1 default-map remote-name adminset devices authgroups group xe-device-1 default-map remote-password $9$mjuwSEdaOxLpGZWrJynhYGgvKBaeUFU+ClcYXp/C95Y=set devices authgroups group xe-device-2 default-mapset devices authgroups group xe-device-2 default-map remote-name adminset devices authgroups group xe-device-2 default-map remote-password $9$TpMGV/EY/H6GN91nQwVn7I7boWFxmJZl8jPaUKi9CZw=set devices authgroups group xe-device-2 umap cwuser callback-node /cw-creds-getset devices authgroups group xe-device-2 umap cwuser action-name get ",
        "comments": "Hi Mohamed,Fortunately we have seen this issue before. Please take a look at the definition of callback-node:<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\">4108    leaf callback-node {4109     description4110     \"Invoke a standalone action to retrieve login credentials 4111      managed devices on the instance.4112 4113      The action is invoked on the callback node that4114      is specified by an instance identifer.\";4115     mandatory ;4116     type instance-identifier;4117    }</pre></div></div>Here we can see callback-node has a type of instance-identifier. Here is the definition of instance identifier:<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\">9.13. The instance-identifier Built-In Type  The instance-identifier built-in type is used to uniquely identify a  particular instance node in the data tree.</pre></div></div>This means callback-node must reference a valid existing node in NSO CDB. Here are the two callback-node commands you mentioned:<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\">set devices authgroups group sr-device-1 umap cwuser callback-node /cw-creds-getset devices authgroups group xe-device-2 umap cwuser callback-node /cw-creds-get</pre></div></div>Here we are configuring /cw-creds-get which is not native NSO CDB config. This means we are referencing an external model that was loaded from a package. Based on the naming of the node, we can assume this node is part of a CW (Crosswork) package model. Based on the error message \"/callback-node is not configured\", we can assume that the package which contains /cw-creds-get is not loaded into NSO as the reference does not exist.To fix this, please make sure all dependent CW packages are defined in your NSO packages directory before reloading.Thanks,Isaac Kim"
    },
    {
        "title": "[RONCFPSD-484] Need help in Decoupling Netconf template from Functional pack ",
        "description": "There is a requirement to decouple the Netconf template we package along with FP. If we load this template manually it throws error. Need help in fixing this error. I have attached the template. Following is the error. nso@ncs# config Entering configuration mode terminalnso@ncs(config)# load merge cisco-tm-tc-native-um-template.xmlLoading.Error: on line 7: no mount id exists for: /ncs:devices/ncs:device[ncs:name='{/name}']/ncs:confignso@ncs(config)# nso@ncs(config)# ",
        "comments": " Based on the template, it seems like this is a service template which is intended to be applied with the context of your TM TC service.Why are we trying to load this service template from NSO CLI? The service template should be automatically loaded when the TM TC package is loaded into NSO.Thanks,Isaac KimYes, it is a service template but if we have this loaded as part of TMTC package, the installation will fail if there is no netconf ned package installed. That is because this template has reference of netconf ned package. The requirement is to load TM-TC package even if there is no netconf ned package installed.What you could try is using an if-ned-id condition inside the template to protect the XR NC namespace. This should get rid of the NC NED dependency afaik.For example:<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\"><pre class=\"code-java\"><config xmlns=></span> <devices xmlns=></span>  <device>   <name>{/name}</name>   <?set DEVICE = {/name} ?>   <config>     <?-ned-id cisco-iosxr-nc-7.3:cisco-iosxr-nc-7.3           cisco-iosxr-nc-7.4:cisco-iosxr-nc-7.4           <OTHER SUPPORTED NEDS FOR THIS NAMESPACE>?>        <telemetry xmlns=></span>      ...     <?end?></pre></div></div>But what this will mean is that if this template is applied and there are no matching NEDs for this if-ned-id condition, nothing inside the if-ned-id block will be pushed to device. If the service code applies different templates based on NED type, this should be okay.Please try this out and let me know if it works. Again this fix is for loading the package into NSO when there is no NC NED present, not for NSO CLI load merge.Thanks,Isaac Kimthe package installation is failing with following error admin@ncs# *** ALARM package-load-failure: cisco-tm-tc-native-um-template.xml:9 unknown ned-id: cisco-iosxr-nc-7.3:cisco-iosxr-nc-7.3, cisco-iosxr-nc-7.4:cisco-iosxr-nc-7.4Hi Moksha,Upon further evaluation, it seems like TM-TC is already setup for multivendor support.cisco-tm-tc-fp -> Native NED Support + Service Logictm-tc-multivendors -> Multivendor NED SupportIf NC NED is not the native NED for cisco-tm-tc-fp and we want to decouple the dependency from cisco-tm-tc-fp, we should move the related files to tm-tc-multivendors.Thanks,Isaac KimA solution was provided to submitter and absorbed."
    },
    {
        "title": "[RONCFPSD-137] get-modifications reverse on CFS does not include device config delta",
        "description": "Procedure and Issue:have NSO LSA setupdeployed the L2NM service on CFS.the 'get-modifications reverse' returned only '-flat-L2vpn internal' payload, without device config delta.Note:L2NM service payload is attached.device CL5-PE-A is configured on rfs-1, device CL5-PE-C is configured on rfs-2.the return of 'get-modifications reverse':admin@ncs% request l2vpn-ntw vpn-services vpn-service L2VPN_NM-P2P-PE-A-PE-C get-modifications reverse cli {  local-node {    data -flat-L2vpn L2NM-L2VPN_NM-P2P-PE-A-PE-C-internal {service-type p2p;flat-L2vpn-p2p {pw-id 301;local-site {pe CL5-PE-A;if-type GigabitEthernet;if-id 0/0/0/1;if-encap dot1q;vlan-id 301;sub-if-id 301;mtu 65;xconnect-group-name L2VPN_NM-P2P-PE-A-PE-C;p2p-name L2VPN_NM-P2P-PE-A-PE-C;sr-te {preferred-path {       -          policy SR-Policy-1;       -        }}control-word no;pw-class L2VPN_NM-P2P-PE-A-PE-C;xconnect-local-ip 200.200.200.5;xconnect-remote-ip 200.200.200.7;mpls-local-label 114;mpls-remote-label 115;}remote-site {pe CL5-PE-C;if-type GigabitEthernet;if-id 0/0/0/1;if-encap dot1q;vlan-id 301;sub-if-id 301;mtu 65;xconnect-group-name L2VPN_NM-P2P-PE-A-PE-C;p2p-name L2VPN_NM-P2P-PE-A-PE-C;sr-te {preferred-path {       -          policy SR-Policy-2;       -        }}control-word no;pw-class L2VPN_NM-P2P-PE-A-PE-C;}}       -}</ul>  }}admin@ncs% ",
        "comments": "  Had verified, the config delta was pushed correctly on on the both devices.Hi JasonWe filed an RT for getting support to get-modifications from top level service.Workaround:Currently as work-around to get the device config, we need to do get-modifications reverse from second level service.For Example:When you create l2NM service, get-modifications reverse on flat-l2 service will work as intended.Tested this on your system and was able to verify:```admin@ncs% request flat-L2vpn L2NM-L2VPN_NM-P2P-PE-A-PE-C-internal get-modifications reversecli {  local-node {    data  }  lsa-service {    service-id /devices/device/config/cisco-flat-L2vpn-fp-internal-local-site:flat-L2vpn-internal-local-site-service    data devices {          device CL5-PE-A {            config {              interface {<ul class=\"alternate\" type=\"square\">\t<li>GigabitEthernet 0/0/0/1 {</li>\t<li>description \"to CL5-P-BOTTOMLEFT\";</li>\t<li>ipv4 {</li>\t<li>address {       -              ip 20.20.15.5;       -              mask 255.255.255.252;       -            }</li>\t<li>}</li>\t<li>}                GigabitEthernet-subinterface {</li>\t<li>GigabitEthernet 0/0/0/1.301 {</li>\t<li>mode l2transport;</li>\t<li>description \"T-SDN Interface\";</li>\t<li>mtu 65;</li>\t<li>encapsulation {</li>\t<li>dot1q {```</li></ul>Please let me know if this workaround works until we make progress with RT.Please also let me know if this functionality was working/not-working for LSA on M1 Release too?I was able to capture the \"device config\" from the output of \"get-modifications reverse\" on one of CFP QA's testbed during M1 timeframe (earlier this year), so I believe it was working in M1.Hi Sahithi,Thanks for providing the workaround. Although it could retrieve the device config data in this way, but it is not practically applicable to SH implementation. I'd rather be waiting for the issue getting resolved. Here is the reason:<ul class=\"alternate\" type=\"square\">\t<li>with this workaround, SH needs to query NSO twice to retrieve the data, because SH should not assume the flat-vpn-internal service yang path and name.</li>\t<li>the output of workaround is in different data structure (hierarchy).Both of above have to be reworked once the issue is resolved.</li></ul>Can you please re-check if it was LSA setup you captured the \"device config\" on M1?PLMK if you have the working get-modifications reverse config for LSA on M1, it would be helpful too.Just trying understand if this is a regression issue.ThanksSahithiHi Sahithi,Sorry, I do not have M1 setup. The one I accessed was CFP QA's.Hi Jason,Confirmed with CFP QA that this issue exists in LSA setup on M1 too. I understand this is not a regression issue and a new issue reported. As informed, we filed a RT on NSO platform and working with them on this.ThanksSahithiFixed with M3 release"
    },
    {
        "title": "[RONCFPSD-91] y1731-profile -- Needed y1731 profile profile having Probe type with packet",
        "description": "Hi,I am trying to configure y1731 with profile having Probe type option as Packet. Can you please give me the respective xml payload with all possible attibutes for y1731 profile having probe type with packet?",
        "comments": "Hi Arun,You can try out creating payloads from CNC or NSO UI .but here is sample :first create profile.set l2vpn-ntw y-1731-profile qa probe burst message-count 60set l2vpn-ntw y-1731-profile qa probe burst message-period 1000set l2vpn-ntw y-1731-profile qa delay-params statistic delay-two-wayThen add profile in L2nm service.ThanksPriyankaHi Priyanka,Thanks for the update.I would need the XML payload having probe type as Packet. this helps for automation purposes.i am able to create with NSO UI.but payload helpsThanks,Arun.M.GHi Arun,Please use NSO CLI and create XML from there.We have provided enough samples on detailed documentation wikis and now test team needs to try their own payload is what we recommend .Thanks,Priyankaplease provide commands to generate the XML from NCS CLI . Hi Arun,As discussed on chat :admin@ncs% show l2vpn-ntw | display xml<config xmlns=\"http://tail-f.com/ns/config/1.0\"> <l2vpn-ntw xmlns=\"urn:ietf:params:xml:ns:yang:ietf-l2vpn-ntw\">  <vpn-services>   <vpn-service>    <vpn-id>ARUN_XR_L2NM_EVPN</vpn-id>    <evi-id>1000</evi-id>    <evi-source>200</evi-source>    <evi-target>3000</evi-target>    <vpn-svc-type>vpn-common:evpn-bgp</vpn-svc-type>    <vpn-nodes>     <vpn-node>      <vpn-node-id>CNC-653</vpn-node-id>      <ne-id>CNC-653</ne-id>      <te-service-mapping>       <te-mapping>.......................--------Please refer to Ncs documentation for NCS hands on:{{admin@nso-192-24:/opt/ncs/current/doc/pdf$ lsdeployment.pdf        nso_cdm_migration_guide-5.5.2.9.pdf nso-esc.pdf             nso_lsa-5.5.2.9.pdf nso_northbound-5.5.2.9.pdfnso-5-ned-migr.pdf      nso-cdm.pdf             nso_getting_started-5.5.2.9.pdf   nso_man-5.5.2.9.pdf nso_user_guide-5.5.2.9.pdfnso_admin_guide-5.5.2.9.pdf nso_development-5.5.2.9.pdf     nso_installation_guide-5.5.2.9.pdf nso_ned-5.5.2.9.pdf nso_webui-5.5.2.9.pdfPlease read ncs user guide and admin guide for more hands on NSO .ThanksPriyankadone."
    },
    {
        "title": "[RONCFPSD-85] Unable to sync device if controller interface has configuration speed 400g-In NCS540",
        "description": "Unable to sync device if controller interface has configuration speed 400g-In NCS540admin@ncs% request devices device ron-ncs540-2 sync-from           result falseinfo ron-ncs540-2: invalid value for: speed in /ncs:devices/ncs:device/ncs:config/Cisco-IOS-XR-ifmgr-cfg:interface-configurations/Cisco-IOS-XR-ifmgr-cfg:interface-configuration/Cisco-IOS-XR-optics-speed-cfg:speed: \"400g\" is an invalid value.admin@ncs% request devices device ron-ncs540-2 check-sync result out-of-syncinfo got: 1000000149 expected: 1000000123admin@ncs% *** ALARM out-of-sync: got: 1000000149 expected: 1000000123Setup: 10.194.57.127 - nso38/Ovatest123@Device - 172.29.11.40 ",
        "comments": "Hi Ajitha,:<ol>\t<li>NSO version</li>\t<li>CFP build version</li>\t<li>Device type and version used for testing</li>\t<li>Add clear steps to reproduce an issue this includes details if some steps were done through NSO UI/CLI or through CNC UI, details on commit options used, order in which payloads were pushed, plan status in between, etc.</li>\t<li>All relevant payloads.</li>\t<li>NSO logs including trace if there was something pushed to the device</li>\t<li>In some cases, we\u2019d like to understand the use-case where we see users performing certain actions especially when some steps are done through NSO UI/CLI.</li></ol>Hi Ajitha,The issue was known and fixed but didn't make CNC 3.0 M6 release due to hardware availability. Please standby for the next release (RON 1.0 M4) where this issue is addressed and fixed.Linmao and I spoke to Ajitha and explained that the additional support for ncs-540 is done but was just not able to make RON 1.0 M3 (CNC 3.0 M6) release. She agreed to take a private build with the speed setting support for ncs-540 and will test it out.Followed up with Ajitha today for updates. She said she will get back to me after consuming M4 early buildFollowed up with Ajitha today regarding additional Speed Setting support on NCS-540 included in M4 build provided and was confirmed and verified. Moving this ticket to resolved and closing the case.09/30 - Followed up with Ajitha regarding additional speed setting support for NCS-540 that was included in RON 1.0 M4 build was tested and verified. Marking this ticket as resolved and closing."
    },
    {
        "title": "[RONCFPSD-123] Please remove the CS SR-TE from TSDN 4.0.0 - M2 - Model and Payload Changes",
        "description": "From - the CS SR-TE section found with Yang file and Sample Payload. Please remove this section as the CS is no longer part of 4.0 ",
        "comments": "Hi Quy,I will take care of this.Thanks,Isaac KimDone"
    },
    {
        "title": "[RONCFPSD-52] RON ML service creation throws error message with correct payload",
        "description": "Setup: Crosswork Platform -163 , COE -134 , CNC -131 , ONC CAPP - w-na-onc-1.1.0-673-test-210726-EXTERNAL-CB2.3.tar.gz , NSO - 5.5.2.3 M4Crosswork/ONC CAPP: 10.195.165.76 - UI: admin/Admin*12345 - CLI: cw-admin/Ovatest123@NSO - 10.195.165.211 - nso210/nso210Creating RON ML service with attached payload which worked well earlier and has valid service name. But NSO throws below error message,RPC error towards onc-real-new: operation_failed: Exception in callback: Missing valid value for name-type SERVICE_NAME for Connectivity service with UUID:. Valid value shall contain alpha numeric with only underscore as the special character with length up to 64 characters.Interlayer link:P-BOTTOMLEFT-VXR- 0/0/0/3- ROADM_SITE3- 1/2003/2/30,29P-BOTTOMRIGHT-VXR- 0/0/0/3- ROADM_SITE10- 1/2018/1/28,27Looks like a defect. Kindly help troubleshoot further",
        "comments": " Reached out to Ajitha for troubleshoot session but she was not available.Asked Ajitha to delete the deployed service and try again, but again its the same error. Tried different sips still same error. Will troubleshoot further. Do we know what is the payload sent to the ONC ? do you have device ned log ? Hey Sri, Payload is attached to the ticket. I think logs will be available. She has provided the setup details in descriptionHi Ajitha,Lets connect again once you are available, so that we can troubleshoot this together. It seems like some issue with the sips you are using. ThanksHi Ajitha,As discussed we were able to troubleshoot the issue and find out the root cause for the above issue. It seems like creating the service with same name BL3toBR3 throws that same error everytime. It is removed from NSO but somehow still exist in ONC. Kindly see attachments. We were able to deploy the same payload with different name and it works fine.Kindly work with ONC team how this can be removed.I will be closing this ticket as you have already raised a CDET for this and will redirect it to ONC team.Thanks,Mohit B$ curl --location --request GET 'http://10.195.165.76:30603/crosswork/onc-tapi/restconf/data/tapi-common:context/tapi-connectivity:connectivity-context/connectivity-service/?fields=name(value-name;value);uuid;administrative-state;operational-state;lifecycle-state;connection' --header 'Accept: application/yang-data+json' --header 'Authorization: Basic YWRtaW46QWRtaW4qMTIzNDU=' -k{ \"tapi-connectivity:connectivity-service\": [ { \"uuid\": \"049e66d5-e1fb-315f-b246-7d12781fc200\", \"connection\": [ { \"connection-uuid\": \"4d0eb749-940a-34ec-8868-8d0ea2a95e49\" }, { \"connection-uuid\": \"7a75608d-a1e2-3577-8d45-b34c5bf596d3\" } ], \"name\": [ { \"value-name\": \"SERVICE_NAME\", \"value\": \"2\" } ], \"administrative-state\": \"UNLOCKED\", \"operational-state\": \"DISABLED\", \"lifecycle-state\": \"INSTALLED\" }, { \"uuid\": \"3e43dfed-da22-37ff-8a70-1fa1c92977ea\", \"connection\": [ { \"connection-uuid\": \"0c504cae-7c62-3828-bb6a-b2deea1a6be5\" }, { \"connection-uuid\": \"7a13c323-26f6-3a94-a72b-af86135af0b2\" } ], \"name\": [ { \"value-name\": \"SERVICE_NAME\", \"value\": \"Neel_ronml_sr\" } ], \"administrative-state\": \"UNLOCKED\", \"operational-state\": \"DISABLED\", \"lifecycle-state\": \"INSTALLED\" }, { \"uuid\": \"a132d136-b0ff-365e-953f-65c1b675f552\", \"connection\": [ { \"connection-uuid\": \"56829965-be33-3d3a-a0f4-64cae3c67068\" }, { \"connection-uuid\": \"eb484e7d-9181-326b-ab89-312e720b8d47\" } ], \"name\": [ { \"value-name\": \"SERVICE_NAME\", \"value\": \"BL3toBR3\" } ], \"administrative-state\": \"UNLOCKED\", \"operational-state\": \"DISABLED\", \"lifecycle-state\": \"INSTALLED\" }, { \"uuid\": \"efae3ee7-8328-3408-83c5-acc249c653dc\", \"connection\": [ { \"connection-uuid\": \"0c93d428-9ebc-3335-b874-1c4081b5f1b1\" }, { \"connection-uuid\": \"f2df4efa-c28c-38cd-8f9e-d2ef31efbc5d\" } ], \"name\": [ { \"value-name\": \"SERVICE_NAME\", \"value\": \"bl2tobr2\" } ], \"administrative-state\": \"UNLOCKED\", \"operational-state\": \"DISABLED\", \"lifecycle-state\": \"INSTALLED\" } ]}Nso lookup says service deleted------------admin@ncs% run show ron ron-service-lookup RON ML OPTICALSERVICE SERVICE CONTROLLER-------------------------------------------------------------------3e43dfed-da22-37ff-8a70-1fa1c92977ea Neel_ronml_sr onc-real-newefae3ee7-8328-3408-83c5-acc249c653dc bl2tobr2 onc-real-new"
    },
    {
        "title": "[RONCFPSD-46] Chicken and the egg problem in appending / prepending route policies ",
        "description": "I want to use the policy append/prepend statements in route policydefinition \u00a0\u00a0<l3vpn-route-policy\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0xmlns=>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<name>L3VPN_NM-SRTE-ODN-PE-A-44</name>\u00a0\u00a0\u00a0\u00a0\u00a0<color>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<id>44</id>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<ipv4>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<prefix>40.40.44.0/30</prefix>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0</ipv4>\u00a0\u00a0\u00a0\u00a0\u00a0</color>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<extra-policy>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<name>L3VPN_NM-SRTE-ODN-PE-A-45</name>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<operation>append</operation>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<address>both</address>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 </extra-policy>\u00a0\u00a0\u00a0 </l3vpn-route-policy>\u00a0The thing is that policy \u00a0I append/prepend has to be on the device,because otherwise I get this error \u00a0<errorsxmlns=\"urn:ietf:params:xml:ns:yang:ietf-restconf\">\u00a0\u00a0\u00a0 <error>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<error-type>application</error-type>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<error-tag>malformed-message</error-tag>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<error-path></error-path>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 <error-message>RPCerror towards PE-C: operation_failed: for ns2:vrfs/ns2:vrf[vrf-name ='L3VPN_NM-SRTE-ODN-40']/ns2:afs/ns2:af[af-name = 'ipv4' and saf-name ='unicast' and topology-name = 'default']/ns1:bgp/ns1:export-route-policy:Verify failed for policy: Policy usespolicy . must be definedbefore can be attached.</error-message>\u00a0\u00a0\u00a0 </error></errors>\u00a0On the other hand, I dont have a manner to create the route policy onthe device without creating VPN service .This leads to a conclusion that I can not create policies I want toappend/prepend through NSO, but only using CLI. As far as I see it, this is a problem !",
        "comments": "Are you able to use custom-template to resolve this issue? You can refer to flow here: Hi Yevgeny, did the custom-templates resolve your issue?Closing ticket due to no response from submitter"
    },
    {
        "title": "[RONCFPSD-527] Need help on configure NSO HA (L2) on GEO-HA setup ",
        "description": "Please help us to configure NSO HA on GEO-HA lab setup where we only use DNS to point to the primary instead of VIPThanks and regards.",
        "comments": "Hi Quy, We had helped configuring an L2 setup in your lab. If no other request pending, I'd like to close this ticket. You can always open a new ticket as needed.Regards,VanThank you. Please close the ticket.Regards.Setup completed."
    },
    {
        "title": "[RONCFPSD-241] While deleting the devices from NSO, getting this error \"illegal reference 'core-fp-delete-shutdown-service R1 GigabitEthernet 0/0/0/4 device'\"",
        "description": "Though there are no zombies in NSO and when we try to delete the devices from NSO , get this error \" \"illegal reference 'core-fp-delete-shutdown-service R1 GigabitEthernet 0/0/0/4 device'\"NSO logs - /auto/ncahi/Users/kbhateja/cw/data_042822_123350.tgz",
        "comments": "Hi, KritikaI looked the logs but still don't see any root cause to this issue. Wondering there is service that referred to this device and then you delete the devices?Can you provide the steps that cause this issue?Thanks,LinhHi Linh,The steps that we are doing is - 1. Creating CNC policy (SR, L3VPN)2. Updating the policy created in step-1.3. Deleting the policy.Now sometimes in step-3 , we get the zombies created on NSO. The created zombies are cleaned by re-deploy, resurrect or cleanup command.Later on when we try to delete the devices from NSO , the error \"illegal reference 'core-fp-delete-shutdown-service R1 Gigabit Ethernet 0/0/0/4 device'\" is seen. Thanks,KritikaAlso attaching the configs that are pushed to the device while creation of policy. Hi Kritika,You created two services in step 1 (SR-Policy and L3VPN) and step 3 you ONLY delete one service which is SR-Policy. L3VPN service is still exist and then you delete devices. NSO CDB still has dangling reference to interface GigabitEthernet 0/0/0/4 which defined in L3VPN service. You should delete L3VPN service before deleting devices. The best practice is when deleting devices, you should do a commit dry-run to see if there is still reference to devices from some services. If there is then you go back and delete then service first then delete the devicesSo it seems the issue occurs when improper action is performed.Thanks,LinhHi Linh,Actually we are creating a policy and deleting it before creating another policy.Also we are making sure to delete all policies and clean the zombies before deleting the devices from NSO but still hitting the issue.Thanks,KritikaHi Kritika,Please try do reproduce this issue again with proper steps. If it still happens then we could have webex to debug it.Thanks,Linh"
    },
    {
        "title": "[RONCFPSD-255] Provisioning service on XRD throws \"External error in the NED implementation\"",
        "description": "Hi-Provisioning service on XRD throws below error message.Fri May 13 17:16:38 IST 2022:DEBUG: << \"    \"error-message\": \"External error in the NED implementation for device xrd-6: config exclusive: config exclusiveFri May 13 11:46:30.782 UTC\"\"admin@ncs> show devices listNAME        ADDRESS    DESCRIPTION NED ID        ADMIN STATE--------------------------------------------------------------------------------TB3-P-BOTTOMLEFT  172.27.226.53 -      cisco-iosxr-cli-7.39 unlockedTB3-P-BOTTOMRIGHT 172.27.226.54 -      cisco-iosxr-cli-7.39 unlockedTB3-P-TOPLEFT   172.27.226.51 -      cisco-iosxr-cli-7.39 unlockedTB3-P-TOPRIGHT   172.27.226.52 -      cisco-iosxr-cli-7.39 unlockedTB3-PE-A      172.27.226.55 -      cisco-iosxr-cli-7.39 unlockedTB3-PE-B      172.27.226.56 -      cisco-iosxr-cli-7.39 unlockedTB3-PE-C      172.27.226.57 -      cisco-iosxr-cli-7.39 unlockedTB3-PE-D      172.27.226.93 -      cisco-iosxr-cli-7.39 unlockedTB3-PE-E      172.27.226.94 -      cisco-iosxr-cli-7.39 unlockedxrd-1       192.168.5.17  -      cisco-iosxr-cli-7.39 unlockedxrd-2       192.168.5.18  -      cisco-iosxr-cli-7.39 unlockedxrd-3       192.168.5.19  -      cisco-iosxr-cli-7.39 unlockedxrd-4       192.168.5.20  -      cisco-iosxr-cli-7.39 unlockedxrd-5       192.168.5.21  -      cisco-iosxr-cli-7.39 unlockedxrd-6       192.168.5.22  -      cisco-iosxr-cli-7.39 unlockedxrd-7       192.168.5.23  -      cisco-iosxr-cli-7.39 unlockedxrd-8       192.168.5.24  -      cisco-iosxr-cli-7.39 unlocked",
        "comments": "hi NSO team, please hold off on this issue as this is only a private build for M6. But if this is a known issue please let us know. Thanks and best regards.Closing this as its a duplicate of .ThanksSahithi"
    },
    {
        "title": "[RONCFPSD-533] RONCFPSD-532 - CFS - reporting illegal reference device sync for TM-TC Packages",
        "description": "Following with the below JIRA ticket: As we don't have an option to re-open the ticket, Opening the new one to track the same issue as removing TM-TC package from the system to provision the services is not an acceptable work around. Until we get the closure for this issue, Please keep the ticket open and let us know the right component to track the issue in the CDETS. ",
        "comments": "created which is having the fix related toncs-6.1.2-cisco-tm-tc-fp-cfs-ned-1.0.tar.gz ;ncs-6.1.2-cfs-cisco-tm-tc-fp-6.0.0-35.tar.gz in CFS node Hello Krishnaraj,We have scanned the logs for any obvious symptoms, but there are no obvious errors. We did observe some kicker and read/write conflict errors, but there is no details in the trace so we cannot come to any conclusion as of yet.Having a live setup with the reproduced error would be the ideal scenario and RCA can be done much faster due to the context we can observe on your setup. I would suggest to continue testing setup with TMTC package and contact a TMTC team member with the live setup details once reproduced.In the meantime, we will continue to parse the logs to see if we can find anything.Thanks,Isaac Kim"
    },
    {
        "title": "[RONCFPSD-269] delete device crashes NSO in scale setup",
        "description": "I have a CNC 3.0 TSDN setup with NSO 5.5.2.9. It has 25K devices. I want to delete these devices, since migration is taking time. I tried deleting 25K devices. It took 1 hour 5 mins for the response. When i committed the change, NSO is restarted. I tried this twice. Can you help me to delete these devices starting with Node_*setup : 172.20.63.189 - cnctest/Ovatest123@",
        "comments": "Hello, just to help isolate the crash through logs, approximately what day and time did you encounter the crash? Doesnt have to be exact, but can help me filter through other error logs. Also just want to confirm you are committing through CNC WebUI when you encounter the crash.Thanks,Isaac KimHi Isaac, Ramakrishna has signed-off for the day. He has tried this today IST day time. Not sure how the commit was done. FYI.Thanks,Sreedhar.Thank you, I will try to go off of this.I will post update if I find anything.Thanks,Isaac KimHi as requested to help with device deletion, can I try to delete Node_101_1 device to see behavior? There seems to be connection timeout with Node_X devices.Thanks,Isaac KimYes. Please go ahead and delete all nodes with Node_X. These are sheer simulator nodes and don't have network connectivity directly to NSO. They are reachable to DLM only.Seems like deleting device Node_101_1 was successful, but seems like dependency validation took much longer than expected (253.609s).Hi,When deleting devices in batches of Node_10X and Node_11X, there is some delay but it goes through fine. When deleting devices in bulk (all), I have observed the crash. Whats strange is that there is no indication of a NSO crash as there is no NSO crash dump logs.In any case, NSO crash is not acceptable. But not sure if this crash is due to resource overload or due to some NSO internal mechanism. This is definitely not a CFP issue, so I will have to raise an NSO platform RT for further investigation.In the meantime, to move forward with your device cleanup, I would suggest to delete the devices in batches. I would try 1K devices first and if that crashes NSO then 500. Unfortunately, with no crash logs, there is nothing to indicate what is source of crash.I will post an update here when the RT is created.Thanks,Isaac KimI tried deleting the devices only through ncs_cli. \"no device Node_*\" , and \"commit\"Hello Rama, because there is no crash log from NSO upon crash, we suspect that the process was immediately killed for some reason. Maybe due to resource overload or some other system related cause. To verify NSO's capability in this scenario,our QA team has cloned your CDB and executed a bulk device delete (all devices) and NSO did not crash despite taking 1 hour 15 minutes for the delete to complete. For consistency, they have run through this scenario two times and encountered no crash.QA has recommended to try to switch to different vm and esxi. At this point we believe NSO crash is related to system, not NSO itself.Please let me know if this recommendation works. If not, we can discuss further!Thanks,Isaac KimWhen i delete device (bulk) as such, NSO return the prompt after 1 hour, plus few minutes. Only when commit is issued, i see the crash. Did they try with commit as well?Hi Rama, I apologize for the late update.I have been able to reproduce your crash upon commit. We have tried to look for the source of crash, but there is no evidence in any system logs or NSO crash dump logs.In this case, I will be creating a platform ticket so that the platform team can take a look. Once the ticket is raised, I will update this comment section.Thanks,Isaac KimHi Rama, I have filed the ticket with platform team with reproduction setup. I will update you if we hear back from them.Thanks,Isaac KimHi Rama, apologies for the late reply.The NSO platform team have found two relevant issues in regards to the bulk delete NSO crash issue. Both have been fixed starting NSO 5.5.3 and NSO 5.7.4.Because this issue stems from resource overload (combination of host system and NSO causing crash), the workaround for TSDN 3.0 is to delete devices in batches (commit each batch).Thanks,Isaac Kim"
    },
    {
        "title": "[RONCFPSD-282] RFS nodes gets only 12520+16 nodes after attaching to 25K node CW scale setup",
        "description": "Added new NSO LSA to CW which have 25K nodes. After more than half a day, RFS1 learnt only 12520 nodes and RFS2 have 16 nodes.RFS1 - 172.20.63.144 - 12520 DevicesRFS2 - 172.20.63.145 - 16 DevicesCFS - 172.20.63.143All NSO Logins : cnctest/Ovatest123@CW/CNC : 172.20.63.202 (cw-admin/admin/Ovatest123@)Kindly check and help resolve the issue. Both RFS nodes should combinely should get 25K nodes. (in earlier versions using NSO standard mode, it use to always work in few hours)",
        "comments": "Hi Sreedhar,Could you please share what exact steps you performed?ThanksPriyankaHi Sreedhar,I do not see any issue with NSO at this point .CFS is showing the correct number of nodes it fetched from RFS nodes.Please check with the CW/CNC team about this not reflecting on NSO.ThanksPriyankaHi Priyanka,After raising case, have realized that I did'nt edit the NSO sync policy in CW under DLM before adding NSO's to CW. I have removed the NSO's from CW now and will edit the NSO sync policy and re-add NSO's under provider page. If still see same issue, will update the case.Steps done were - NSO LSA setup earlier has only xrv9k's devices (around 32) which was learnt from DLM when added to previous CW setup. Then using script we have increased VPN services to 300K, while NSO is not added to any CW. Now in the current CW setup which also have 25K sheer nodes, added NSO's under provider. After half a day, when noticed RFS nodes - we only have 12520 (RFS1) + 16 (RFS2) nodes learnt. It was in same state from more than a day. From DLM, could see all 25K nodes have RFS entries split across 50% each.Thanks,Sreedhar.Hi ,Repeated this test after setting LSA mode in CW. Still same issue. Looks like RFS2 there is no sync of devices happened. So is this issue with DLM sync ? Any logs from NSO showing sync from CW is not happening to this RFS, will be helpful to reach right team. (either CW/CNC)Thanks,Sreedhar.Yes please follow up with DLM team.ThanksPriyanka"
    },
    {
        "title": "[RONCFPSD-296] L2VPN dry-run failed with PASS_ALL is not allowed as parent route policy name",
        "description": "Steps:1. Provision L2VPN with ODN attached. 2. Set parent-rr-route-policy = PASS_ALL3. Do Dry-run  It failed with PASS_ALL is not allowed error. See screenshot for complete message.Is this expected?Note: Tried parent-rr-route-policy with different values such as PASS, PASS1. Both worked fine.payload and screenshot attached.",
        "comments": " Screenshot from wiki Hi Crystal ,Please check the Release wiki for M7 .<ul>\t<li>PASS_ALL\" is a reserved policy name for CNC, therefore it is not allowed as L2 parent-rr-route-policy.*ThanksPriyanka</li></ul>"
    }
]